{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/modules/tooltip.vue?37be","webpack:///./src/components/pages/documentation.vue?9af0","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/modules/notification-bar.vue?40bd","webpack:///./src/plugins/vuetify.js","webpack:///./src/plugins/chat-hub.js","webpack:///./src/constants.js","webpack:///./src/components/index.vue?b4fb","webpack:///src/components/index.vue","webpack:///./src/components/index.vue?004c","webpack:///./src/components/index.vue","webpack:///./src/components/modules/login.vue?6441","webpack:///./src/store/index.js","webpack:///./src/mixins/console.js","webpack:///./src/mixins/authentication.js","webpack:///src/components/modules/login.vue","webpack:///./src/components/modules/login.vue?55a3","webpack:///./src/components/modules/login.vue","webpack:///./src/components/modules/register.vue?b532","webpack:///src/components/modules/register.vue","webpack:///./src/components/modules/register.vue?54f3","webpack:///./src/components/modules/register.vue","webpack:///./src/components/home.vue?ed66","webpack:///./src/components/modules/menu.vue?81e3","webpack:///./src/mixins/module.js","webpack:///src/components/modules/menu.vue","webpack:///./src/components/modules/menu.vue?05c8","webpack:///./src/components/modules/menu.vue","webpack:///./src/components/modules/notification-bar.vue?af9b","webpack:///src/components/modules/notification-bar.vue","webpack:///./src/components/modules/notification-bar.vue?7514","webpack:///./src/components/modules/notification-bar.vue","webpack:///src/components/home.vue","webpack:///./src/components/home.vue?d5bc","webpack:///./src/components/home.vue","webpack:///./src/components/pages/start.vue?ae9f","webpack:///src/components/pages/start.vue","webpack:///./src/components/pages/start.vue?c5f8","webpack:///./src/components/pages/start.vue","webpack:///./src/components/pages/profile.vue?5ec9","webpack:///src/components/pages/profile.vue","webpack:///./src/components/pages/profile.vue?ba0a","webpack:///./src/components/pages/profile.vue","webpack:///./src/components/pages/admin-tools.vue?eaf9","webpack:///./src/axios.js","webpack:///./src/services/auth.js","webpack:///./src/services/modules.js","webpack:///./src/helpers/jwt.js","webpack:///./src/factories/dispatchFactory.js","webpack:///src/components/pages/admin-tools.vue","webpack:///./src/components/pages/admin-tools.vue?588c","webpack:///./src/components/pages/admin-tools.vue","webpack:///./src/components/pages/chat-messaging.vue?b1af","webpack:///./src/components/modules/chat/chat-conversation.vue?d721","webpack:///./src/components/modules/chat/chat-bubble.vue?325b","webpack:///src/components/modules/chat/chat-bubble.vue","webpack:///./src/components/modules/chat/chat-bubble.vue?038c","webpack:///./src/components/modules/chat/chat-bubble.vue","webpack:///./src/components/modules/chat/chat-avatar.vue?cc28","webpack:///src/components/modules/chat/chat-avatar.vue","webpack:///./src/components/modules/chat/chat-avatar.vue?9f7e","webpack:///./src/components/modules/chat/chat-avatar.vue","webpack:///./src/services/chat.js","webpack:///src/components/modules/chat/chat-conversation.vue","webpack:///./src/components/modules/chat/chat-conversation.vue?064c","webpack:///./src/components/modules/chat/chat-conversation.vue?6679","webpack:///./src/components/modules/chat/chat-badge.vue?84a0","webpack:///src/components/modules/chat/chat-badge.vue","webpack:///./src/components/modules/chat/chat-badge.vue?712b","webpack:///./src/components/modules/chat/chat-badge.vue","webpack:///src/components/pages/chat-messaging.vue","webpack:///./src/components/pages/chat-messaging.vue?5e06","webpack:///./src/components/pages/chat-messaging.vue","webpack:///./src/components/pages/browser.vue?d4e6","webpack:///./src/services/file-explorer.js","webpack:///./src/components/modules/file-explorer.vue?f87d","webpack:///./src/components/modules/tooltip.vue?ae56","webpack:///src/components/modules/tooltip.vue","webpack:///./src/components/modules/tooltip.vue?c9ca","webpack:///./src/components/modules/tooltip.vue?8e7a","webpack:///./src/components/modules/file-upload.vue?f9f8","webpack:///./src/helpers/browser.js","webpack:///src/components/modules/file-upload.vue","webpack:///./src/components/modules/file-upload.vue?0af2","webpack:///./src/components/modules/file-upload.vue","webpack:///src/components/modules/file-explorer.vue","webpack:///./src/components/modules/file-explorer.vue?140a","webpack:///./src/components/modules/file-explorer.vue?ae98","webpack:///./src/components/modules/viewers/file-viewer.vue?e8f7","webpack:///src/components/modules/viewers/file-viewer.vue","webpack:///./src/components/modules/viewers/file-viewer.vue?7ad0","webpack:///./src/components/modules/viewers/file-viewer.vue?4235","webpack:///./src/components/modules/viewers/video-player.vue?57e3","webpack:///src/components/modules/viewers/video-player.vue","webpack:///./src/components/modules/viewers/video-player.vue?14fe","webpack:///./src/components/modules/viewers/video-player.vue","webpack:///./src/components/modules/viewers/text-viewer.vue?4960","webpack:///src/components/modules/viewers/text-viewer.vue","webpack:///./src/components/modules/viewers/text-viewer.vue?5bf8","webpack:///./src/components/modules/viewers/text-viewer.vue","webpack:///./src/components/modules/viewers/image-viewer.vue?9068","webpack:///src/components/modules/viewers/image-viewer.vue","webpack:///./src/components/modules/viewers/image-viewer.vue?48c5","webpack:///./src/components/modules/viewers/image-viewer.vue","webpack:///src/components/pages/browser.vue","webpack:///./src/components/pages/browser.vue?9a46","webpack:///./src/components/pages/browser.vue","webpack:///./src/components/pages/notes.vue?7d1b","webpack:///./src/services/note.js","webpack:///./src/components/modules/note-editor.vue?a864","webpack:///src/components/modules/note-editor.vue","webpack:///./src/components/modules/note-editor.vue?9607","webpack:///./src/components/modules/note-editor.vue","webpack:///src/components/pages/notes.vue","webpack:///./src/components/pages/notes.vue?3f7a","webpack:///./src/components/pages/notes.vue","webpack:///./src/components/pages/documentation.vue?9a75","webpack:///src/components/pages/documentation.vue","webpack:///./src/components/pages/documentation.vue?51ed","webpack:///./src/components/pages/documentation.vue?48ef","webpack:///./src/components/modules/doc.vue?178e","webpack:///src/components/modules/doc.vue","webpack:///./src/components/modules/doc.vue?1dc3","webpack:///./src/components/modules/doc.vue","webpack:///./src/components/pages/weight.vue?0608","webpack:///./src/services/weight.js","webpack:///src/components/pages/weight.vue","webpack:///./src/components/pages/weight.vue?5e1d","webpack:///./src/components/pages/weight.vue","webpack:///./src/components/pages/library.vue?ab5f","webpack:///./src/components/modules/library/dependency-editor.vue?bc00","webpack:///./src/helpers.js","webpack:///src/components/modules/library/dependency-editor.vue","webpack:///./src/components/modules/library/dependency-editor.vue?ac24","webpack:///./src/components/modules/library/dependency-editor.vue","webpack:///./src/components/modules/library/book-dialog.vue?be24","webpack:///src/components/modules/library/book-dialog.vue","webpack:///./src/components/modules/library/book-dialog.vue?05ec","webpack:///./src/components/modules/library/book-dialog.vue","webpack:///src/components/pages/library.vue","webpack:///./src/components/pages/library.vue?6841","webpack:///./src/components/pages/library.vue","webpack:///./src/routes.js","webpack:///./src/router.js","webpack:///./src/App.vue?f890","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/modules/file-upload.vue?c50b","webpack:///./src/components/modules/viewers/video-player.vue?3ae3","webpack:///./src/components/modules/file-explorer.vue?5df7","webpack:///./src/components/modules/chat/chat-bubble.vue?4c65","webpack:///./src/components/modules/note-editor.vue?6cd9","webpack:///./src/components/pages/weight.vue?c022","webpack:///./src/components/modules/chat/chat-conversation.vue?d8e6","webpack:///./src/components/modules/viewers/file-viewer.vue?6023"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","Vue","use","Vuetify","icons","iconfont","install","connection","HubConnectionBuilder","withUrl","process","configureLogging","LogLevel","Information","build","chatHub","$chatHub","on","message","$emit","receipt","startedPromise","start","catch","err","console","error","Promise","reject","setTimeout","then","onclose","Roles","Name","Admin","Elevated","General","Default","None","Level","RefreshTokenTimer","_vm","this","_h","$createElement","_c","_self","staticClass","_v","$route","env","attrs","_e","staticRenderFns","component","model","callback","$$v","expression","ref","valid","rules","username","form","$set","passwordOn","password","$event","btnClicked","preventDefault","login","Vuex","Store","state","mutations","actions","methods","$_console_log","messages","$_console_group","header","$_auth_checkLogin","ConMsgs","store","auth","isAuthorize","$router","replace","query","redirect","$_auth_login","$store","dispatch","resp","$_auth_register","$_auth_logout","$_auth_convertRole","role","forEach","val","index","VAlert","VBtn","VContainer","VForm","VTextField","success","_s","passwordConfirmOn","confirmPassword","getRoleList","register","VSelect","fullPath","staticStyle","getDrawerHeight","drawer","_l","routes","child","authorized","meta","hidden","display","stopPropagation","directives","rawName","$vuetify","breakpoint","maxMenuItems","numNewMessages","scopedSlots","_u","fn","_g","menu","avatarPath","user","displayName","$_module_userHasModule","getters","getActiveModules","obj","find","x","relative","VAppBar","VAppBarNavIcon","VAvatar","VBadge","VCard","VDivider","VIcon","VImg","VList","VListItem","VListItemContent","VListItemTitle","VMenu","VNavigationDrawer","VSpacer","VToolbarItems","VToolbar","sheet","class","getMessageBackground","read","deleteMessage","proxy","messageHasGroupNum","group","num","getTextColor","readMessage","text","VBanner","VBottomSheet","VSheet","uploadAvatarImage","editDisplayName","type","indexOf","_k","keyCode","updateDisplayName","newDisplayName","VCardText","VCardTitle","VFlex","VLayout","selectedUserPosition","item","selectedModulePosition","addModuleToUser","userHasModule","selectedModule","addFeatureToUser","userHasFeature","API_URL","ax","axios","baseURL","headers","defaults","timeout","interceptors","request","config","credential","accessToken","common","response","router","app","signinUrl","signoutUrl","refreshTokenUrl","registerUrl","getUsersUrl","getAllOtherUsersUrl","updateAvatarImageUrl","updateDisplayNameUrl","signin","post","codeChallenge","signout","refreshToken","token","getUsers","getAllOtherUsers","file","getAllModulesUrl","getModulesForUserUrl","getAllModulesForAllUserUrl","getUserModulesAndFeaturesUrl","addModuleToUserUrl","deleteModuleFromUserUrl","addFeatureToUserUrl","deleteFeatureFromUserUrl","getModulesForUser","getAllModules","getAllModulesForAllUser","getModulesAndFeaturesForUser","getAllFeaturesForAllUser","getAllFeaturesForAllUserUrl","deleteModuleFromUser","deleteFeatureFromUser","requiresRefresh","parsedJwt","parse","time","Date","getTime","exp","JSON","atob","split","instance","DispatchFactory","queue","gettingToken","getRefreshToken","promiseList","all","processQueue","VListItemGroup","VListItemIcon","isMobile","hideMobile","userList","isLoading","search","newConversation","startConversation","Array","isArray","conversations","convo","selectedConversation","title","conversation","currentTime","shouldShowConversation","closeConversation","deleteConversationDialog","deleteConversation","moreInfoDialog","moreInfo","timestamp","goBack","editingTitle","updateTitle","newTitle","mobile","style","height","bodyContainerHeight","setMessageHover","isOwner","openMoreInfo","isLastReadMessage","sendMessage","newMessage","getFlexDirection","attr","getColor","timeSince","_t","conversationUsers","friendHasAvatar","maxSize","getFriendColor","getTextSize","getFriendAvatarText","StartConversationUrl","GetConversationUrl","GetAllConversationsUrl","GetAllNewMessagesForConversationsUrl","UpdateConversationTitleUrl","DeleteConversationUrl","GetMessagesForConversation","DeleteMessageUrl","GetMessageUrl","SendMessageUrl","ReadMessageUrl","getConversation","getAllConversations","getAllNewMessagesForConversations","updateConversationTitle","conversationId","url","method","getMessagesForConversation","messageId","getMessage","readMessageList","messageIds","VCardActions","VCol","VDialog","VRow","VToolbarTitle","unreadMessages","VAutocomplete","goFile","loadFile","dialogOpen","browserGo","mediaTypes","video","slot","path","image","LoadDirectoryUrl","FileListUrl","GetFileUrl","DeleteUploadUrl","UploadFilesUrl","loadDirectory","dir","subDir","getFile","params","getFolderList","deleteFile","folder","subFolder","Directory","SubDirectory","uploadFile","features","upload","folders","selectedDirectory","getDownloadPath","getIcon","xsOnly","open","size","getFileSize","deleteItem","VTooltip","uploadFiles","setFiles","getSubdirectoryString","subDirs","formData","append","VListItemAction","VListItemAvatar","VOverlay","VProgressCircular","getMaxWidth","dialog","goForward","line","letter","getPath","getMaxHeight","next","toHasSubDir","toBasePath","to","substring","firstIndex","toSubDirs","fromHasSubDir","fromBasePath","from","fromSubDirs","note","deleteOld","updateNote","modifyOld","deleteNew","addNew","modifyNew","GetAllNotesUrl","GetNotesUrl","CreateNotesUrl","UpdateNotesUrl","DeleteNotesUrl","getAllNotes","getNotes","deleteNote","createNote","topic","section","paragraph","headerText","weight","addOrEditWeight","submitText","openAddOrEditWeight","weightLossCss","avgWeightLossWeek","totalWeightLoss","_b","filterStartDate","filterStartDateMenu","filterEndDate","filterEndDateMenu","getHeaders","filteredWeightList","items","getDate","created","notes","GetWeightUrl","AddWeightUrl","EditWeightUrl","DeleteWeightUrl","getWeightList","deleteWeight","addWeight","editWeight","VDataTable","VDatePicker","dependencyEditorDialogOpen","closeDependencyEditorDialogWindow","bookDialogOpen","activeBook","loadingBook","closeBookDialogWindow","openAddOrEditBookDialog","bookSearch","bookList","getTitle","bookAuthors","bookAuthor","author","fullName","edition","bookGenre","genre","getPublicationDate","publicationDate","getBookcaseName","hasSeriesInfo","series","seriesNumber","number","deleteBook","maxModalWidth","activeType","addObject","typeList","activeObject","typeConsts","Author","Bookcase","Series","Shelf","selectedObject","validated","required","bookcaseList","updateObject","deleteObject","getNewBookcase","getNewSeries","active","getNewShelf","getNewAuthor","firstName","lastName","deceased","padTwo","VCheckbox","VTab","VTabs","addEditDialogTitle","filteredAuthorList","authorIsLoading","authorSearch","addAuthorToBook","authorToAdd","authors","deletingAuthor","fromAutocomplete","deleteAuthor","genreList","genreToAdd","addGenreToBook","genres","deletingGenre","deleteGenre","seriesList","seriesIsLoading","seriesSearch","deleteSeries","addSeries","bookcase","bookcaseIsLoading","bookcaseSearch","deleteBookcase","shelf","filteredShelfList","shelfIsLoading","shelfSearch","deleteShelf","addShelf","addBookcase","addOrUpdateBook","VCombobox","Index","authLevel","children","Login","Register","Home","Start","Profile","AdminTools","Chat","Browser","Notes","Documentation","Doc","Weight","Library","VueRouter","beforeEach","level","Auth","Module","VApp","VueCookie","Moment","ChatHub","FontAwesomeIcon","mixin","sync","productionTip","vuetify","render","h","App","$mount"],"mappings":"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","file":"js/app.24bc7d2a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tooltip.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentation.vue?vue&type=style&index=0&lang=css&\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notification-bar.vue?vue&type=style&index=0&id=64cf46a3&scoped=true&lang=css&\"","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  icons: {\n    iconfont: 'fa',\n  },\n});\n","\"use strict\"\r\n\r\nimport { HubConnectionBuilder, LogLevel } from '@aspnet/signalr'\r\n\r\nexport default {\r\n    install(Vue) {\r\n        const connection = new HubConnectionBuilder()\r\n            .withUrl(`${process.env.API_URL}/chat-hub`)\r\n            .configureLogging(LogLevel.Information)\r\n            .build()\r\n\r\n        // use new Vue instance as an event bus\r\n        const chatHub = new Vue()\r\n        // every component will use this.$chatHub to access the event bus\r\n        Vue.prototype.$chatHub = chatHub\r\n        // Forward server side SignalR events through $chatHub, where components will listen to them\r\n        connection.on('SendMessage', message => {\r\n            chatHub.$emit('message-received', message)\r\n        })\r\n        connection.on('ReadMessage', receipt => {\r\n            chatHub.$emit('read-receipt-received', receipt)\r\n        })\r\n\r\n        let startedPromise = null\r\n        function start() {\r\n            startedPromise = connection.start().catch(err => {\r\n                console.error('Failed to connect with hub', err)\r\n                return new Promise((resolve, reject) =>\r\n                    setTimeout(() => start().then(resolve).catch(reject), 5000))\r\n            })\r\n            return startedPromise\r\n        }\r\n        connection.onclose(() => start())\r\n\r\n        start()\r\n\r\n        return connection;\r\n    }\r\n}\r\n","export const Roles = {\r\n    Name: {\r\n        Admin: 'Administrator',\r\n        Elevated: 'Elevated',\r\n        General: 'User',\r\n        Default: '',\r\n        None: 'None',\r\n    },\r\n    Level: {\r\n        Admin: 3,\r\n        Elevated: 2,\r\n        General: 1,\r\n        Default: 0,\r\n        None: -2,\r\n    }\r\n}\r\n\r\nexport const Admin = {\r\n    RefreshTokenTimer: 60 * 1000,\r\n}\r\n\r\nexport const Delay = {\r\n    \"1\": 10,\r\n    \"2\": 25,\r\n    \"3\": 50,\r\n    \"4\": 100,\r\n    \"5\": 250,\r\n    \"6\": 500,\r\n    \"7\": 750,\r\n    \"8\": 1000,\r\n    \"9\": 1500,\r\n    \"10\": 2000,\r\n    \"11\": 2500,\r\n    \"12\": 3000,\r\n}\r\n\r\nexport const ApiEndpoints = {\r\n    Signout: 'api/account/logout',\r\n    RefreshToken: 'api/account/refresh-jwt',\r\n    Login: 'api/account/login',\r\n    Register: 'api/account/register',\r\n    Logout: 'api/account/logout' \r\n}\r\n\r\nexport const RouterEndpoints = {\r\n    Signout: '/account/logout',\r\n    RefreshToken: '/account/refresh-jwt',\r\n    Login: '/account/login',\r\n    Register: '/account/register',\r\n    Logout: '/account/logout'\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-container\"},[_c('h1',{staticClass:\"text-xs-center\"},[_vm._v(\"Jimmy's Webserver\")]),_c('router-view'),(_vm.$route.name === 'login' && _vm.env === 'development')?_c('div',{staticClass:\"text-xs-center ma-1\"},[_c('p',[_vm._v(\"No account ? \"),_c('router-link',{attrs:{\"to\":\"register\"}},[_vm._v(\"Register here\")])],1)]):(_vm.$route.name === 'register')?_c('div',{staticClass:\"text-xs-center ma-1\"},[_c('p',[_vm._v(\"If you already have an account you can \"),_c('router-link',{attrs:{\"to\":\"login\"}},[_vm._v(\"Login\")])],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"main-container\">\r\n        <h1 class=\"text-xs-center\">Jimmy's Webserver</h1>\r\n        <router-view></router-view>\r\n        <div v-if=\"$route.name === 'login' && env === 'development'\" class=\"text-xs-center ma-1\">\r\n            <p>No account ? <router-link to=\"register\">Register here</router-link></p>\r\n        </div>\r\n        <div v-else-if=\"$route.name === 'register'\" class=\"text-xs-center ma-1\">\r\n            <p>If you already have an account you can <router-link to=\"login\">Login</router-link></p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                env: process.env.NODE_ENV\r\n            }\r\n        },\r\n        created() {\r\n            if (this.$route.fullPath === '/')\r\n                this.$router.push({ name: 'login' });\r\n        },\r\n    }\r\n</script>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=79621a67&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[(_vm.error)?_c('v-alert',{attrs:{\"value\":true,\"type\":\"error\",\"dismissible\":\"\"},model:{value:(_vm.error),callback:function ($$v) {_vm.error=$$v},expression:\"error\"}},[_vm._v(\"Username or password incorrect\")]):_vm._e(),_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.rules.username,\"label\":\"Username\",\"name\":\"Username\",\"required\":\"\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}}),_c('v-text-field',{attrs:{\"append-icon\":_vm.passwordOn ? 'visibility' : 'visibility_off',\"type\":_vm.passwordOn ? 'password' : 'text',\"name\":\"Password\",\"rules\":_vm.rules.password,\"label\":\"Password\",\"required\":\"\"},on:{\"click:append\":function($event){_vm.passwordOn = !_vm.passwordOn}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}}),_c('v-btn',{attrs:{\"disabled\":!_vm.valid || _vm.btnClicked},on:{\"click\":function($event){$event.preventDefault();return _vm.login()}}},[_vm._v(\"Login\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","import * as CONST from '../constants'\r\n\r\nexport default {\r\n    methods: {\r\n        /**\r\n         * Group multiple console.log messages together into one call and display them only in development\r\n         * @param {...String} messages - Spread array of message strings\r\n         */\r\n        $_console_log(...messages) {\r\n            if (typeof messages === 'undefined' || messages === null) {\r\n                return false;\r\n            }\r\n\r\n            if (process.env.NODE_ENV === 'development') {\r\n                for (let i = 0; i < messages.length; i++) {\r\n                    console.log(messages[i]);\r\n                }\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Group multiple console.log messages together into one call and display them only in development\r\n         * @param {String} header - Group header\r\n         * @param {...String} messages - Spread array of message strings\r\n         */\r\n        $_console_group(header, ...messages) {\r\n            if (typeof messages === 'undefined' || messages === null) {\r\n                return false;\r\n            }\r\n\r\n            if (process.env.NODE_ENV === 'development') {\r\n                console.group(header);\r\n                for (let i = 0; i < messages.length; i++) {\r\n                    console.log(messages[i]);\r\n                }\r\n                console.groupEnd();\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import * as MUTATIONS from '../store/mutation_types'\r\nimport store from '../store/index'\r\nimport { Roles } from '../constants'\r\nimport ConMsgs from './console'\r\n\r\nexport default {\r\n    methods: {\r\n        $_auth_checkLogin(err) {\r\n            ConMsgs.methods.$_console_log('[Authentication mixin] $_auth_checkLogin: Called');\r\n\r\n            if (store.state.auth.isAuthorize) {\r\n                this.$router.replace(this.$route.query.redirect || '/home');\r\n            }\r\n            return err;\r\n        },\r\n        async $_auth_login(data) {\r\n            ConMsgs.methods.$_console_log('[Authentication mixin] $_auth_login: Called');\r\n            let error = false;\r\n            await this.$store.dispatch('signin', data)\r\n                .then(async resp => {\r\n                    // Get the list of all other users for the chat system\r\n                    this.$store.dispatch('getAllOtherUsers')\r\n                        .then(() => ConMsgs.methods.$_console_log(\"Got user list\"))\r\n                        .catch(() => ConMsgs.methods.$_console_log(\"Failed to get user list\"))\r\n\r\n                    // Get modules for this user\r\n                    await this.$store.dispatch('getModules')\r\n                        .then(() => ConMsgs.methods.$_console_log(\"Got user modules\"))\r\n                        .catch(() => ConMsgs.methods.$_console_log(\"Failed to get user modules\"))\r\n\r\n                    this.$_auth_checkLogin(error);\r\n                }).catch(() => {\r\n                    this.$store.dispatch('signout')\r\n                    error = true;\r\n                });\r\n        },\r\n        async $_auth_register(data) {\r\n            ConMsgs.methods.$_console_log('[Authentication mixin] $_auth_register: Called', data);\r\n            await this.$store.dispatch('register', data)\r\n                .then(resp => {\r\n                    // Uncomment to auto login after registering (Make it a setting ?)\r\n                    //this.$_auth_login(data)\r\n                    //    .then(resp2 => ConMsgs.methods.$_console_log(\"success in login\"))\r\n                    //    .catch(() => ConMsgs.methods.$_console_log(\"error in login\"));\r\n                }).catch(() => {\r\n                    ConMsgs.methods.$_console_log(\"Error registering\");\r\n                    return Promise.reject(\"Failed to create user\");\r\n                });\r\n        },\r\n        async $_auth_logout() {\r\n            ConMsgs.methods.$_console_log('[Authentication mixin] $_auth_logout: Called');\r\n            await this.$store.dispatch(\"signout\")\r\n                .then(() => {}).catch(() => ConMsgs.methods.$_console_log(\"logout fail\"))\r\n                .then(() => this.$router.push({ name: 'index' }) );\r\n        },\r\n        $_auth_convertRole(r) {\r\n            ConMsgs.methods.$_console_log('[Authentication mixin] $_auth_convertRole: Called');\r\n\r\n            let role = Roles.Level.Default;\r\n\r\n            if (typeof r === 'undefined' || r === null)\r\n                return Roles.Level.Default;\r\n\r\n            Object.keys(Roles.Level).forEach((val, index) => {\r\n                if (Roles.Name[val] == r)\r\n                    role = Roles.Level[val];\r\n            });\r\n\r\n            ConMsgs.methods.$_console_log(`[Authentication] convertRole: ${role}`);\r\n\r\n            return role;\r\n        },\r\n    }\r\n}\r\n","<template>\r\n    <v-container>\r\n        <v-alert v-if=\"error\" v-model=\"error\" :value=\"true\" type=\"error\" dismissible>Username or password incorrect</v-alert>\r\n        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n            <v-text-field v-model=\"form.username\"\r\n                            :rules=\"rules.username\"\r\n                            :label=\"`Username`\"\r\n                            name=\"Username\"\r\n                            required />\r\n            <v-text-field :append-icon=\"passwordOn ? 'visibility' : 'visibility_off'\"\r\n                            @click:append=\"passwordOn = !passwordOn\"\r\n                            :type=\"passwordOn ? 'password' : 'text'\"\r\n                            v-model=\"form.password\"\r\n                            name=\"Password\"\r\n                            :rules=\"rules.password\"\r\n                            :label=\"`Password`\"\r\n                            required />\r\n            <!--<v-checkbox v-model=\"form.checked\" v-bind:label=\"`Keep me signed in`\"></v-checkbox>-->\r\n\r\n            <v-btn :disabled=\"!valid || btnClicked\" @click.prevent=\"login()\">Login</v-btn>\r\n        </v-form>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\n    import Auth from '../../mixins/authentication'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                form: {\r\n                    username: '',\r\n                    password: '',\r\n                    checked: false\r\n                },\r\n                passwordOn: true,\r\n                show: true,\r\n                valid: true,\r\n                btnClicked: false,\r\n                rules: {\r\n                    username: [v => !!v || \"Required\"],\r\n                    password: [v => !!v || \"Required\"],\r\n                },\r\n                error: false,\r\n            }\r\n        },\r\n        mixins: [Auth],\r\n        beforeDestroy() {\r\n            window.removeEventListener('keyup', this.enterKeyListener)\r\n        },\r\n        mounted() {\r\n            window.addEventListener('keyup', this.enterKeyListener)\r\n        },\r\n        methods: {\r\n            enterKeyListener(e) {\r\n                if (e.keyCode === 13) {\r\n                    if (this.valid && !this.btnClicked)\r\n                        this.login();\r\n                }\r\n            },\r\n            async login() {\r\n                this.btnClicked = true;\r\n                await this.$_auth_login(this.form).then(() => {\r\n                    this.error = false;\r\n                }).catch(() => {\r\n                    this.error = true;\r\n                }).then(() => this.btnClicked = false);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=b40a442c&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VContainer,VForm,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[(_vm.error)?_c('v-alert',{attrs:{\"value\":true,\"type\":\"error\",\"dismissible\":\"\"},model:{value:(_vm.error),callback:function ($$v) {_vm.error=$$v},expression:\"error\"}},[_vm._v(\"There was an error registering you\")]):_vm._e(),(_vm.success)?_c('v-alert',{attrs:{\"value\":true,\"type\":\"success\",\"dismissible\":\"\"},model:{value:(_vm.success),callback:function ($$v) {_vm.success=$$v},expression:\"success\"}},[_vm._v(\"User \"+_vm._s(_vm.form.username)+\" successfully created\")]):_vm._e(),_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.rules.username,\"label\":\"Username\",\"name\":\"Username\",\"required\":\"\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}}),_c('v-text-field',{attrs:{\"name\":\"Password\",\"label\":\"Password\",\"append-icon\":_vm.passwordOn ? 'visibility' : 'visibility_off',\"type\":_vm.passwordOn ? 'password' : 'text',\"rules\":_vm.rules.password,\"required\":\"\"},on:{\"click:append\":function($event){_vm.passwordOn = !_vm.passwordOn}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}}),_c('v-text-field',{attrs:{\"name\":\"ConfirmPassword\",\"label\":\"Confirm Password\",\"append-icon\":_vm.passwordConfirmOn ? 'visibility' : 'visibility_off',\"type\":_vm.passwordConfirmOn ? 'password' : 'text',\"rules\":_vm.rules.confirmPassword,\"required\":\"\"},on:{\"click:append\":function($event){_vm.passwordConfirmOn = !_vm.passwordConfirmOn}},model:{value:(_vm.form.confirmPassword),callback:function ($$v) {_vm.$set(_vm.form, \"confirmPassword\", $$v)},expression:\"form.confirmPassword\"}}),_c('v-select',{attrs:{\"items\":_vm.getRoleList,\"label\":\"Role\",\"name\":\"Role\",\"single-line\":\"\"},model:{value:(_vm.form.role),callback:function ($$v) {_vm.$set(_vm.form, \"role\", $$v)},expression:\"form.role\"}}),_c('v-btn',{attrs:{\"disabled\":!_vm.valid || _vm.btnClicked},on:{\"click\":function($event){$event.preventDefault();return _vm.register()}}},[_vm._v(\"Register\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container>\r\n        <v-alert v-if=\"error\" v-model=\"error\" :value=\"true\" type=\"error\" dismissible>There was an error registering you</v-alert>\r\n        <v-alert v-if=\"success\" v-model=\"success\" :value=\"true\" type=\"success\" dismissible>User {{ form.username }} successfully created</v-alert>\r\n        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n            <v-text-field v-model=\"form.username\"\r\n                          :rules=\"rules.username\"\r\n                          v-bind:label=\"`Username`\"\r\n                          name=\"Username\"\r\n                          required></v-text-field>\r\n            <v-text-field name=\"Password\"\r\n                          v-model=\"form.password\"\r\n                          v-bind:label=\"`Password`\"\r\n                          :append-icon=\"passwordOn ? 'visibility' : 'visibility_off'\"\r\n                          :type=\"passwordOn ? 'password' : 'text'\"\r\n                          :rules=\"rules.password\"\r\n                          required\r\n                          @click:append=\"passwordOn = !passwordOn\"></v-text-field>\r\n            <v-text-field name=\"ConfirmPassword\"\r\n                          v-model=\"form.confirmPassword\"\r\n                          v-bind:label=\"`Confirm Password`\"\r\n                          :append-icon=\"passwordConfirmOn ? 'visibility' : 'visibility_off'\"\r\n                          :type=\"passwordConfirmOn ? 'password' : 'text'\"\r\n                          :rules=\"rules.confirmPassword\"\r\n                          required\r\n                          @click:append=\"passwordConfirmOn = !passwordConfirmOn\"></v-text-field>\r\n            <v-select :items=\"getRoleList\"\r\n                      v-model=\"form.role\"\r\n                      v-bind:label=\"`Role`\"\r\n                      name=\"Role\"\r\n                      single-line></v-select>\r\n            <v-btn :disabled=\"!valid || btnClicked\" @click.prevent=\"register()\">Register</v-btn>\r\n        </v-form>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\n    import Auth from '../../mixins/authentication'\r\n\r\n    export default {\r\n        mixins: [Auth],\r\n        data() {\r\n            return {\r\n                passwordOn: true,\r\n                passwordConfirmOn: true,\r\n                form: {\r\n                    username: '',\r\n                    password: '',\r\n                    confirmPassword: '',\r\n                    role: null\r\n                },\r\n                rules: {\r\n                    username: [],\r\n                    password: [],\r\n                    confirmPassword: []\r\n                },\r\n                show: true,\r\n                valid: true,\r\n                btnClicked: false,\r\n                error: false,\r\n                success: false,\r\n            }\r\n        },\r\n        computed: {\r\n            getRoleList: function() {\r\n                return [\r\n                    { value: 'Administrator', text: 'Administrator' },\r\n                    { value: 'Elevated', text: 'Elevated' },\r\n                    { value: 'User', text: 'User' },\r\n                ]\r\n            }\r\n        },\r\n        beforeDestroy() {\r\n            window.removeEventListener('keyup', this.enterKeyListener)\r\n        },\r\n        mounted() {\r\n            window.addEventListener('keyup', this.enterKeyListener)\r\n\r\n            this.form.role = (this.getRoleList)[0].value;\r\n        },\r\n        methods: {\r\n            enterKeyListener(e) {\r\n                if (e.keyCode === 13) {\r\n                    if (this.valid && !this.btnClicked)\r\n                        this.register();\r\n                }\r\n            },\r\n            register() {\r\n                this.btnClicked = true;\r\n                this.$_auth_register(this.form).then(() => {\r\n                    this.error = false;\r\n                    this.success = true;\r\n                }).catch(() => {\r\n                    this.error = true;\r\n                    this.success = false;\r\n                }).then(() => this.btnClicked = false);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./register.vue?vue&type=template&id=529ca01c&\"\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VContainer,VForm,VSelect,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('main-menu',{attrs:{\"source\":\"home\"}}),_c('router-view',{key:_vm.$route.fullPath}),_c('notification-bar')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-navigation-drawer',{staticClass:\"grey lighten-4\",staticStyle:{\"top\":\"56px\",\"overflow\":\"hidden\"},attrs:{\"disable-resize-watcher\":\"\",\"width\":\"150\",\"height\":_vm.getDrawerHeight,\"absolute\":\"\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-list',{attrs:{\"light\":\"\"}},[_vm._l((_vm.routes.children),function(child){return [(_vm.authorized(child) && !child.meta.hidden)?_c('v-list-item',{attrs:{\"to\":{ name: child.name }},on:{\"click\":function($event){_vm.drawer = false}}},[_c('v-list-item-content',[_vm._v(\" \"+_vm._s(child.display)+\" \")])],1):_vm._e()]})],2)],1),_c('v-app-bar',{attrs:{\"color\":\"purple\",\"dark\":\"\"}},[_c('v-app-bar-nav-icon',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.drawer = !_vm.drawer}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$vuetify.breakpoint.name !== 'xs'),expression:\"$vuetify.breakpoint.name !== 'xs'\"}]},[_c('v-toolbar-items',{attrs:{\"dark\":\"\"}},_vm._l((_vm.routes.children),function(child,index){return _c('div',{staticClass:\"menu-toolbar-item\"},[(_vm.authorized(child))?[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:((index+1) < _vm.maxMenuItems),expression:\"(index+1) < maxMenuItems\"}]},[(!child.meta.hidden)?[_c('v-btn',{attrs:{\"to\":{ name: child.name },\"dark\":\"\",\"text\":\"\"}},[_vm._v(_vm._s(child.display))]),_c('v-divider',{staticClass:\"mx-3\",attrs:{\"inset\":\"\",\"vertical\":\"\"}})]:_vm._e()],2)]:_vm._e()],2)}),0)],1),_c('v-spacer'),_c('v-badge',{attrs:{\"bordered\":\"\",\"content\":_vm.numNewMessages,\"value\":_vm.numNewMessages,\"mr-2\":\"\"}},[_c('v-icon',{attrs:{\"medium\":\"\"},on:{\"click\":function($event){return _vm.$store.dispatch('openNotifications')}}},[_vm._v(\"mdi-bell\")])],1),_c('v-menu',{attrs:{\"close-on-content-click\":true,\"nudge-width\":200,\"offset-x\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fas fa-ellipsis-v\")])],1)]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-card',[_c('v-list',[_c('v-list-item',{attrs:{\"to\":{ name: 'profile' }}},[_c('v-avatar',[(_vm.hasAvatar)?_c('v-img',{attrs:{\"src\":_vm.avatarPath}}):_c('fa-icon',{attrs:{\"icon\":\"user\",\"size\":\"2x\"}})],1),_c('v-list-item-title',{staticClass:\"ml-2\"},[_vm._v(_vm._s(_vm.user.displayName))])],1),_c('v-list-item',{on:{\"click\":_vm.$_auth_logout}},[_c('fa-icon',{attrs:{\"icon\":\"door-open\",\"size\":\"2x\"}}),_c('v-list-item-title',{staticClass:\"ml-2\"},[_vm._v(\"Logout\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import store from '../store/index'\r\n\r\nexport default {\r\n    methods: {\r\n        $_module_userHasModule(module) {\r\n            const modules = store.getters.getActiveModules;\r\n\r\n            const obj = modules.find(x => x.id === module.name ||\r\n                (typeof module.meta.relative !== 'undefined' && x.id === module.meta.relative)\r\n            );\r\n\r\n            if (typeof obj === 'undefined') {\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n}\r\n","<template>\r\n    <div>\r\n        <v-navigation-drawer style=\"top: 56px; overflow: hidden\"\r\n                             v-model=\"drawer\"\r\n                             class=\"grey lighten-4\"\r\n                             disable-resize-watcher\r\n                             width=\"150\"\r\n                             :height=\"getDrawerHeight\"\r\n                             absolute\r\n                             app>\r\n            <v-list light>\r\n                <template v-for=\"child in routes.children\">\r\n                    <v-list-item :to=\"{ name: child.name }\" v-if=\"authorized(child) && !child.meta.hidden\" @click=\"drawer = false\">\r\n                        <v-list-item-content>\r\n                            {{ child.display }}\r\n                        </v-list-item-content>\r\n                    </v-list-item>\r\n                </template>\r\n            </v-list>\r\n        </v-navigation-drawer>\r\n\r\n        <v-app-bar color=\"purple\" dark>\r\n            <v-app-bar-nav-icon @click.stop.prevent=\"drawer = !drawer\"></v-app-bar-nav-icon>\r\n            <div v-show=\"$vuetify.breakpoint.name !== 'xs'\">\r\n                <v-toolbar-items dark>\r\n                    <div v-for=\"(child, index) in routes.children\" class=\"menu-toolbar-item\">\r\n                        <template v-if=\"authorized(child)\">\r\n                            <div v-show=\"(index+1) < maxMenuItems\">\r\n                                <!--<router-link :to=\"child.route\"></router-link>-->\r\n                                <template v-if=\"!child.meta.hidden\">\r\n                                    <v-btn :to=\"{ name: child.name }\" dark text>{{ child.display }}</v-btn>\r\n                                    <v-divider class=\"mx-3\" inset vertical></v-divider>\r\n                                </template>\r\n                            </div>\r\n                        </template>\r\n                    </div>\r\n                    <!--<div v-show=\"maxMenuItems < menuItems\">...</div>-->\r\n                </v-toolbar-items>\r\n            </div>\r\n            <v-spacer></v-spacer>\r\n            <v-badge bordered :content=\"numNewMessages\" :value=\"numNewMessages\" mr-2>\r\n                <v-icon medium @click=\"$store.dispatch('openNotifications')\">mdi-bell</v-icon>\r\n            </v-badge>\r\n            <v-menu :close-on-content-click=\"true\"\r\n                    :nudge-width=\"200\"\r\n                    v-model=\"menu\"\r\n                    offset-x>\r\n                <template v-slot:activator=\"{ on }\">\r\n                    <v-btn v-on=\"on\" icon><v-icon small>fas fa-ellipsis-v</v-icon></v-btn>\r\n                </template>\r\n                <v-card>\r\n                    <v-list>\r\n                        <v-list-item :to=\"{ name: 'profile' }\">\r\n                            <v-avatar>\r\n                                <v-img v-if=\"hasAvatar\" :src=\"avatarPath\"></v-img>\r\n                                <fa-icon v-else icon=\"user\" size=\"2x\"></fa-icon>\r\n                            </v-avatar>\r\n                            <v-list-item-title class=\"ml-2\">{{ user.displayName }}</v-list-item-title>\r\n                        </v-list-item>\r\n                        <v-list-item @click=\"$_auth_logout\">\r\n                            <fa-icon icon=\"door-open\" size=\"2x\"></fa-icon>\r\n                            <v-list-item-title class=\"ml-2\">Logout</v-list-item-title>\r\n                        </v-list-item>\r\n                    </v-list>\r\n                </v-card>\r\n            </v-menu>\r\n</v-app-bar>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState } from 'vuex'\r\n\r\n    import Auth from '../../mixins/authentication'\r\n    import Module from '../../mixins/module'\r\n    import { routes } from '../../routes'\r\n    import { Roles } from '../../constants'\r\n    import { setTimeout } from 'core-js';\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                routes: [],\r\n                drawer: false,\r\n\r\n                menu: false,\r\n                menuItems: 0,\r\n                maxMenuItems: 0,\r\n\r\n                authLevel: 0,\r\n\r\n                screenSize: window.outerWidth,\r\n            }\r\n        },\r\n        mixins: [Auth, Module],\r\n        props: {\r\n            source: String\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                modules: state => state.auth.modules,\r\n                user: state => state.auth.user,\r\n                numMessages: state => state.notifications.numMessages,\r\n                numNewMessages: state => state.notifications.numNewMessages,\r\n                conversations: state => state.chat.conversations,\r\n            }),\r\n            getDrawerHeight() {\r\n                return 16 + (this.menuItems * 48);\r\n            },\r\n            hasAvatar() {\r\n                if (typeof this.user.avatar === 'undefined' || this.user.avatar === null || this.user.avatar === '') {\r\n                    return false;\r\n                }\r\n\r\n                return true;\r\n            },\r\n            avatarPath() {\r\n                return `${process.env.API_URL}/public/${this.user.avatar}`;\r\n            },\r\n        },\r\n        created() {\r\n            this.getAuthLevel();\r\n\r\n            this.routes = routes.find(x => x.name === this.source);\r\n            this.$_console_log(this.routes);\r\n\r\n            this.getMenuItemCount();\r\n        },\r\n        mounted() {\r\n            this.getMaxMenuItems();\r\n            window.addEventListener('resize', this.resizeScreen, false)\r\n        },\r\n        beforeDestroy() {\r\n            window.removeEventListener('resize', this.resizeScreen, false);\r\n        },\r\n        methods: {\r\n            getMaxMenuItems() {\r\n                const menuItems = document.getElementsByClassName(\"menu-toolbar-item\");\r\n                \r\n                // Display one menu item if something has gone wrong\r\n                if (typeof menuItems === 'undefined' || menuItems === null) {\r\n                    this.$_console_log('Menu items are null or empty');\r\n                    return 1;\r\n                }\r\n\r\n                let width = 0;\r\n\r\n                // Go through each of the HTML elements and add up their widths\r\n                menuItems.forEach(item => {\r\n                    if (typeof item.clientWidth === 'undefined')\r\n                        return;\r\n                    width += item.clientWidth;\r\n                });\r\n\r\n                const average = width / menuItems.length;\r\n\r\n                // Truncate the decimals of the value and make sure to factor in the to menu on the sides\r\n                this.maxMenuItems = Math.floor((this.screenSize - 96) / average);\r\n            },\r\n            resizeScreen(e) {\r\n                this.screenSize = window.outerWidth;\r\n                this.getMaxMenuItems();\r\n            },\r\n            getAuthLevel() {\r\n                let role = this.$store.state.auth.role;\r\n\r\n                if (role === Roles.Name.Admin)\r\n                    this.authLevel = Roles.Level.Admin;\r\n                else if (role === Roles.Name.Elevated)\r\n                    this.authLevel = Roles.Level.Elevated;\r\n                else if (role === Roles.Name.General)\r\n                    this.authLevel = Roles.Level.General;\r\n                else\r\n                    this.authLevel = Roles.Level.Default;\r\n            },\r\n            authorized(route) {\r\n                // Check authorization level first \r\n                if (route.meta.authLevel > this.authLevel) {\r\n                    //this.$_console_log(\"[Menu] Level is greater than auth level. Not authorized\");\r\n                    return false;\r\n                }\r\n                // Allow all default level routes without additional checks\r\n                if (route.meta.authLevel <= Roles.Level.Default) {\r\n                    return true;\r\n                }\r\n                // Show all admin only features to admins\r\n                if (this.authLevel === Roles.Level.Admin && route.meta.authLevel === Roles.Level.Admin) {\r\n                    return true;\r\n                }\r\n\r\n                return this.$_module_userHasModule(route);\r\n            },\r\n            getMenuItemCount() {\r\n                this.$_console_log('[Menu] Get Menu Count.');\r\n                for (let i = 0; i < this.routes.children.length; i++) {\r\n                    let auth = this.authorized(this.routes.children[i]);\r\n                    if (auth && !this.routes.children[i].meta.hidden) {\r\n                        this.menuItems++;\r\n                    }\r\n                        \r\n                }\r\n            },\r\n            //checkScreenSize(i) {\r\n            //    this.$_console_log('Checking screen after resize... index value: ' + (i + 1));\r\n\r\n            //    if ((this.screenSize - 50) / (i + 1) < 190) {\r\n            //        this.screenOverflow = true;\r\n            //        return false;\r\n            //    }\r\n\r\n            //    this.screenOverflow = false;\r\n            //    return true;\r\n            //}\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./menu.vue?vue&type=template&id=6aa7cedd&\"\nimport script from \"./menu.vue?vue&type=script&lang=js&\"\nexport * from \"./menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VAppBarNavIcon,VAvatar,VBadge,VBtn,VCard,VDivider,VIcon,VImg,VList,VListItem,VListItemContent,VListItemTitle,VMenu,VNavigationDrawer,VSpacer,VToolbarItems})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-bottom-sheet',{attrs:{\"inset\":\"\",\"dark\":\"\"},model:{value:(_vm.sheet),callback:function ($$v) {_vm.sheet=$$v},expression:\"sheet\"}},[_c('v-sheet',{staticClass:\"text-center scrolling-y\",attrs:{\"height\":\"160px\"}},[_c('v-btn',{on:{\"click\":function($event){_vm.sheet = !_vm.sheet}}},[_vm._v(\"Close\")]),_vm._l((_vm.reversedMessages),function(message){return _c('div',{key:message.id,staticClass:\"scroll-y\"},[_c('div',{class:[_vm.getMessageBackground(message.read), 'my-1']},[_c('v-banner',{scopedSlots:_vm._u([{key:\"actions\",fn:function(){return [_c('fa-icon',{staticClass:\"mr-2 mb-2\",attrs:{\"color\":\"#555555\",\"icon\":\"times\"},on:{\"click\":function($event){return _vm.deleteMessage(message)}}})]},proxy:true}],null,true)},[(_vm.messageHasGroupNum(message.group))?_c('v-avatar',{attrs:{\"color\":\"orange\",\"size\":\"40\"}},[_c('span',{staticClass:\"white--text headline\"},[_vm._v(_vm._s(message.group.num))])]):_vm._e(),_c('span',{class:_vm.getTextColor(message.read),on:{\"click\":function($event){return _vm.readMessage(message)}}},[_vm._v(_vm._s(message.text))])],1)],1)])})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-bottom-sheet v-model=\"sheet\" inset dark>\r\n        <v-sheet class=\"text-center scrolling-y\" height=\"160px\">\r\n            <v-btn @click =\"sheet = !sheet\">Close</v-btn>\r\n\r\n            <div v-for=\"message in reversedMessages\" :key=\"message.id\" class=\"scroll-y\">\r\n                <div :class=\"[getMessageBackground(message.read), 'my-1']\">\r\n                    <!--<v-banner :class=\"getMessageBorder(message.read)\">-->\r\n                    <v-banner>\r\n                        <v-avatar v-if=\"messageHasGroupNum(message.group)\" color=\"orange\" size=\"40\">\r\n                            <span class=\"white--text headline\">{{ message.group.num }}</span>\r\n                        </v-avatar>\r\n                        <span @click=\"readMessage(message)\" :class=\"getTextColor(message.read)\">{{ message.text }}</span>\r\n                        <template v-slot:actions>\r\n                            <fa-icon color=\"#555555\" icon=\"times\" @click=\"deleteMessage(message)\" class=\"mr-2 mb-2\"></fa-icon>\r\n                        </template>\r\n                    </v-banner>\r\n                </div>\r\n            </div>\r\n        </v-sheet>\r\n    </v-bottom-sheet>\r\n</template>\r\n\r\n<script>\r\n    import { mapState } from 'vuex'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                sheet: false,\r\n                isLoading: false,\r\n                reversedMessages: [],\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                messages: state => state.notifications.messages,\r\n                opened: state => state.notifications.opened,\r\n            }),\r\n        },\r\n        watch: {\r\n            opened(newValue) {\r\n                this.isLoading = true;\r\n                this.sheet = newValue;\r\n\r\n                setTimeout(() => {\r\n                    this.isLoading = false;\r\n                }, 5);\r\n            },\r\n            sheet(newValue) {\r\n                if (!this.isLoading)\r\n                    this.$store.dispatch('openNotifications', newValue)\r\n            },\r\n            messages: {\r\n                handler(newValue) {\r\n                    this.$_console_log('Messages watcher:', newValue);\r\n                    this.reversedMessages = newValue.slice(0).reverse();\r\n                },\r\n                deep: true\r\n            },\r\n        },\r\n        created() {\r\n            this.reversedMessages = this.messages.slice(0).reverse();\r\n        },\r\n        methods: {\r\n            deleteMessage(item) {\r\n                this.$_console_log(`[Notification Bar] Delete Message with id: ${item.id}`);\r\n\r\n                this.$store.dispatch('popNotification', item.id);\r\n            },\r\n            readMessage(item) {\r\n                this.$_console_log(`[Notification Bar] Read Message with id: ${item.id}`);\r\n                \r\n                this.$store.dispatch('readNotification', item.id);\r\n            },\r\n            getTextColor(isRead) {\r\n                if (this.$vuetify.theme.dark === true) {\r\n                    if (isRead)\r\n                        return 'white--text';\r\n                    else\r\n                        return 'white--text font-weight-bold';\r\n                }\r\n                else {\r\n                    if (isRead)\r\n                        return 'black--text';\r\n                    else\r\n                        return 'black--text font-weight-bold'\r\n                }\r\n            },\r\n            //getMessageBorder(isRead) {\r\n            //    if (typeof isRead !== 'boolean' || isRead === false) {\r\n            //        //return 'message-unread';\r\n            //        return 'info accent-3'\r\n            //    }\r\n            //    else {\r\n            //        return 'grey lighten-2';\r\n            //    }                \r\n            //},\r\n            getMessageBackground(isRead) {\r\n                if (this.$vuetify.theme.dark === true) {\r\n                    if (isRead)\r\n                        return 'grey darken-3';\r\n                    else\r\n                        return 'grey';\r\n                }\r\n                else {\r\n                    if (isRead)\r\n                        return 'grey lighten-3';\r\n                    else\r\n                        return 'grey'\r\n                }\r\n            },\r\n            messageHasGroupNum(group) {\r\n                if (group === null || group.num < 2) {\r\n                    return false;\r\n                }\r\n\r\n                return true;\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .message-border-unread {\r\n        border: 2px solid #929425 !important;\r\n    }\r\n    .message-border-read {\r\n        border: 1px solid #fdfdfd !important;\r\n    }\r\n\r\n    .message-unread {\r\n        background-color: #ffff00 !important;\r\n    }\r\n\r\n    .scrolling-y {\r\n        overflow-y: scroll;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notification-bar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notification-bar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./notification-bar.vue?vue&type=template&id=64cf46a3&scoped=true&\"\nimport script from \"./notification-bar.vue?vue&type=script&lang=js&\"\nexport * from \"./notification-bar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./notification-bar.vue?vue&type=style&index=0&id=64cf46a3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64cf46a3\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBanner } from 'vuetify/lib/components/VBanner';\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\ninstallComponents(component, {VAvatar,VBanner,VBottomSheet,VBtn,VSheet})\n","<template>\r\n    <div>\r\n        <main-menu :source=\"`home`\"></main-menu>\r\n        <router-view :key=\"$route.fullPath\"></router-view>\r\n        <notification-bar></notification-bar>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Menu from './modules/menu'\r\n    import NotificationBar from './modules/notification-bar'\r\n\r\n    import { mapState } from 'vuex'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n\r\n            }\r\n        },\r\n        components: {\r\n            'main-menu': Menu,\r\n            'notification-bar': NotificationBar,\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                user: state => state.auth.user,\r\n                conversations: state => state.chat.conversations,\r\n            })\r\n        },\r\n        created() {\r\n            if (!this.$store.state.auth.isAuthorize)\r\n                this.$router.push('/');\r\n\r\n            if (this.$route.fullPath === '/home')\r\n                this.$router.push({ name: 'start' });\r\n\r\n            this.getUserConversations();\r\n            this.$chatHub.$on('message-received', this.onMessageReceived);\r\n        },\r\n        beforeDestroy() {\r\n            this.$chatHub.$off('message-received', this.onMessageReceived);\r\n        },\r\n        methods: {\r\n            onMessageReceived(message) {\r\n                if (typeof message !== 'object' || message === null) {\r\n                    return;\r\n                }\r\n\r\n                let conversation = this.conversations.find(x => x.id === message.conversationId);\r\n                if (message.userId === this.user.id || typeof conversation === 'undefined' || !Array.isArray(conversation.conversationUsers)\r\n                        || typeof conversation.conversationUsers.find(x => x.userId === this.user.id) === 'undefined') {\r\n                    return;\r\n                }\r\n\r\n                // Increment unread messages for this conversation as the message came from another user that was a member of your conversation\r\n                this.$store.dispatch('incrementConversationUnreadMessageCount', conversation.id);\r\n                this.$store.dispatch('pushNotification', { text: `You have new messages from ${conversation.title}`, type: 1, group: { type: 'chat', value: conversation.title } });\r\n            },\r\n            async getUserConversations() {\r\n                // Get all conversations for this user\r\n                await this.$store.dispatch('getAllConversationsForUser').then(resp1 => {\r\n                    // Get all new messages for these conversations\r\n                    this.$store.dispatch('getNewConversationNotifications')\r\n                        .then(resp2 => {\r\n                            this.$_console_log('New message notifications:', resp2.data);\r\n                            this.buildNotificationList(resp2.data);\r\n                        }).catch(() => this.$_console_log(\"No new message notifications\"))\r\n                })\r\n            },\r\n            buildNotificationList(data) {\r\n                if (!Array.isArray(data) || data.length === 0) {\r\n                    return;\r\n                }\r\n\r\n                data.forEach(value => {\r\n                    if (Array.isArray(value.messages) && value.messages.length > 0) {\r\n                        // There are new messages\r\n                        const obj = {\r\n                            text: `You have new messages from ${value.title}`,\r\n                            type: 1,\r\n                            group: {\r\n                                type: 'chat',\r\n                                value: value.title\r\n                            }\r\n                        }\r\n\r\n                        this.$store.dispatch('pushNotification', obj);\r\n                    }\r\n                })\r\n            },\r\n        },\r\n    }\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./home.vue?vue&type=template&id=1ff05955&\"\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-xs-center\"},[_c('h1',{staticClass:\"orange--text text--darken-3 display-2 mt-3\"},[_vm._v(\"Welcome to \"+_vm._s(_vm.name))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"text-xs-center\">\r\n        <h1 class=\"orange--text text--darken-3 display-2 mt-3\">Welcome to {{ name }}</h1>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    const serverName = process.env.SERVER_NAME;\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                name: serverName,\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./start.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./start.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./start.vue?vue&type=template&id=034e3306&\"\nimport script from \"./start.vue?vue&type=script&lang=js&\"\nexport * from \"./start.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-card',[_c('v-card-title',{staticClass:\"headline text-center\"},[_c('div',[_vm._v(\"User Id: \"+_vm._s(_vm.user.id))]),_c('v-spacer'),_c('label',{staticClass:\"upload-button\",attrs:{\"id\":\"upload-button\",\"for\":\"upload-files\"}},[_c('v-avatar',[(_vm.hasAvatar)?_c('v-img',{attrs:{\"src\":_vm.avatarPath}}):_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"fas fa-user\")])],1)],1),_c('input',{ref:\"fUpload\",attrs:{\"type\":\"file\",\"name\":\"upload-files\",\"id\":\"upload-files\",\"hidden\":\"\"},on:{\"change\":_vm.uploadAvatarImage}})],1),_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs4\":\"\"}},[_vm._v(\" Display name: \")]),(_vm.editDisplayName === false)?_c('v-flex',{attrs:{\"xs8\":\"\"},on:{\"click\":function($event){_vm.editDisplayName = !_vm.editDisplayName}}},[_vm._v(\" \"+_vm._s(_vm.user.displayName)+\" \")]):_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"New Display Name\"},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateDisplayName()},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }_vm.editDisplayName = false}]},model:{value:(_vm.newDisplayName),callback:function ($$v) {_vm.newDisplayName=$$v},expression:\"newDisplayName\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container>\r\n        <v-card>\r\n            <v-card-title class=\"headline text-center\">\r\n                <div>User Id: {{ user.id }}</div>\r\n                <v-spacer></v-spacer>\r\n                <label id=\"upload-button\" for=\"upload-files\" class=\"upload-button\">\r\n                    <v-avatar>\r\n                        <v-img v-if=\"hasAvatar\" :src=\"avatarPath\"></v-img>\r\n                        <v-icon v-else dark>fas fa-user</v-icon>\r\n                    </v-avatar>\r\n                </label>\r\n                <input ref=\"fUpload\" type=\"file\" name=\"upload-files\" id=\"upload-files\" @change=\"uploadAvatarImage\" hidden />\r\n            </v-card-title>\r\n            <v-card-text>\r\n                <v-layout row>\r\n                    <!--<v-flex xs12 class=\"headline text-center\">Userid: {{ user.id }}</v-flex>-->\r\n                    <v-flex xs4>\r\n                        Display name:\r\n                    </v-flex>\r\n                    <v-flex xs8 @click=\"editDisplayName = !editDisplayName\" v-if=\"editDisplayName === false\">\r\n                        {{ user.displayName }}\r\n                    </v-flex>\r\n                    <v-flex xs8 v-else>\r\n                        <v-text-field v-model=\"newDisplayName\"\r\n                                      label=\"New Display Name\"\r\n                                      @keyup.enter=\"updateDisplayName()\"\r\n                                      @keyup.esc=\"editDisplayName = false\"></v-text-field>\r\n                    </v-flex>\r\n                </v-layout>\r\n            </v-card-text>\r\n        </v-card>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\n    import { mapState } from 'vuex'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                uploadFile: null,\r\n                editDisplayName: false,\r\n                newDisplayName: '',\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                user: state => state.auth.user,\r\n            }),\r\n            hasAvatar() {\r\n                if (typeof this.user.avatar === 'undefined' || this.user.avatar === null || this.user.avatar === '') {\r\n                    return false;\r\n                }\r\n\r\n                return true;\r\n            },\r\n            avatarPath() {\r\n                return `${process.env.API_URL}/public/${this.user.avatar}`;\r\n            },\r\n        },\r\n        methods: {\r\n            uploadAvatarImage(e) {\r\n                const files = e.target.files;\r\n                console.log(files);\r\n                if (files.length !== 1) {\r\n                    this.$_console_log('SetFiles: File list contains more or less than 1 file');\r\n                    return;\r\n                }\r\n\r\n                let formData = new FormData();\r\n                formData.append(\"File\", files[0]);\r\n\r\n                this.$store.dispatch('updateAvatarImage', formData)\r\n                    .then(() => { }).catch(() => { }).then(() => {\r\n                        // Cleanup\r\n                        this.uploadFile = null;\r\n                        this.$refs.fUpload.value = '';\r\n                    });\r\n            },\r\n            updateDisplayName() {\r\n                this.$store.dispatch('updateDisplayName', this.newDisplayName)\r\n                    .then(() => { }).catch(() => { }).then(() => this.editDisplayName = false);\r\n            },\r\n        },\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./profile.vue?vue&type=template&id=65e16d1e&\"\nimport script from \"./profile.vue?vue&type=script&lang=js&\"\nexport * from \"./profile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAvatar,VCard,VCardText,VCardTitle,VContainer,VFlex,VIcon,VImg,VLayout,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-card',[_c('v-card-title',[_vm._v(\" Manage User's modules \")]),_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md4\":\"\"}},[_c('v-list-item-group',{model:{value:(_vm.selectedUserPosition),callback:function ($$v) {_vm.selectedUserPosition=$$v},expression:\"selectedUserPosition\"}},_vm._l((_vm.userList),function(item,index){return _c('v-list-item',{key:index},[_c('v-list-item-content',[_vm._v(\" \"+_vm._s(item.id)+\" \")])],1)}),1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-list-item-group',{model:{value:(_vm.selectedModulePosition),callback:function ($$v) {_vm.selectedModulePosition=$$v},expression:\"selectedModulePosition\"}},[_vm._l((_vm.moduleList),function(item,index){return [_c('v-list-item',{key:index},[_c('v-list-item-icon',{on:{\"click\":function($event){return _vm.addModuleToUser(item)}}},[(_vm.userHasModule(item))?_c('fa-icon',{attrs:{\"icon\":\"check\"}}):_c('fa-icon',{attrs:{\"icon\":\"times\"}})],1),_c('v-list-item-content',[_vm._v(\" \"+_vm._s(item.name)+\" \")])],1)]})],2)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[(typeof _vm.selectedModule === 'object' && _vm.selectedModule !== null)?_c('v-list',[_vm._l((_vm.selectedModule.features),function(item,index){return [_c('v-list-item',{key:index},[_c('v-list-item-icon',{on:{\"click\":function($event){return _vm.addFeatureToUser(item)}}},[(_vm.userHasFeature(item))?_c('fa-icon',{attrs:{\"icon\":\"check\"}}):_c('fa-icon',{attrs:{\"icon\":\"times\"}})],1),_c('v-list-item-content',[_vm._v(\" \"+_vm._s(item.name)+\" \")])],1)]})],2):_vm._e()],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\nimport store from './store'\r\nimport router from './router'\r\n\r\nimport ConMsgs from './mixins/console'\r\n\r\nconst API_URL = process.env.API_URL\r\n\r\nconst ax = axios.create({\r\n    baseURL: API_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json; charset=utf-8'\r\n    }\r\n})\r\n\r\n// 10s timeout in production - 1 minute timeout in development\r\nax.defaults.timeout = process.env.NODE_ENV === 'production' ? 10000 : 60000\r\n\r\nax.interceptors.request.use(async config => {\r\n    let credential = store.state.auth.accessToken\r\n    let isAuthorize = store.state.auth.isAuthorize\r\n\r\n    if (credential && isAuthorize)\r\n        config.headers.common['Authorization'] = 'Bearer ' + credential\r\n    return config\r\n}, error => {\r\n    ConMsgs.methods.$_console_group('[Axios][Interceptor] Request Error', error)\r\n    return Promise.reject(error);\r\n});\r\n\r\nax.interceptors.response.use(data => {\r\n    return data;\r\n}, error => {\r\n    ConMsgs.methods.$_console_log('[Axios][Interceptor] Error request, response, then header keys, route fullpath', error.request, error.response, router.app.$route.fullPath);\r\n\r\n    return Promise.reject(error);\r\n});\r\n\r\nexport default ax;\r\n","/**\r\n * Import Dependency\r\n */\r\nimport axios from '../axios'\r\n\r\n/**\r\n * Declare Variable\r\n */\r\nconst signinUrl = `api/account/login`\r\nconst signoutUrl = `api/account/logout`\r\nconst refreshTokenUrl = `api/account/refresh-jwt`\r\nconst registerUrl = `api/account/register`\r\nconst getUsersUrl = `api/account/user/get-all`\r\nconst getAllOtherUsersUrl = `api/account/user/get-all-others`\r\nconst updateAvatarImageUrl = `api/account/user/update-avatar`\r\nconst updateDisplayNameUrl = `api/account/user/update-display-name`\r\n\r\n/**\r\n * Export\r\n */\r\nexport default {\r\n    signin(data) {\r\n        return axios.post(signinUrl, {\r\n            'username': data.username,\r\n            'password': data.password,\r\n            'codeChallenge': data.codeChallenge\r\n        })\r\n    },\r\n    signout(username) {\r\n        return axios.post(signoutUrl, `\"${username}\"`)\r\n    },\r\n    refreshToken(token, codeChallenge) {\r\n        return axios.post(`${refreshTokenUrl}`, {\r\n            token: token,\r\n            codeChallenge: codeChallenge\r\n        })\r\n    },\r\n    register(data) {\r\n        return axios.post(registerUrl, {\r\n            'username': data.username,\r\n            'password': data.password,\r\n            'confirmPassword': data.confirmPassword,\r\n            'role': data.role\r\n        })\r\n    },\r\n    getUsers() {\r\n        return axios.get(getUsersUrl)\r\n    },\r\n    getAllOtherUsers() {\r\n        return axios.get(getAllOtherUsersUrl)\r\n    },\r\n    uploadAvatarImage(file) {\r\n        return axios.post(updateAvatarImageUrl, file)\r\n    },\r\n    updateDisplayName(name) {\r\n        return axios.post(updateDisplayNameUrl, `\"${name}\"`)\r\n    }\r\n}\r\n","/**\r\n * Import Dependency\r\n */\r\nimport axios from '../axios'\r\n\r\nconst getAllModulesUrl = `api/modules/get-all-modules`\r\nconst getModulesForUserUrl = `api/modules/get-modules-for-user`\r\nconst getAllModulesForAllUserUrl = `api/modules/get-modules-for-all-users`\r\nconst getUserModulesAndFeaturesUrl = `get-user-modules-and-features`\r\nconst addModuleToUserUrl = `api/modules/add-module-to-user`\r\nconst deleteModuleFromUserUrl = `api/modules/delete-module-from-user`\r\nconst addFeatureToUserUrl = `api/modules/add-feature-to-user`\r\nconst deleteFeatureFromUserUrl = `api/modules/delete-feature-from-user`\r\n\r\n/**\r\n * Export\r\n */\r\nexport default {\r\n    getModulesForUser() {\r\n        return axios.get(getModulesForUserUrl)\r\n    },\r\n    getAllModules() {\r\n        return axios.get(getAllModulesUrl)\r\n    },\r\n    getAllModulesForAllUser() {\r\n        return axios.get(getAllModulesForAllUserUrl)\r\n    },\r\n    getModulesAndFeaturesForUser(user) {\r\n        return axios.get(getUserModulesAndFeaturesUrl, { user: user} )\r\n    },\r\n    getAllFeaturesForAllUser() {\r\n        return axios.get(getAllFeaturesForAllUserUrl)\r\n    },\r\n    addModuleToUser(obj) {\r\n        return axios.post(addModuleToUserUrl, obj)\r\n    },\r\n    deleteModuleFromUser(obj) {\r\n        return axios.post(deleteModuleFromUserUrl, obj)\r\n    },\r\n    addFeatureToUser(obj) {\r\n        return axios.post(addFeatureToUserUrl, obj)\r\n    },\r\n    deleteFeatureFromUser(obj) {\r\n        return axios.post(deleteFeatureFromUserUrl, obj)\r\n    }\r\n}\r\n","import ConMsgs from '../mixins/console'\r\n\r\nexport const requiresRefresh = function (token) {\r\n    ConMsgs.methods.$_console_log('[RequiresRefresh] Checking if refresh token is required.');\r\n\r\n    let parsedJwt = parse(token);\r\n    let time = new Date().getTime() / 1000;\r\n\r\n    if (time > parsedJwt.exp) {\r\n        ConMsgs.methods.$_console_log('[RequiresRefresh] JWT is expired!');\r\n\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport const parse = function (token) {\r\n    return JSON.parse(atob(token.split('.')[1]));\r\n};\r\n\r\nexport const getCodeChallenge = function (len) {\r\n    let arr = new Uint8Array((len || 40) / 2);\r\n    crypto.getRandomValues(arr);\r\n\r\n    return Array.from(arr, dec2hex).join('');\r\n}\r\n\r\nfunction dec2hex(dec) {\r\n    return dec < 10 ? '0' + String(dec) : dec.toString(16);\r\n}\r\n","import { requiresRefresh } from '../helpers/jwt'\r\nimport store from '../store/index'\r\nimport ConMsgs from '../mixins/console'\r\n\r\nlet instance = null;\r\n\r\nclass DispatchFactory {\r\n    constructor() {\r\n        if (!instance) {\r\n            instance = this;\r\n        }\r\n\r\n        // TODO: See if we need to add checks here to not re-initialize\r\n        // these values to their defaults if an instance already exists\r\n        this.queue = [];\r\n        this.gettingToken = false;\r\n\r\n        return instance;\r\n    }\r\n\r\n    async request(request) {\r\n        ConMsgs.methods.$_console_log(`[DispatchFactory] request call`, request);\r\n        if (!requiresRefresh(store.state.auth.accessToken)) {\r\n            ConMsgs.methods.$_console_log('[DispatchFactory] Running request');\r\n            return await request();\r\n        }\r\n        else {\r\n            this.queue.push(request);\r\n            return await this.getRefreshToken();\r\n        }\r\n    }\r\n\r\n    async processQueue () {\r\n        ConMsgs.methods.$_console_log('[DispatchFactory] Processing queue...');\r\n        let promiseList = [];\r\n        for (let i = 0; i < this.queue.length; i++) {\r\n            promiseList.push(this.request(this.queue[i]));\r\n        }\r\n\r\n        Promise.all(promiseList).then(resp => { }).catch(() => { }).then(() => {\r\n            // Once all promises are handled clear the promises out of the list\r\n            ConMsgs.methods.$_console_log('[DispatchFactory] Emptying out promise queue.');\r\n            for (let i = 0; i < promiseList.length; i++) {\r\n                this.queue.shift();\r\n            }\r\n            ConMsgs.methods.$_console_log(`[DispatchFactory] Removed ${promiseList.length} promises from the queue`);\r\n        });\r\n    }\r\n\r\n    async getRefreshToken() {\r\n        ConMsgs.methods.$_console_log(`[DispatchFactory] ${this.gettingToken}`);\r\n        if (this.gettingToken === false) {\r\n            this.gettingToken = true;\r\n            await store.dispatch('refreshToken');\r\n\r\n            this.gettingToken = false;\r\n            return await this.processQueue();\r\n        }\r\n        else {\r\n            ConMsgs.methods.$_console_log('[DispatchFactory] We are already getting a refresh token.');\r\n        }\r\n    }\r\n}\r\n\r\nexport default new DispatchFactory;\r\n","<template>\r\n    <v-container>\r\n        <v-card>\r\n            <v-card-title>\r\n                Manage User's modules\r\n            </v-card-title>\r\n            <v-card-text>\r\n                <v-layout row>\r\n                    <v-flex xs12 sm12 md4>\r\n                        <v-list-item-group v-model=\"selectedUserPosition\">\r\n                            <v-list-item v-for=\"(item, index) in userList\" :key=\"index\">\r\n                                <v-list-item-content>\r\n                                    {{ item.id }}\r\n                                </v-list-item-content>\r\n                            </v-list-item>\r\n                        </v-list-item-group>\r\n                    </v-flex>\r\n                    <v-flex xs12 sm6 md4>\r\n                        <v-list-item-group v-model=\"selectedModulePosition\">\r\n                            <template v-for=\"(item, index) in moduleList\">\r\n                                <v-list-item :key=\"index\">\r\n                                    <v-list-item-icon @click=\"addModuleToUser(item)\">\r\n                                        <fa-icon icon=\"check\" v-if=\"userHasModule(item)\"></fa-icon>\r\n                                        <fa-icon icon=\"times\" v-else></fa-icon>\r\n                                    </v-list-item-icon>\r\n                                    <v-list-item-content>\r\n                                        {{ item.name }}\r\n                                    </v-list-item-content>\r\n                                </v-list-item>\r\n                            </template>\r\n                        </v-list-item-group>\r\n                    </v-flex>\r\n                    <v-flex xs12 sm6 md4>\r\n                        <v-list v-if=\"typeof selectedModule === 'object' && selectedModule !== null\">\r\n                            <template v-for=\"(item, index) in selectedModule.features\">\r\n                                <v-list-item :key=\"index\">\r\n                                    <v-list-item-icon @click=\"addFeatureToUser(item)\">\r\n                                        <fa-icon icon=\"check\" v-if=\"userHasFeature(item)\"></fa-icon>\r\n                                        <fa-icon icon=\"times\" v-else></fa-icon>\r\n                                    </v-list-item-icon>\r\n                                    <v-list-item-content>\r\n                                        {{ item.name }}\r\n                                    </v-list-item-content>\r\n                                </v-list-item>\r\n                            </template>\r\n                        </v-list>\r\n                    </v-flex>\r\n                </v-layout>\r\n            </v-card-text>\r\n        </v-card>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\n    import authService from '../../services/auth'\r\n    import moduleService from '../../services/modules'\r\n    import DispatchFactory from '../../factories/dispatchFactory';\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                selectedModule: null,\r\n                selectedUser: null,\r\n                selectedUserPosition: null,\r\n                selectedModulePosition: null,\r\n                moduleList: [],\r\n                userList: [],\r\n                usersHaveModuleList: [],\r\n                selectedUserModuleList: [],\r\n                selectedUserFeatureList: [],\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getData();\r\n        },\r\n        watch: {\r\n            selectedUserPosition(newValue) {\r\n                if (typeof newValue === 'undefined' || newValue === null) {\r\n                    this.selectedUser = null;\r\n                    this.selectedModule = null;\r\n                    return;\r\n                }\r\n\r\n                this.selectedModule = null;\r\n                this.selectedModulePosition = null;\r\n\r\n                this.selectedUser = this.userList[newValue];\r\n                this.updateSelectedUserList(this.userList[newValue]);\r\n            },\r\n            selectedModulePosition(newValue) {\r\n                if (typeof newValue === 'undefined' || newValue === null) {\r\n                    this.selectedModule = null;\r\n                    return;\r\n                }\r\n\r\n                this.selectedModule = this.moduleList[newValue];\r\n            },\r\n        },\r\n        methods: {\r\n            getData() {\r\n                DispatchFactory.request(() => {\r\n                    authService.getUsers().then(resp => {\r\n                        this.$_console_log('[admin-tools] getData: Successfully got user list');\r\n                        this.userList = resp.data;\r\n                    }).catch(() => this.$_console_log('[admin-tools] getData: Failed to get user list'));\r\n                });\r\n\r\n                DispatchFactory.request(() => {\r\n                    moduleService.getAllModules().then(resp => {\r\n                        this.$_console_log('[admin-tools] getData: Successfully got module list');\r\n                        this.moduleList = resp.data;\r\n                    }).catch(() => this.$_console_log('[admin-tools] getData: Failed to get module list'));\r\n                });\r\n\r\n                DispatchFactory.request(() => {\r\n                    moduleService.getAllModulesForAllUser().then(resp => {\r\n                        this.$_console_log('[admin-tools] getData: Successfully got user has module list');\r\n                        this.usersHaveModuleList = resp.data;\r\n                    }).catch(() => this.$_console_log('[admin-tools] getData: Failed to get module lists for users'));\r\n                });\r\n            },\r\n            deleteModuleFromUser(module) {\r\n                if (typeof this.selectedUser === 'undefined' || this.selectedUser === null) {\r\n                    this.$_console_log('[admin-tools] deleteModuleFromUser: selected user is null');\r\n                    return false;\r\n                }\r\n\r\n                if (typeof module === 'undefined' || module === null) {\r\n                    this.$_console_log('[admin-tools] deleteModuleFromUser: module is null');\r\n                    return false;\r\n                }\r\n\r\n                let tempUser = Object.assign({}, this.selectedUser);\r\n                let obj = {\r\n                    userId: this.selectedUser.id,\r\n                    moduleAddOnId: module.id\r\n                }\r\n\r\n                DispatchFactory.request(() => {\r\n                    moduleService.deleteModuleFromUser(obj).then(() => {\r\n                        this.$_console_log('[admin-tools] deleteModuleFromUser: Successfully deleted module from user');\r\n                        const index = this.usersHaveModuleList[obj.userId].findIndex(x => x.id === module.id);\r\n                        if (index < 0) {\r\n                            // Failed somehow...\r\n                            this.$_console_log('[admmin-tools] deleteModuleFromuser: Index doesn\\'t exist')\r\n                        }\r\n                        else {\r\n                            this.usersHaveModuleList[obj.userId].splice(index, 1);\r\n                            this.updateSelectedUserList(tempUser);\r\n                        }\r\n                    }).catch(() => this.$_console_log('[admin-tools] deleteModuleFromUser: Failed to delete module from user'));\r\n                });\r\n            },\r\n            deleteFeatureFromUser(feature) {\r\n                if (typeof this.selectedModule === 'undefined' || this.selectedModule === null) {\r\n                    this.$_console_log('[admin-tools] deleteFeatureFromUser: selected user is null');\r\n                    return false;\r\n                }\r\n\r\n                if (typeof feature === 'undefined' || feature === null) {\r\n                    this.$_console_log('[admin-tools] deleteFeatureFromUser: module is null');\r\n                    return false;\r\n                }\r\n\r\n                let tempUser = Object.assign({}, this.selectedUser);\r\n                let obj = {\r\n                    userId: tempUser.id,\r\n                    moduleFeatureId: feature.id\r\n                }\r\n\r\n                let currentlySelectedModule = Object.assign({}, this.selectedModule);\r\n\r\n                DispatchFactory.request(() => {\r\n                    moduleService.deleteFeatureFromUser(obj).then(() => {\r\n                        this.$_console_log('[admin-tools] deleteFeatureFromUser: Successfully deleted feature from user');\r\n\r\n                        const moduleIndex = this.usersHaveModuleList[obj.userId].findIndex(x => x.id === currentlySelectedModule.id);\r\n                        if (moduleIndex < 0) {\r\n                            // It failed somehow\r\n                            this.$_console_log('[admmin-tools] deleteFeatureFromUser: Module index doesn\\'t exist')\r\n                        }\r\n                        else {                            \r\n                            if (!Array.isArray(this.usersHaveModuleList[obj.userId][moduleIndex].features)) {\r\n                                // It failed somehow\r\n                                this.$_console_log('[admmin-tools] deleteFeatureFromUser: Selected user doesn\\'t have any features for this module')\r\n                            }\r\n                            else {\r\n                                const featureIndex = this.usersHaveModuleList[obj.userId][moduleIndex].features.findIndex(x => x.id === feature.id);\r\n                                this.$_console_log('[admin-tools] deleteFeatureFromUser: Got feature id, ', featureIndex);\r\n                                if (featureIndex < 0) {\r\n                                    // It failed somehow\r\n                                    this.$_console_log('[admmin-tools] deleteFeatureFromUser: Feature index doesn\\'t exist')\r\n                                }\r\n                                else {\r\n                                    this.usersHaveModuleList[obj.userId][moduleIndex].features.splice(featureIndex, 1);\r\n                                }\r\n                            }\r\n                        }\r\n                    }).catch((ex) => this.$_console_log('[admin-tools] deleteFeatureFromUser: Failed to delete feature from user', ex));\r\n                });\r\n            },\r\n            addModuleToUser(module) {\r\n                if (this.userHasModule(module)) {\r\n                    this.deleteModuleFromUser(module);\r\n                    return;\r\n                }\r\n\r\n                let tempUser = Object.assign({}, this.selectedUser);\r\n                let obj = {\r\n                    userId: tempUser.id,\r\n                    moduleAddOnId: module.id\r\n                }\r\n\r\n                const tempModule = Object.assign({}, module);\r\n                DispatchFactory.request(() => {\r\n                    moduleService.addModuleToUser(obj).then(resp => {\r\n                        if (resp.data === true) {\r\n                            this.$_console_log('[admin-tools] addModuleToUser: Successfully added module to user');\r\n\r\n                            if (!Array.isArray(this.usersHaveModuleList[obj.userId]))\r\n                                this.usersHaveModuleList[obj.userId] = [];\r\n\r\n                            tempModule.features = [];\r\n                            this.usersHaveModuleList[obj.userId].push(tempModule);\r\n                            this.updateSelectedUserList(tempUser);\r\n                        }                        \r\n                    }).catch(() => this.$_console_log('[admin-tools] addModuleToUser: Failed to get add module to user'));\r\n                });\r\n            },\r\n            addFeatureToUser(feature) {\r\n                if (this.userHasFeature(feature)) {\r\n                    this.deleteFeatureFromUser(feature);\r\n                    return;\r\n                }\r\n\r\n                let tempUser = Object.assign({}, this.selectedUser);\r\n                let obj = {\r\n                    userId: this.selectedUser.id,\r\n                    moduleFeatureId: feature.id\r\n                }\r\n\r\n                if (!Array.isArray(this.usersHaveModuleList[obj.userId])) {\r\n                    this.$_console_log('[admin-tools] addFeatureToUser: Can\\'t add a feature to a user that doesn\\'t have any modules');\r\n                    return;\r\n                }\r\n\r\n                let currentlySelectedModule = Object.assign({}, this.selectedModule);\r\n                let moduleIndex = this.usersHaveModuleList[obj.userId].findIndex(x => x.id === currentlySelectedModule.id);\r\n                if (moduleIndex < 0) {\r\n                    this.$_console_log('[admin-tools] addFeatureToUser: Can\\'t add a feature to a user that doesn\\'t have the corresponding module');\r\n                    return;\r\n                }\r\n                \r\n                DispatchFactory.request(() => {\r\n                    moduleService.addFeatureToUser(obj).then(resp => {\r\n                        if (resp.data === true) {\r\n                            this.$_console_log('[admin-tools] addFeatureToUser: Successfully added feature to user');\r\n\r\n                            if (!Array.isArray(this.usersHaveModuleList[obj.userId][moduleIndex].features))\r\n                                this.usersHaveModuleList[obj.userId][moduleIndex].features = [];\r\n\r\n                            this.usersHaveModuleList[obj.userId][moduleIndex].features.push(feature);\r\n                            this.updateSelectedUserList(tempUser);\r\n                        }\r\n                    }).catch(() => this.$_console_log('[admin-tools] addFeatureToUser: Failed to get add feature to user'));\r\n                });\r\n            },\r\n            userHasModule(module) {\r\n                if (typeof this.selectedUser === 'undefined' || this.selectedUser === null) {\r\n                    this.$_console_log('[admin-tools] userHasModule: selected user is null');\r\n                    return false;\r\n                }\r\n\r\n                if (typeof module === 'undefined' || module === null) {\r\n                    this.$_console_log('[admin-tools] userHasModule: module is null');\r\n                    return false;\r\n                }\r\n\r\n                if (!Array.isArray(this.selectedUserModuleList)) {\r\n                    this.$_console_log('[admin-tools] userHasModule: selected user module list is not an array');\r\n                    return false;\r\n                }\r\n\r\n                return this.selectedUserModuleList.findIndex(x => x.id === module.id) >= 0;\r\n            },\r\n            userHasFeature(feature) {\r\n                if (typeof this.selectedUser === 'undefined' || this.selectedUser === null) {\r\n                    this.$_console_log('[admin-tools] userHasFeature: selected user is null');\r\n                    return false;\r\n                }\r\n                if (typeof this.selectedModule === 'undefined' || this.selectedModule === null) {\r\n                    this.$_console_log('[admin-tools] userHasFeature: selected module is null');\r\n                    return false;\r\n                }\r\n                if (typeof feature === 'undefined' || feature === null) {\r\n                    this.$_console_log('[admin-tools] userHasFeature: feature is null');\r\n                    return false;\r\n                }\r\n\r\n                if (!Array.isArray(this.selectedUserModuleList)) {\r\n                    this.$_console_log('[admin-tools] userHasModule: selected user module list is not an array');\r\n                    return false;\r\n                }\r\n\r\n                let moduleIndex = this.selectedUserModuleList.findIndex(x => x.id === this.selectedModule.id);\r\n                if (moduleIndex < 0) {\r\n                    return false;\r\n                }\r\n\r\n                if (Array.isArray(this.selectedUserModuleList[moduleIndex].features)) {\r\n                    let featureIndex = this.selectedUserModuleList[moduleIndex].features.findIndex(x => x.id === feature.id);\r\n                    if (featureIndex >= 0) {\r\n                        return true;\r\n                    }\r\n                }                \r\n\r\n                return false;\r\n            },\r\n            updateSelectedUserList(value) {\r\n                this.$_console_log('Update Selected User List');\r\n                if (typeof value === 'undefined' || value === null) {\r\n                    this.selectedUserModuleList = [];\r\n                    return;\r\n                }\r\n\r\n                this.selectedUserModuleList = this.usersHaveModuleList[value.id];\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin-tools.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin-tools.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./admin-tools.vue?vue&type=template&id=0131b0c2&\"\nimport script from \"./admin-tools.vue?vue&type=script&lang=js&\"\nexport * from \"./admin-tools.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VCard,VCardText,VCardTitle,VContainer,VFlex,VLayout,VList,VListItem,VListItemContent,VListItemGroup,VListItemIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"py-0\"},[_c('div',{staticClass:\"headline\"},[_vm._v(\"Chat System\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.isMobile && !_vm.hideMobile) || !_vm.isMobile),expression:\"(isMobile && !hideMobile) || !isMobile\"}]},[_c('v-row',{attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\",\"md\":\"9\"}},[_c('v-autocomplete',{attrs:{\"items\":_vm.userList,\"item-value\":\"id\",\"item-text\":\"displayName\",\"prepend-icon\":\"mdi-database-search\",\"label\":\"Select user(s)\",\"loading\":_vm.isLoading,\"search-input\":_vm.search,\"multiple\":\"\"},model:{value:(_vm.newConversation.users),callback:function ($$v) {_vm.$set(_vm.newConversation, \"users\", $$v)},expression:\"newConversation.users\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"3\"}},[_c('v-btn',{staticClass:\"mb-2\",on:{\"click\":_vm.startConversation}},[_vm._v(\"Start Conversation\")])],1)],1)],1),_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.isMobile && !_vm.hideMobile)|| !_vm.isMobile),expression:\"(isMobile && !hideMobile)|| !isMobile\"}],staticClass:\"px-0\",attrs:{\"cols\":\"12\",\"md\":\"3\",\"lg\":\"2\"}},[(Array.isArray(_vm.conversations) && _vm.conversations.length > 0)?[_c('v-list',{attrs:{\"shaped\":\"\"}},_vm._l((_vm.conversations),function(convo,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){_vm.selectedConversation = convo}}},[_c('v-list-item-icon',[_c('chat-badge',{attrs:{\"conversation\":convo}})],1),_c('v-list-item-content',[_vm._v(\" \"+_vm._s(convo.title)+\" \")])],1)}),1)]:_vm._e()],2),_c('v-col',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.isMobile && _vm.hideMobile)|| !_vm.isMobile),expression:\"(isMobile && hideMobile)|| !isMobile\"}],staticClass:\"chat-conversation-window pb-0 px-0 pr-2\",attrs:{\"cols\":\"12\",\"md\":\"9\",\"lg\":\"10\"}},[_vm._l((_vm.conversations),function(conversation,index){return [_c('chat-conversation',{attrs:{\"conversation\":conversation,\"time\":_vm.currentTime,\"show\":_vm.shouldShowConversation(conversation),\"mobile\":_vm.isMobile},on:{\"goBack\":_vm.closeConversation}})]})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}]},[_c('v-dialog',{attrs:{\"max-width\":\"400\"},model:{value:(_vm.deleteConversationDialog),callback:function ($$v) {_vm.deleteConversationDialog=$$v},expression:\"deleteConversationDialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" Delete Conversation \")]),_c('v-card-text',[_vm._v(\" Are you sure you want to delete this conversation ? \")]),_c('v-card-actions',[_c('v-btn',{on:{\"click\":_vm.deleteConversation}},[_vm._v(\"Yes\")]),_c('v-btn',{on:{\"click\":function($event){_vm.deleteConversationDialog = false}}},[_vm._v(\"No\")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"640\"},model:{value:(_vm.moreInfoDialog),callback:function ($$v) {_vm.moreInfoDialog=$$v},expression:\"moreInfoDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"justify-center\"},[_c('h3',[_vm._v(\"Message Info\")])]),_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"body-1 py-2\",attrs:{\"xs4\":\"\"}},[_vm._v(\"Message:\")]),_c('v-flex',{staticClass:\"caption py-2\",attrs:{\"xs8\":\"\"}},[_vm._v(_vm._s(_vm.moreInfo.text))]),_c('v-flex',{staticClass:\"body-1 py-2\",attrs:{\"xs4\":\"\"}},[_vm._v(\"Timestamp:\")]),_c('v-flex',{staticClass:\"caption py-2\",attrs:{\"xs8\":\"\"}},[_vm._v(_vm._s(_vm.moreInfo.timestamp))]),_c('v-flex',{staticClass:\"body-1 py-2\",attrs:{\"xs4\":\"\"}},[_vm._v(\"User:\")]),_c('v-flex',{staticClass:\"caption py-2\",attrs:{\"xs8\":\"\"}},[_vm._v(_vm._s(_vm.moreInfo.username))])],1)],1),_c('v-card-actions',[_c('v-btn',{on:{\"click\":function($event){_vm.moreInfoDialog = false}}},[_vm._v(\"Close\")])],1)],1)],1),_c('div',{attrs:{\"id\":\"chat-container\"}},[_c('v-toolbar',[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mobile),expression:\"mobile\"}],attrs:{\"text\":\"\"},on:{\"click\":_vm.goBack}},[_c('fa-icon',{attrs:{\"icon\":\"reply\"}})],1),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.editingTitle = !_vm.editingTitle}}},[_c('v-icon',[_vm._v(\"mdi-account-edit\")])],1),(!_vm.editingTitle)?_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.conversation.title)+\" \")]):_c('v-toolbar-title',{staticClass:\"ml-3 pl-2\",staticStyle:{\"width\":\"100%\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\"}},[_c('v-text-field',{attrs:{\"autofocus\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.updateTitle($event)}},model:{value:(_vm.newTitle),callback:function ($$v) {_vm.newTitle=$$v},expression:\"newTitle\"}}),(!_vm.mobile)?_c('v-btn',{on:{\"click\":_vm.updateTitle}},[_vm._v(\"SAVE\")]):_vm._e()],1)]),_c('v-spacer'),(_vm.isConversationDeletable)?_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.deleteConversationDialog = true}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1):_vm._e()],1),_c('div',{ref:\"chatBodyContainer\",staticClass:\"chat-body-container\",style:({height: _vm.bodyContainerHeight + 'px'})},[_c('v-row',{staticClass:\"px-0\"},_vm._l((_vm.conversation.messages),function(message,index){return _c('v-col',{key:index,staticClass:\"py-1\",attrs:{\"cols\":\"12\"},on:{\"mouseover\":function($event){return _vm.setMessageHover(message, true)},\"mouseleave\":function($event){return _vm.setMessageHover(message, false)}}},[_c('chat-bubble',{attrs:{\"message\":message,\"currentTime\":_vm.time,\"owner\":_vm.isOwner(message)},on:{\"moreInfo\":_vm.openMoreInfo,\"deleteMessage\":_vm.deleteMessage},scopedSlots:_vm._u([(_vm.isLastReadMessage(message))?{key:\"lastReadIcon\",fn:function(){return [_c('chat-avatar',{attrs:{\"conversation\":_vm.conversation,\"size\":\"16\"}})]},proxy:true}:null],null,true)})],1)}),1)],1),_c('div',{ref:\"chatTextfield\",staticClass:\"chat-message-textfield\"},[_c('v-text-field',{ref:\"newMessage\",staticClass:\"pa-0\",attrs:{\"autofocus\":\"\",\"label\":\"Message\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.sendMessage($event)}},scopedSlots:_vm._u([{key:\"append-outer\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"text\":\"\"},on:{\"click\":_vm.sendMessage}},[_c('fa-icon',{attrs:{\"size\":\"lg\",\"icon\":\"paper-plane\"}})],1)]},proxy:true}]),model:{value:(_vm.newMessage.text),callback:function ($$v) {_vm.$set(_vm.newMessage, \"text\", $$v)},expression:\"newMessage.text\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chat-container\"},[_c('div',{class:['bubble-container', _vm.getFlexDirection]},[_c('v-menu',{attrs:{\"absolute\":\"\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attr = ref.attr;\nreturn [_c('div',_vm._g({staticClass:\"order-2\"},on),[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.message.hover),expression:\"message.hover\"}],staticClass:\"pa-1\",staticStyle:{\"height\":\"100%\",\"margin\":\"0 auto\"}},[_vm._v(\"...\")])])]}}])},[_c('v-list',[_c('v-list-item',{on:{\"click\":_vm.moreInfo}},[_c('v-list-item-title',[_vm._v(\" More info \")])],1),(_vm.isMessageDeletable)?_c('v-list-item',{on:{\"click\":_vm.deleteMessage}},[_c('v-list-item-title',[_vm._v(\" Delete Message \")])],1):_vm._e()],1)],1),_c('div',{class:['bubble-body-container', _vm.getColor, 'pa-2', 'order-1'],on:{\"click\":function($event){return _vm.readMessage()}}},[_c('div',{staticClass:\"text-body-1\"},[_vm._v(_vm._s(_vm.message.text))]),_c('div',{staticClass:\"text-caption text-right\"},[_vm._v(_vm._s(_vm.timeSince))]),_c('div',{staticClass:\"bubble-id\",staticStyle:{\"display\":\"none\"}},[_vm._v(_vm._s(_vm.message.id))])])],1),_c('div',{class:['bubble-last-read', _vm.getFlexDirection, 'pr-2']},[_vm._t(\"lastReadIcon\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"chat-container\">\r\n        <div :class=\"['bubble-container', getFlexDirection]\">\r\n            <v-menu absolute offset-y>\r\n                <template v-slot:activator=\"{ on, attr }\">\r\n                    <div v-on=\"on\" class=\"order-2\">\r\n                        <span v-show=\"message.hover\" class=\"pa-1\" style=\"height: 100%; margin: 0 auto\">...</span>\r\n                    </div>\r\n                </template>\r\n                <v-list>\r\n                    <v-list-item @click=\"moreInfo\">\r\n                        <v-list-item-title>\r\n                            More info\r\n                        </v-list-item-title>\r\n                    </v-list-item>\r\n                    <v-list-item v-if=\"isMessageDeletable\" @click=\"deleteMessage\">\r\n                        <v-list-item-title>\r\n                            Delete Message\r\n                        </v-list-item-title>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-menu>\r\n\r\n            <div :class=\"['bubble-body-container', getColor, 'pa-2', 'order-1']\" @click=\"readMessage()\">\r\n                <div class=\"text-body-1\">{{ message.text }}</div>\r\n                <div class=\"text-caption text-right\">{{ timeSince }}</div>\r\n                <div class=\"bubble-id\" style=\"display: none\">{{ message.id }}</div>\r\n            </div>\r\n        </div>\r\n\r\n        <div :class=\"['bubble-last-read', getFlexDirection, 'pr-2']\">\r\n            <slot name=\"lastReadIcon\"></slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState } from 'vuex'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n\r\n            }\r\n        },\r\n        props: {\r\n            message: {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            currentTime: {\r\n                type: Number,\r\n                required: false,\r\n            },\r\n            owner: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            lastMessage: {\r\n                type: Boolean,\r\n                default: false,\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                user: state => state.auth.user,\r\n                activeModules: state => state.auth.activeModules,\r\n            }),\r\n            timeSince() {\r\n                if (typeof this.currentTime !== 'number' || typeof this.message.timestamp !== 'number') {\r\n                    return '';\r\n                }\r\n\r\n                let seconds = this.currentTime - this.message.timestamp;\r\n                if (seconds < 0) {\r\n                    return '';\r\n                }\r\n                if (seconds < 60) {\r\n                    return `${Math.trunc(seconds)}s`;\r\n                }\r\n\r\n                let minutes = seconds / 60;\r\n                if (minutes < 60) {\r\n                    return `${Math.trunc(minutes)}m`;\r\n                }\r\n\r\n                let hours = minutes / 60;\r\n                if (hours < 24) {\r\n                    return `${Math.trunc(hours)}h`;\r\n                }\r\n\r\n                let days = hours / 24;\r\n                return `${Math.trunc(days)}d`;\r\n            },\r\n            isMessageDeletable() {\r\n                if (this.owner === true) {\r\n                    const chatModule = this.activeModules.find(x => x.id === 'chat');\r\n                    if (typeof chatModule !== 'undefined') {\r\n                        const feature = chatModule.userModuleFeatures.find(x => x.moduleFeatureId === 'chat-delete-message')\r\n                        if (typeof feature !== 'undefined') {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            },\r\n            getFlexDirection() {\r\n                if (this.owner) {\r\n                    return 'flex-right';\r\n                }\r\n                else {\r\n                    return 'flex-left';\r\n                }\r\n            },\r\n            getColor() {\r\n                if (this.message.highlighted === true) {\r\n                    return 'highlight'\r\n                }\r\n                else {\r\n                    if (this.message.color === null) {\r\n                        if (this.message.userId === this.user.id) {\r\n                            return 'blue';\r\n                        }\r\n                        else {\r\n                            return 'green';\r\n                        }\r\n                    }\r\n                    else {\r\n                        return this.message.color;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            message: {\r\n                handler(newValue) {\r\n                    if (typeof newValue !== 'undefined' && newValue.highlighted === true) {\r\n                        this.$_console_log('Message.Highlighted watcher: highlight = true');\r\n                        setTimeout(() => {\r\n                            this.$store.dispatch('highlightMessage', { messageId: newValue.id, conversationId: newValue.conversationId, on: false });\r\n                        }, 6000);\r\n                    }\r\n                },\r\n                deep: true\r\n            }\r\n        },\r\n        methods: {\r\n            deleteMessage() {\r\n                this.$emit('deleteMessage', this.message.id);\r\n                this.optionDialog = false;\r\n            },\r\n            moreInfo() {\r\n                this.$emit('moreInfo', this.message);\r\n                this.optionDialog = false;\r\n            },\r\n            isMessageReadable() {\r\n                // Not self\r\n                if (this.user.id !== this.message.userId) {\r\n                    // No array or array length is 0\r\n                    if (!Array.isArray(this.message.readReceipts) || (Array.isArray(this.message.readReceipts) && this.message.readReceipts.length === 0)) {\r\n                        return true;\r\n                    }\r\n                    // No read receipts from self\r\n                    else if (typeof this.message.readReceipts.find(x => x.userId === this.user.id) === 'undefined') {\r\n                        return true;\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            },\r\n            readMessage() {\r\n                if (!this.isMessageReadable()) {\r\n                    this.$_console_log('ReadMessage: Message is not readable');\r\n                    return;\r\n                }\r\n\r\n                this.$store.dispatch('readChatMessage', { conversationId: this.message.conversationId, messageId: this.message.id });\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .chat-container {\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .bubble-container {\r\n        display: flex;\r\n        flex-direction: row;\r\n        max-width: 100%;\r\n    }\r\n\r\n    .bubble-body-container {\r\n        border: 1px solid gray;\r\n        border-radius: 15px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        max-width: 70%;\r\n    }\r\n\r\n    .bubble-last-read {\r\n        display: flex;\r\n        flex-direction: row;\r\n    }\r\n\r\n    .flex-left {\r\n        flex-direction: row;\r\n    }\r\n\r\n    .flex-right {\r\n        flex-direction: row-reverse;\r\n    }\r\n\r\n    .order-1 {\r\n        order: 1;\r\n    }\r\n\r\n    .order-2 {\r\n        order: 2;\r\n    }\r\n\r\n    .green {\r\n        background-color: green;\r\n    }\r\n\r\n    .blue {\r\n        background-color: blue;\r\n    }\r\n\r\n    .highlight {\r\n        /* Get this to shift the color somehow */\r\n        background-color: aquamarine;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-bubble.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-bubble.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chat-bubble.vue?vue&type=template&id=78eda714&scoped=true&\"\nimport script from \"./chat-bubble.vue?vue&type=script&lang=js&\"\nexport * from \"./chat-bubble.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat-bubble.vue?vue&type=style&index=0&id=78eda714&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78eda714\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VList,VListItem,VListItemTitle,VMenu})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.conversation.conversationUsers.length > 2)?[_c('fa-icon',{attrs:{\"icon\":\"users\",\"size\":\"2x\"}})]:(_vm.friendHasAvatar(_vm.conversation) !== false)?[_c('v-avatar',{attrs:{\"size\":_vm.maxSize}},[_c('v-img',{attrs:{\"src\":_vm.friendHasAvatar(_vm.conversation)}})],1)]:[_c('v-avatar',{attrs:{\"color\":_vm.getFriendColor(_vm.conversation),\"size\":_vm.maxSize}},[_c('span',{class:['white--text', _vm.getTextSize()]},[_vm._v(_vm._s(_vm.getFriendAvatarText(_vm.conversation)))])])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <template v-if=\"conversation.conversationUsers.length > 2\">\r\n            <fa-icon icon=\"users\" size=\"2x\"></fa-icon>\r\n        </template>\r\n        <template v-else-if=\"friendHasAvatar(conversation) !== false\">\r\n            <v-avatar :size=\"maxSize\">\r\n                <v-img :src=\"friendHasAvatar(conversation)\"></v-img>\r\n            </v-avatar>\r\n        </template>\r\n        <template v-else>\r\n            <v-avatar :color=\"getFriendColor(conversation)\" :size=\"maxSize\">\r\n                <span :class=\"['white--text', getTextSize()]\">{{ getFriendAvatarText(conversation) }}</span>\r\n            </v-avatar>\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState } from 'vuex'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                maxSize: 0,\r\n            }\r\n        },\r\n        props: {\r\n            conversation: {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            size: {\r\n                type: String,\r\n                required: false\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                user: state => state.auth.user,\r\n                userList: state => state.auth.otherUsers,\r\n            }),\r\n        },\r\n        mounted() {\r\n            if (typeof this.size !== 'undefined')\r\n                this.maxSize = this.size;\r\n            else {\r\n                this.maxSize = \"48\";\r\n            }\r\n        },\r\n        methods: {\r\n            friendHasAvatar(conversation) {\r\n                if (typeof conversation !== 'object' || conversation === null || !Array.isArray(conversation.conversationUsers)) {\r\n                    return false;\r\n                }\r\n\r\n                if (!Array.isArray(this.userList)) {\r\n                    return false;\r\n                }\r\n\r\n                var friend = conversation.conversationUsers.find(x => x.userId !== this.user.id);\r\n                if (typeof friend === 'undefined') {\r\n                    return false;\r\n                }\r\n\r\n                var user = this.userList.find(x => x.id === friend.userId);\r\n                if (typeof user === 'undefined') {\r\n                    return false;\r\n                }\r\n\r\n                if (typeof user.avatar === 'undefined') {\r\n                    return false;\r\n                }\r\n\r\n                return `${process.env.API_URL}/public/${user.avatar}`;\r\n            },\r\n            getFriendColor(conversation) {\r\n                const defaultColor = 'blue';\r\n                if (typeof conversation !== 'object' || conversation === null || !Array.isArray(conversation.conversationUsers)) {\r\n                    return defaultColor;\r\n                }\r\n\r\n                var friend = conversation.conversationUsers.find(x => x.userId !== this.user.id);\r\n                if (typeof friend === 'undefined') {\r\n                    return defaultColor;\r\n                }\r\n\r\n                if (friend.color === null) {\r\n                    return defaultColor;\r\n                }\r\n\r\n                return friend.color;\r\n            },\r\n            getFriendAvatarText(conversation) {\r\n                if (typeof conversation !== 'object' || conversation === null || !Array.isArray(conversation.conversationUsers)) {\r\n                    return false;\r\n                }\r\n\r\n                if (!Array.isArray(this.userList)) {\r\n                    return false;\r\n                }\r\n\r\n                var friend = conversation.conversationUsers.find(x => x.userId !== this.user.id);\r\n                if (typeof friend === 'undefined') {\r\n                    return false;\r\n                }\r\n\r\n                var user = this.userList.find(x => x.id === friend.userId);\r\n                if (typeof user === 'undefined') {\r\n                    return false;\r\n                }\r\n\r\n                return user.displayName.charAt(0);\r\n            },\r\n            getTextSize() {\r\n                if (this.maxSize >= 40) {\r\n                    return 'headline';\r\n                }\r\n                else if (this.maxSize < 40) {\r\n                    return 'caption';\r\n                }\r\n            }\r\n        },\r\n    }\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-avatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-avatar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chat-avatar.vue?vue&type=template&id=9680fcce&\"\nimport script from \"./chat-avatar.vue?vue&type=script&lang=js&\"\nexport * from \"./chat-avatar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VImg } from 'vuetify/lib/components/VImg';\ninstallComponents(component, {VAvatar,VImg})\n","import axios from '../axios'\r\n\r\nconst StartConversationUrl = 'api/chat/conversation/start'\r\nconst GetConversationUrl = 'api/chat/conversation/get'\r\nconst GetAllConversationsUrl = 'api/chat/conversation/get-all'\r\nconst GetAllNewMessagesForConversationsUrl = 'api/chat/conversation/notifications/get-all'\r\nconst UpdateConversationTitleUrl = 'api/chat/conversation/update-title'\r\nconst DeleteConversationUrl = `api/chat/conversation/delete`\r\nconst GetMessagesForConversation = `api/chat/conversation/get/messages`\r\nconst DeleteMessageUrl = `api/chat/message/delete`\r\nconst GetMessageUrl = 'api/chat/message/get'\r\nconst SendMessageUrl = 'api/chat/message/send'\r\nconst ReadMessageUrl = 'api/chat/message/read'\r\n\r\nexport default {\r\n    startConversation(obj) {\r\n        return axios.post(StartConversationUrl, obj);\r\n    },\r\n    getConversation(id) {\r\n        return axios.get(`${GetConversationUrl}/${id}`);\r\n    },\r\n    getAllConversations() {\r\n        return axios.get(GetAllConversationsUrl);\r\n    },\r\n    getAllNewMessagesForConversations() {\r\n        return axios.get(GetAllNewMessagesForConversationsUrl);\r\n    },\r\n    updateConversationTitle(conversationId, title) {\r\n        return axios.post(`${UpdateConversationTitleUrl}/${conversationId}`, { title: title });\r\n    },\r\n    deleteConversation(conversationId) {\r\n        return axios.request({\r\n            url: `${DeleteConversationUrl}/${conversationId}`,\r\n            method: 'delete',\r\n        });\r\n    },\r\n    getMessagesForConversation(conversationId) {\r\n        return axios.get(`${GetMessagesForConversation}/${conversationId}`);\r\n    },\r\n    deleteMessage(messageId) {\r\n        return axios.request({\r\n            url: `${DeleteMessageUrl}/${messageId}`,\r\n            method: 'delete',\r\n        });\r\n    },\r\n    getMessage(id) {\r\n        return axios.get(`${GetMessageUrl}/${id}`);\r\n    },\r\n    sendMessage(obj) {\r\n        return axios.post(SendMessageUrl, obj);\r\n    },\r\n    readMessage(conversationId, messageId) {\r\n        return axios.request({\r\n            url: `${ReadMessageUrl}/${conversationId}/${messageId}`,\r\n            method: 'put'\r\n        });\r\n    },\r\n    readMessageList(conversationId, messageIds) {\r\n        return axios.request({\r\n            url: `${ReadMessageUrl}/${conversationId}/list`,\r\n            method: 'put',\r\n            data: messageIds\r\n        });\r\n    },\r\n}\r\n","<template>\r\n    <div v-show=\"show\">\r\n        <v-dialog v-model=\"deleteConversationDialog\" max-width=\"400\">\r\n            <v-card>\r\n                <v-card-title>\r\n                    Delete Conversation\r\n                </v-card-title>\r\n                <v-card-text>\r\n                    Are you sure you want to delete this conversation ?\r\n                </v-card-text>\r\n                <v-card-actions>\r\n                    <v-btn @click=\"deleteConversation\">Yes</v-btn>\r\n                    <v-btn @click=\"deleteConversationDialog = false\">No</v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-dialog>\r\n        <v-dialog v-model=\"moreInfoDialog\" max-width=\"640\">\r\n            <v-card>\r\n                <v-card-title class=\"justify-center\">\r\n                    <h3>Message Info</h3>\r\n                </v-card-title>\r\n                <v-card-text>\r\n                    <v-layout row>\r\n                        <v-flex xs4 class=\"body-1 py-2\">Message:</v-flex><v-flex xs8 class=\"caption py-2\">{{ moreInfo.text }}</v-flex>\r\n                        <v-flex xs4 class=\"body-1 py-2\">Timestamp:</v-flex><v-flex xs8 class=\"caption py-2\">{{ moreInfo.timestamp }}</v-flex>\r\n                        <v-flex xs4 class=\"body-1 py-2\">User:</v-flex><v-flex xs8 class=\"caption py-2\">{{ moreInfo.username }}</v-flex>\r\n                    </v-layout>\r\n                </v-card-text>\r\n                <v-card-actions>\r\n                    <v-btn @click=\"moreInfoDialog = false\">Close</v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-dialog>\r\n\r\n        <div id=\"chat-container\">\r\n            <v-toolbar>\r\n                <v-btn text @click=\"goBack\" v-show=\"mobile\">\r\n                    <fa-icon icon=\"reply\"></fa-icon>\r\n                </v-btn>\r\n                <v-btn text @click=\"editingTitle = !editingTitle\">\r\n                    <v-icon>mdi-account-edit</v-icon>\r\n                </v-btn>\r\n                <v-toolbar-title v-if=\"!editingTitle\">\r\n                    {{ conversation.title }}\r\n                </v-toolbar-title>\r\n                <v-toolbar-title v-else style=\"width: 100%\" class=\"ml-3 pl-2\">\r\n                    <div style=\"display: flex; flex-direction: row\">\r\n                        <v-text-field v-model=\"newTitle\" @keyup.enter.prevent=\"updateTitle\" autofocus></v-text-field>\r\n                        <v-btn v-if=\"!mobile\" @click=\"updateTitle\">SAVE</v-btn>\r\n                    </div>\r\n                </v-toolbar-title>\r\n                <v-spacer></v-spacer>\r\n                <v-btn text v-if=\"isConversationDeletable\" @click=\"deleteConversationDialog = true\"><v-icon>mdi-delete</v-icon></v-btn>\r\n            </v-toolbar>\r\n\r\n            <div class=\"chat-body-container\" :style=\"{height: bodyContainerHeight + 'px'}\" ref=\"chatBodyContainer\">\r\n                <v-row class=\"px-0\">\r\n                    <v-col cols=\"12\" class=\"py-1\" v-for=\"(message, index) in conversation.messages\"\r\n                           :key=\"index\" @mouseover=\"setMessageHover(message, true)\"\r\n                           @mouseleave=\"setMessageHover(message, false)\">\r\n                        <chat-bubble :message=\"message\"\r\n                                     :currentTime=\"time\"\r\n                                     :owner=\"isOwner(message)\"\r\n                                     @moreInfo=\"openMoreInfo\"\r\n                                     @deleteMessage=\"deleteMessage\">\r\n                            <template v-slot:lastReadIcon v-if=\"isLastReadMessage(message)\">\r\n                                <chat-avatar :conversation=\"conversation\" size=\"16\"></chat-avatar>\r\n                            </template>\r\n                        </chat-bubble>\r\n                    </v-col>\r\n                </v-row>\r\n            </div>\r\n            <div class=\"chat-message-textfield\" ref=\"chatTextfield\">\r\n                <v-text-field v-model=\"newMessage.text\"\r\n                              autofocus\r\n                              label=\"Message\"\r\n                              ref=\"newMessage\"\r\n                              @keyup.enter.prevent=\"sendMessage\"\r\n                              class=\"pa-0\">\r\n                    <template v-slot:append-outer>\r\n                        <v-btn icon text @click=\"sendMessage\"><fa-icon size=\"lg\" icon=\"paper-plane\"></fa-icon></v-btn>\r\n                    </template>\r\n                </v-text-field>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import ChatBubble from './chat-bubble'\r\n    import ChatAvatar from './chat-avatar'\r\n    import service from '../../../services/chat'\r\n\r\n    import { mapState } from 'vuex'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                newMessage: null,\r\n                deleteConversationDialog: false,\r\n                moreInfoDialog: false,\r\n                editingTitle: false,\r\n                newTitle: null,\r\n                moreInfo: {},\r\n                chatWindow: null,\r\n                scrollHeight: 0,\r\n                bodyContainerHeight: 0,\r\n                othersLastReadMessage: -1,\r\n            }\r\n        },\r\n        components: {\r\n            'chat-bubble': ChatBubble,\r\n            'chat-avatar': ChatAvatar,\r\n        },\r\n        props: {\r\n            conversation: {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            time: {\r\n                type: Number,\r\n                required: true,\r\n            },\r\n            show: {\r\n                type: Boolean,\r\n                required: true,\r\n            },\r\n            mobile: {\r\n                type: Boolean,\r\n                required: true,\r\n            },\r\n        },\r\n        created() {\r\n            this.newMessage = { text: '' };\r\n            this.$chatHub.$on('message-received', this.onMessageReceived);\r\n            this.$chatHub.$on('read-receipt-received', this.onReadReceiptReceived);\r\n            window.addEventListener('resize', this.resizeWindow);\r\n        },\r\n        mounted() {\r\n            this.chatWindow = this.$refs.chatBodyContainer;\r\n            this.chatWindow.addEventListener('scroll', this.windowScroll);\r\n        },\r\n        beforeDestroy() {\r\n            this.$chatHub.$off('message-received', this.onMessageReceived);\r\n            this.$chatHub.$off('read-receipt-received', this.onReadReceiptReceived);\r\n            this.chatWindow.removeEventListener('scroll', this.windowScroll);\r\n            window.removeEventListener('resize', this.resizeWindow);\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                user: state => state.auth.user,\r\n                activeModules: state => state.auth.activeModules\r\n            }),\r\n            isConversationDeletable() {\r\n                const chatModule = this.activeModules.find(x => x.id === 'chat');\r\n                if (typeof chatModule !== 'undefined') {\r\n                    const feature = chatModule.userModuleFeatures.find(x => x.moduleFeatureId === 'chat-delete-conversation')\r\n                    if (typeof feature !== 'undefined') {\r\n                        return true;\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            },\r\n        },\r\n        watch: {\r\n            editingTitle(newValue) {\r\n                if (newValue === false) {\r\n                    this.newTitle = null;\r\n                }\r\n                else {\r\n                    this.newTitle = this.conversation.title;\r\n                }\r\n            },\r\n            show(newValue) {\r\n                if (newValue === true) {\r\n                    this.$store.dispatch('getMessagesForConversation', this.conversation.id).then(resp => {\r\n                        this.updateContainerHeight(true);\r\n                        this.updateReadReceiptMarker();\r\n                    })\r\n                }\r\n            },\r\n            scrollHeight(newValue) {\r\n                if (this.show) {\r\n                    // This here is a way to make sure we trigger a read of all messages when we get to the bottom of the scrollbar\r\n                    // The plus one at the end is a way to make it compatible with most browsers. For some reason Edge as an example\r\n                    // has the scroll height over by about 0.4 pixels when you add the scroll value to the client height of the chat window.\r\n                    // It seems like the scroll value can't necessarily get to the maximum value it's supposed to. Look into a safer way to\r\n                    // handle this in the future\r\n                    if (this.chatWindow.scrollHeight <= newValue + this.chatWindow.clientHeight + 1) {\r\n                        this.$_console_log('Max scroll reached. You\\'re at the bottom, reading all messages.');\r\n                        this.readAllMessages();\r\n                    }\r\n                }                \r\n            },\r\n        },\r\n        methods: {\r\n            windowScroll(event) {\r\n                this.$_console_log('Scroll event', event);\r\n                this.scrollHeight = event.target.scrollTop;\r\n            },\r\n            resizeWindow(event) {\r\n                this.updateContainerHeight();\r\n            },\r\n            async updateContainerHeight(attemptScroll) {\r\n                this.$nextTick(() => {\r\n                    let bodyContainer = this.$refs.chatBodyContainer;\r\n                    let chatMessageTextfield = this.$refs.chatTextfield;\r\n                    this.bodyContainerHeight = window.innerHeight - bodyContainer.offsetTop - chatMessageTextfield.clientHeight - 4;\r\n\r\n                    this.$_console_log('Containers', bodyContainer, chatMessageTextfield, 'Window Height', window.innerHeight, this.bodyContainerHeight);\r\n\r\n                    if (attemptScroll === true) {\r\n                        if (Array.isArray(this.conversation.messages) && this.conversation.messages.length > 0) {\r\n                            this.$_console_log('Heights: ', this.bodyContainerHeight, this.chatWindow.scrollHeight)\r\n                            if (this.bodyContainerHeight >= this.chatWindow.scrollHeight) {\r\n                                this.$_console_log('Show watcher: No scrollbar exists. Reading all messages');\r\n                                this.scrollToBottom();\r\n                            }\r\n                            else {\r\n                                this.$_console_log('Show watcher: Message length is greater than 0. Scrolling to last read message');\r\n                                this.scrollToLastReadMessage();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            onMessageReceived(message) {\r\n                if (typeof message !== 'object' || message === null) {\r\n                    this.$_console_log('OnMessageReceived: Null object returned');\r\n                    return;\r\n                }\r\n\r\n                if (this.conversation.id !== message.conversationId) {\r\n                    return;\r\n                }\r\n\r\n                this.$store.dispatch('addChatMessage', { conversationId: this.conversation.id, message: message }).then(() => {\r\n                    if (this.show) {\r\n                        // Scroll to bottom when active user sends a message. This will ultimately cause all messages to be read,\r\n                        // Also scroll to the bottom when there is no scrollbar yet.\r\n                        if (message.userId === this.user.id || this.chatWindow.clientHeight === this.chatWindow.scrollHeight) {\r\n                            this.scrollToBottom();\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n            onReadReceiptReceived(receipt) {\r\n                this.$_console_log('Read receipt received: ', receipt);\r\n\r\n                if (typeof receipt !== 'object' || receipt === null) {\r\n                    this.$_console_log('OnReadReceiptReceived: Null object returned');\r\n                    return;\r\n                }\r\n\r\n                if (this.conversation.id !== receipt.message.conversationId) {\r\n                    return;\r\n                }\r\n\r\n                this.$store.dispatch('addReadReceipt', { conversationId: this.conversation.id, receipt: receipt }).then(() => {\r\n                    this.$_console_log('Receipt successfully added to message. Show', this.show)\r\n                    if (this.show) {\r\n                        this.updateReadReceiptMarker();\r\n                    }\r\n                });\r\n            },\r\n            goBack() {\r\n                this.$emit('goBack', true);\r\n            },\r\n            async sendMessage() {\r\n                this.newMessage.id = 0;\r\n                this.newMessage.userId = this.user.id;\r\n                this.newMessage.conversationId = this.conversation.id;\r\n\r\n                await service.sendMessage(this.newMessage);\r\n\r\n                this.newMessage = { text: '' };\r\n                this.$refs.newMessage.focus();\r\n            },\r\n            isOwner(message) {\r\n                if (this.user.id === message.userId) {\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            },\r\n            getTextPosition(message) {\r\n                if (message.userId === this.user.id) {\r\n                    return 'text-right';\r\n                }\r\n                else {\r\n                    return 'text-left';\r\n                }\r\n            },\r\n            deleteConversation() {\r\n                this.$store.dispatch('deleteConversation', this.conversation.id)\r\n                    .then(() => { }).catch(() => { }).then(() => this.deleteConversationDialog = false);\r\n            },\r\n            updateTitle() {\r\n                const title = this.newTitle;\r\n\r\n                if (/^\\s*$/.test(title)) {\r\n                    this.editingTitle = false;\r\n                    return;\r\n                }\r\n\r\n                this.$store.dispatch('updateConversationTitle', { conversationId: this.conversation.id, title: title })\r\n                    .then(() => { }).catch(() => { }).then(() => this.editingTitle = false);\r\n            },\r\n            openMoreInfo(message) {\r\n                this.moreInfo.text = message.text;\r\n                this.moreInfo.timestamp = message.timestamp;\r\n                this.moreInfo.username = message.userId;\r\n\r\n                this.moreInfoDialog = true;\r\n            },\r\n            deleteMessage(id) {\r\n                this.$store.dispatch('deleteChatMessage', { conversationId: this.conversation.id, messageId: id });\r\n            },\r\n            canDeleteMessage(message) {\r\n                if (this.isMessageDeletable) {\r\n                    if (message.userId === this.user.id) {\r\n                        return true;\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            },\r\n            scrollToBottom() {\r\n                this.$nextTick(() => {\r\n                    this.chatWindow.scrollTo(0, this.chatWindow.scrollHeight);\r\n                    this.readAllMessages();\r\n                });\r\n            },\r\n            scrollToLastReadMessage() {\r\n                if (!this.show) {\r\n                    return;\r\n                }\r\n\r\n                let lastMessage = this.conversation.messages.find(x => this.user.id !== x.userId &&\r\n                    (x.readReceipts.length === 0 || typeof x.readReceipts.find(y => y.userId !== this.user.id) !== 'undefined'));\r\n\r\n                if (typeof lastMessage !== 'undefined') {\r\n                    this.$nextTick(() => {\r\n                        const ids = document.getElementsByClassName('bubble-id');\r\n\r\n                        let correctElement = null;\r\n                        let height = 0;\r\n                        for (let i = 0; i < ids.length; i++) {\r\n                            height += ids[i].parentNode.offsetHeight;\r\n                            if (parseInt(ids[i].innerText, 10) === lastMessage.id) {\r\n                                correctElement = ids[i];\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        if (correctElement !== null) {\r\n                            this.chatWindow.scrollTo(0, height - this.chatWindow.offsetTop);\r\n\r\n                            this.$store.dispatch('highlightMessage', { messageId: lastMessage.id, conversationId: lastMessage.conversationId, on: true });\r\n                            setTimeout(() => {\r\n                                this.$store.dispatch('highlightMessage', { messageId: lastMessage.id, conversationId: lastMessage.conversationId, on: false });\r\n                            }, 3000);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    this.$_console_log('ScrollToLastReadMessage: All messages are read.');\r\n                    this.scrollToBottom();\r\n                }\r\n            },\r\n            readAllMessages() {\r\n                if (!Array.isArray(this.conversation.messages)) {\r\n                    return;\r\n                }\r\n\r\n                const newMessages = this.conversation.messages.filter(x => (!Array.isArray(x.readReceipts) || x.readReceipts.length === 0) && x.userId !== this.user.id);\r\n                if (!Array.isArray(newMessages) || newMessages.length === 0) {\r\n                    this.$_console_log('ReadAllMessages: NewMessages is null or empty');\r\n                    return;\r\n                }\r\n\r\n                this.$_console_log(newMessages);\r\n                this.$store.dispatch('readChatMessageList', { conversationId: this.conversation.id, messageIds: newMessages.map(x => x.id) })\r\n            },\r\n            setMessageHover(message, on) {\r\n                if (on) {\r\n                    this.$store.dispatch('setMessageHover', { messageId: message.id, conversationId: message.conversationId, on: true });\r\n                }\r\n                else {\r\n                    this.$store.dispatch('setMessageHover', { messageId: message.id, conversationId: message.conversationId, on: false });\r\n                }\r\n            },\r\n            isLastReadMessage(message) {\r\n                if (this.othersLastReadMessage > -1 && message.id === this.conversation.messages[this.othersLastReadMessage].id)\r\n                    return true;\r\n\r\n                return false;\r\n            },\r\n            updateReadReceiptMarker() {\r\n                // If 2 person converation, show where the usre last read to\r\n                if (this.conversation.conversationUsers.length === 2) {\r\n                    let i;\r\n                    let foundMessage = false;\r\n\r\n                    if (this.othersLastReadMessage > -1)\r\n                        i = this.othersLastReadMessage;\r\n                    else\r\n                        i = 0;\r\n\r\n                    for (i; i < this.conversation.messages.length; i++) {\r\n                        if (this.conversation.messages[i].userId !== this.user.id)\r\n                            continue;\r\n\r\n                        if (this.conversation.messages[i].readReceipts !== null && this.conversation.messages[i].readReceipts.length === 0) {\r\n                            break;\r\n                        }\r\n                        else {\r\n                            foundMessage = true;\r\n                        }\r\n                    }\r\n                    //let lastMessage = this.conversation.messages.find(x => this.user.id === x.userId &&\r\n                    //    (x.readReceipts.length === 0 || typeof x.readReceipts.find(y => y.userId !== this.user.id) === 'undefined'));\r\n\r\n                    if (foundMessage === true) {\r\n                        while (i > 1) {\r\n                            if (this.conversation.messages[--i].userId === this.user.id) {\r\n                                break;\r\n                            }\r\n                        }\r\n                        this.othersLastReadMessage = i;\r\n                    }\r\n                }\r\n                else {\r\n                    // If user count is > 2 than we need to find a solution on how to show the read receipt icon of the user\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function getPosition(element) {\r\n        var xPosition = 0;\r\n        var yPosition = 0;\r\n\r\n        while (element) {\r\n            xPosition += (element.offsetLeft - element.scrollLeft + element.clientLeft);\r\n            yPosition += (element.offsetTop - element.scrollTop + element.clientTop);\r\n            element = element.offsetParent;\r\n        }\r\n\r\n        return { x: xPosition, y: yPosition };\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .chat-body-container {\r\n        overflow-y: scroll;\r\n        overflow-x: hidden;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-conversation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-conversation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chat-conversation.vue?vue&type=template&id=34ab5be9&\"\nimport script from \"./chat-conversation.vue?vue&type=script&lang=js&\"\nexport * from \"./chat-conversation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat-conversation.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VFlex,VIcon,VLayout,VRow,VSpacer,VTextField,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.conversation.unreadMessages > 0)?_c('v-badge',{attrs:{\"content\":_vm.conversation.unreadMessages}},[_c('chat-avatar',{attrs:{\"conversation\":_vm.conversation}})],1):_c('chat-avatar',{attrs:{\"conversation\":_vm.conversation}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <v-badge :content=\"conversation.unreadMessages\" v-if=\"conversation.unreadMessages > 0\">\r\n            <chat-avatar :conversation=\"conversation\" />\r\n        </v-badge>\r\n        <chat-avatar :conversation=\"conversation\" v-else />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import ChatAvatar from './chat-avatar'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n\r\n            }\r\n        },\r\n        components: {\r\n            'chat-avatar': ChatAvatar,\r\n        },\r\n        props: {\r\n            conversation: {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-badge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-badge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chat-badge.vue?vue&type=template&id=36c6af6b&\"\nimport script from \"./chat-badge.vue?vue&type=script&lang=js&\"\nexport * from \"./chat-badge.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\ninstallComponents(component, {VBadge})\n","<template>\r\n    <v-container class=\"py-0\">\r\n        <div class=\"headline\">Chat System</div>\r\n\r\n        <div v-show=\"(isMobile && !hideMobile) || !isMobile\">\r\n            <v-row no-gutters align=\"center\">\r\n                <v-col cols=\"12\" sm=\"8\" md=\"9\">\r\n                    <v-autocomplete v-model=\"newConversation.users\"\r\n                                    :items=\"userList\"\r\n                                    item-value=\"id\"\r\n                                    item-text=\"displayName\"\r\n                                    prepend-icon=\"mdi-database-search\"\r\n                                    label=\"Select user(s)\"\r\n                                    :loading=\"isLoading\"\r\n                                    :search-input.search=\"search\"\r\n                                    multiple>\r\n                    </v-autocomplete>\r\n                </v-col>\r\n                <v-col cols=\"12\" sm=\"4\" md=\"3\">\r\n                    <v-btn @click=\"startConversation\" class=\"mb-2\">Start Conversation</v-btn>\r\n                </v-col>\r\n            </v-row>\r\n        </div>\r\n\r\n        <v-row no-gutters>\r\n            <v-col cols=\"12\" md=\"3\" lg=\"2\" class=\"px-0\" v-show=\"(isMobile && !hideMobile)|| !isMobile\">\r\n                <template v-if=\"Array.isArray(conversations) && conversations.length > 0\">\r\n                    <v-list shaped>\r\n                        <v-list-item v-for=\"(convo, index) in conversations\" :key=\"index\" @click=\"selectedConversation = convo\">\r\n                            <v-list-item-icon>\r\n                                <chat-badge :conversation=\"convo\" />\r\n                            </v-list-item-icon>\r\n                            <v-list-item-content>\r\n                                {{ convo.title }}\r\n                            </v-list-item-content>\r\n                        </v-list-item>\r\n                    </v-list>\r\n                </template>\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" md=\"9\" lg=\"10\" class=\"chat-conversation-window pb-0 px-0 pr-2\" v-show=\"(isMobile && hideMobile)|| !isMobile\">\r\n                <template v-for=\"(conversation, index) in conversations\">\r\n                    <chat-conversation :conversation=\"conversation\"\r\n                                       :time=\"currentTime\"\r\n                                       :show=\"shouldShowConversation(conversation)\"\r\n                                       :mobile=\"isMobile\"\r\n                                       @goBack=\"closeConversation\" />\r\n                </template>\r\n            </v-col>\r\n        </v-row>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\n    import Conversation from '../modules/chat/chat-conversation'\r\n    import ChatBadge from '../modules/chat/chat-badge'\r\n\r\n    import { mapState } from 'vuex';\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                selectedConversation: null,\r\n                newConversation: {\r\n                    users: [],\r\n                },\r\n                search: null,\r\n                isLoading: false,\r\n                currentTime: 0,\r\n                hideMobile: false,\r\n            }\r\n        },\r\n        components: {\r\n            'chat-conversation': Conversation,\r\n            'chat-badge': ChatBadge,\r\n        },\r\n        mounted() {\r\n            this.countTime();\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                user: state => state.auth.user,\r\n                userList: state => state.auth.otherUsers,\r\n                conversations: state => state.chat.conversations,\r\n            }),\r\n            isMobile() {\r\n                return this.$vuetify.breakpoint.mobile;\r\n            },\r\n        },\r\n        watch: {\r\n            selectedConversation: {\r\n                handler(newValue, oldValue) {\r\n                    //if (typeof newValue === 'object' && newValue !== null) {\r\n                    //    if ((typeof oldValue === 'object' && oldValue !== null && newValue.id !== oldValue.id) || typeof oldValue !== 'object' || oldValue === null) {\r\n                    //        this.$store.dispatch('getMessagesForConversation', newValue.id);\r\n                    //    }                        \r\n                    //}\r\n\r\n                    this.$_console_log('SelectedConversation', newValue);\r\n                    if (newValue === null) {\r\n                        this.hideMobile = false;\r\n                    }\r\n                    else {\r\n                        this.hideMobile = true;\r\n                    }\r\n                },\r\n                deep: true\r\n            }\r\n        },\r\n        methods: {\r\n            countTime() {\r\n                this.currentTime = Math.trunc(new Date().getTime() / 1000);\r\n\r\n                setTimeout(() => {\r\n                    this.countTime();\r\n                }, 1000);\r\n            },\r\n            closeConversation() {\r\n                this.selectedConversation = null;\r\n            },\r\n            async getAllConversations() {\r\n                this.$store.dispatch('getAllConversationsForUser').then(resp => {\r\n                    const newMessages = this.conversation.messages.filter(x => (!Array.isArray(x.readReceipts) || x.readReceipts.length === 0) && x.userId !== this.user.id);\r\n                    if (!Array.isArray(newMessages) || newMessages.length === 0) {\r\n                        this.$_console_log('ReadAllMessages: NewMessages is null or empty');\r\n                        return;\r\n                    }\r\n                });\r\n            },\r\n            async startConversation() {\r\n                this.$store.dispatch('startNewConversation', this.newConversation)\r\n                    .then(() => { }).catch(() => { }).then(() => this.newConversation.users = []);\r\n            },\r\n            shouldShowConversation(conversation) {\r\n                if (typeof conversation === 'object' && conversation !== null) {\r\n                    if (typeof this.selectedConversation === 'object' && this.selectedConversation !== null) {\r\n                        if (conversation.id === this.selectedConversation.id) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            },\r\n        },\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-messaging.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-messaging.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chat-messaging.vue?vue&type=template&id=158b93bf&\"\nimport script from \"./chat-messaging.vue?vue&type=script&lang=js&\"\nexport * from \"./chat-messaging.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAutocomplete,VBtn,VCol,VContainer,VList,VListItem,VListItemContent,VListItemIcon,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('file-explorer',{attrs:{\"parentView\":\"browser\",\"goFile\":_vm.goFile},on:{\"loadFile\":_vm.loadFile}}),_c('file-viewer',{attrs:{\"open\":_vm.dialogOpen},on:{\"viewer-off\":function($event){_vm.dialogOpen = false},\"file-back\":function($event){return _vm.browserGo(-1)},\"file-forward\":function($event){return _vm.browserGo(1)}}},[(_vm.type === _vm.mediaTypes.video)?[_c('p',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Video Player\")]),_c('video-player',{attrs:{\"url\":_vm.path,\"on\":_vm.on},on:{\"player-off\":function($event){_vm.on = false}}})]:(_vm.type === _vm.mediaTypes.image)?[_c('p',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Image Viewer\")]),_c('image-viewer',{attrs:{\"url\":_vm.path}})]:(_vm.type === _vm.mediaTypes.text)?[_c('p',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Text Viewer\")]),_c('text-viewer',{attrs:{\"url\":_vm.path,\"on\":_vm.on},on:{\"text-off\":function($event){_vm.on = false}}})]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from '../axios'\r\nimport store from '../store/index'\r\n\r\nconst LoadDirectoryUrl = `api/directory/folder`;\r\nconst FileListUrl = `api/directory/list`;\r\nconst GetFileUrl = `api/directory/download/file`;\r\nconst DeleteUploadUrl = `api/directory/delete`;\r\nconst UploadFilesUrl = `api/directory/upload`;\r\n\r\nexport default {\r\n    loadDirectory(dir, subDir) {\r\n        if (typeof subDir === 'undefined' || subDir === null || subDir === '' || subDir === false)\r\n            return axios.get(`${LoadDirectoryUrl}/${dir}`);\r\n        else\r\n            return axios.get(`${LoadDirectoryUrl}/${dir}/${subDir}`);\r\n    },\r\n    getFile(file) {\r\n        return axios.get(`${GetFileUrl}/${file}`, { params: { token: store.state.auth.accessToken } })\r\n    },\r\n    getFolderList() {\r\n        return axios.get(FileListUrl);\r\n    },\r\n    deleteFile(file, folder, subFolder) {\r\n        return axios.request({\r\n            url: DeleteUploadUrl,\r\n            method: 'POST',\r\n            data: {\r\n                Name: file,\r\n                Directory: folder,\r\n                SubDirectory: subFolder\r\n            }\r\n        })\r\n    },\r\n    uploadFile(data) {\r\n        return axios.request({\r\n            url: UploadFilesUrl,\r\n            method: 'POST',\r\n            data: data,\r\n            headers: {\r\n                'Content-Type': false,\r\n                'Process-Data': false\r\n            },\r\n            timeout: 60000,\r\n        });\r\n    }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-overlay',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loadingContents),expression:\"loadingContents\"}],attrs:{\"absolute\":\"\",\"opacity\":\"0.50\",\"z-index\":\"9999\"}},[_c('v-progress-circular',{staticClass:\"browser-loading-circle\",attrs:{\"size\":200,\"width\":16,\"color\":\"primary\",\"indeterminate\":\"\"}})],1),(_vm.features.upload === true)?_c('file-upload'):_vm._e(),_c('v-container',[(_vm.selectable)?_c('v-form',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"px-2\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.folders,\"label\":\"Select a folder\",\"item-text\":\"name\",\"item-value\":\"name\"},model:{value:(_vm.selectedDirectory),callback:function ($$v) {_vm.selectedDirectory=$$v},expression:\"selectedDirectory\"}})],1)],1)],1):_vm._e(),_c('v-card',[_c('v-container',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs1\":\"\"}},[(_vm.canGoBack)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.goBack}},[_c('fa-icon',{attrs:{\"icon\":\"arrow-left\",\"ma-2\":\"\",\"pa-2\":\"\"}})],1):_vm._e()],1),_c('v-flex',{attrs:{\"xs11\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.fullPath)+\" \")])],1)],1)],1),_vm._l((_vm.contents),function(item){return _c('v-list-item',{key:item.id},[_c('v-list-item-action',[_c('a',{attrs:{\"href\":_vm.getDownloadPath(item),\"download\":\"\"}},[_c('fa-icon',{attrs:{\"icon\":\"download\"}})],1)]),_c('v-list-item-avatar',[_c('fa-icon',{staticStyle:{\"color\":\"gray\"},attrs:{\"icon\":_vm.getIcon(item),\"size\":\"2x\"}})],1),_c('v-list-item-content',{class:{ 'hide-extra': _vm.$vuetify.breakpoint.xsOnly ? true : false },on:{\"click\":function($event){return _vm.open(item)}}},[_c('tooltip',{attrs:{\"value\":item.title}})],1),(item.size > 0)?_c('v-list-item-action',{staticClass:\"hidden-xs-only\"},[_vm._v(\" \"+_vm._s(_vm.getFileSize(item.size))+\" \")]):_vm._e(),(_vm.features.delete)?_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_c('fa-icon',{attrs:{\"size\":\"lg\",\"icon\":\"window-close\"}})],1)],1):_vm._e()],1)}),_c('v-layout',{staticClass:\"loading-container\",attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-progress-circular',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"indeterminate\":\"\",\"color\":\"purple\",\"width\":12,\"size\":120}})],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"grey lighten-3\",\"open-delay\":\"400\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('span',_vm._g({},on),[_vm._v(_vm._s(_vm.value))])]}}])},[_c('v-flex',{staticClass:\"tooltip\"},[_vm._t(\"default\",[_vm._v(_vm._s(_vm.value))])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-tooltip bottom color=\"grey lighten-3\" open-delay=\"400\">\r\n        <template v-slot:activator=\"{ on }\">\r\n            <span v-on=\"on\">{{ value }}</span>\r\n        </template>\r\n        \r\n        <v-flex class=\"tooltip\">\r\n            <slot>{{ value }}</slot>\r\n        </v-flex>\r\n    </v-tooltip>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n\r\n            }\r\n        },\r\n        props: {\r\n            value: {\r\n                type: String,\r\n                required: true,\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .tooltip {\r\n        color: #424242;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tooltip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tooltip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tooltip.vue?vue&type=template&id=57950a7e&\"\nimport script from \"./tooltip.vue?vue&type=script&lang=js&\"\nexport * from \"./tooltip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tooltip.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VFlex,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-container',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.uploadFiles.length > 0),expression:\"uploadFiles.length > 0\"}],attrs:{\"grid-list-xl\":\"\"}},[_c('div',{staticClass:\"text-xs-center\"},[_vm._v(\"Files being uploaded...\")]),_c('v-list',[_vm._l((_vm.uploadFiles),function(file,i){return [_c('v-list-item',[_c('v-list-item-content',[_vm._v(\" \"+_vm._s(file.name)+\" \")])],1)]})],2)],1),_c('v-container',{staticClass:\"upload-area\",attrs:{\"mt-1\":\"\"}},[_c('v-form',{attrs:{\"enctype\":\"multipart/form-data\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('label',{staticClass:\"upload-button\",attrs:{\"id\":\"upload-button\",\"for\":\"upload-files\"}},[_vm._v(\"UPLOAD FILES\")])]),_c('input',{ref:\"fUpload\",staticClass:\"file-upload\",attrs:{\"type\":\"file\",\"name\":\"upload-files\",\"id\":\"upload-files\",\"multiple\":\"\",\"hidden\":\"\"},on:{\"change\":_vm.setFiles}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const getSubdirectoryString = function (subDirs) {\r\n    let path = '';\r\n\r\n    if (!Array.isArray(subDirs)) {\r\n        return path;\r\n    }\r\n    \r\n    for (let i = 0; i < subDirs.length; i++) {\r\n        path += subDirs[i];\r\n\r\n        if (subDirs.length - 1 !== i) {\r\n            path += '/';\r\n        }\r\n    }\r\n\r\n    return path;\r\n}\r\n\r\nexport const getSubdirectoryArray = function (subDirString) {\r\n    let obj = subDirString;\r\n    let objArray = [];\r\n\r\n    if (typeof subDirString === 'undefined' || subDirString === null || subDirString === '') {\r\n        return objArray;\r\n    }        \r\n\r\n    while (obj.includes('/')) {\r\n        const tmpPiece = obj.substr(0, obj.indexOf(\"/\"));\r\n\r\n        if (tmpPiece !== '')\r\n            objArray.push(tmpPiece);\r\n\r\n        obj = obj.substr(tmpPiece.length + 1);\r\n    }\r\n    objArray.push(obj);\r\n\r\n    return objArray;\r\n}\r\n\r\nexport const splitPathFromRoute = function (path) {\r\n    let obj = null;\r\n    if (typeof path === 'undefined' || path === null || path === '') {\r\n        return obj;\r\n    }\r\n\r\n    if (!path.includes('/')) {\r\n        obj = {\r\n            base: path,\r\n            subDirs: null\r\n        };\r\n    }\r\n    else {\r\n        obj = {\r\n            base: path.substr(0, path.indexOf('/')),\r\n            subDirs: path.substr(path.indexOf('/') + 1)\r\n        }\r\n    }\r\n\r\n    return obj;\r\n}\r\n","<template>\r\n    <div>\r\n        <v-container grid-list-xl v-show=\"uploadFiles.length > 0\">\r\n            <div class=\"text-xs-center\">Files being uploaded...</div>\r\n            <v-list>\r\n                <template v-for=\"(file, i) in uploadFiles\">\r\n                    <v-list-item>\r\n                        <v-list-item-content>\r\n                            {{ file.name }}\r\n                        </v-list-item-content>\r\n                    </v-list-item>\r\n                </template>\r\n            </v-list>\r\n        </v-container>\r\n\r\n        <v-container mt-1 class=\"upload-area\">\r\n            <v-form enctype=\"multipart/form-data\">\r\n                <v-layout row wrap>\r\n                    <v-flex xs12>\r\n                        <label id=\"upload-button\" for=\"upload-files\" class=\"upload-button\">UPLOAD FILES</label>\r\n                    </v-flex>\r\n                    <input ref=\"fUpload\" type=\"file\" name=\"upload-files\" id=\"upload-files\" class=\"file-upload\" multiple @change=\"setFiles\" hidden />\r\n                </v-layout>\r\n            </v-form>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import * as CONST from '../../constants'\r\n    import { mapState } from 'vuex'\r\n    import { getSubdirectoryString } from '../../helpers/browser'\r\n\r\n    import service from '../../services/file-explorer'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                // Upload\r\n                uploadFiles: [],\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                directory: state => state.fileExplorer.directory,\r\n                subDirectories: state => state.fileExplorer.subDirectories,\r\n            }),\r\n        },\r\n        methods: {\r\n            // Upload\r\n            setFiles(e) {\r\n                this.$_console_log(e.target.files);\r\n                for (let i = 0; i < e.target.files.length; i++) {\r\n                    this.uploadFiles.push(e.target.files[i]);\r\n                }\r\n                this.uploadMultipleFiles();\r\n            },\r\n            async uploadMultipleFiles() {\r\n                for (let i = 0; i < this.uploadFiles.length; i++) {\r\n                    this.$_console_log(this.uploadFiles[i].name);\r\n\r\n                    await this.sendFile(this.uploadFiles[i]).then(resp => {\r\n                        this.$_console_log(\"File sent!\");\r\n                    }).catch(() => {\r\n                        this.$_console_log(\"Failed to upload file\")\r\n                    });\r\n                }\r\n\r\n                // Clean the list \r\n                this.uploadFiles = [];\r\n                this.$refs.fUpload.value = '';\r\n                this.$_console_log(\"Finished sending all files\");\r\n            },\r\n            async sendFile(file) {\r\n                let formData = new FormData();\r\n                formData.append(\"File\", file);\r\n                formData.append(\"Name\", file.name);\r\n                formData.append(\"Directory\", this.directory);\r\n\r\n                let subDirs = getSubdirectoryString(this.subDirectories);\r\n                this.$_console_log('SubDirs: ', subDirs);\r\n                if (subDirs !== '')\r\n                    formData.append(\"SubDirectory\", subDirs);\r\n\r\n                await service.uploadFile(formData).then(resp => {\r\n                    this.$_console_log(\"Successfully uploaded file\");\r\n\r\n                    this.$store.dispatch('addFile', resp.data);\r\n                    this.$store.dispatch('pushNotification', {\r\n                        text: `Successfully uploaded file ${file.name}`,\r\n                        type: 0\r\n                    });\r\n                }).catch(() => {\r\n                    this.$_console_log(\"Error uploading files\");\r\n\r\n                    this.$store.dispatch('pushNotification', {\r\n                        text: `Failed uploading file ${file.name}`,\r\n                        type: 2\r\n                    });\r\n                });\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .upload-area:hover {\r\n        border: 1px dashed #D8D8D8;\r\n        background-color: #646464;\r\n        color: #323232;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .upload-area {\r\n        border-radius: 5px;\r\n        background-color: #424242;\r\n    }\r\n\r\n    .upload-button {\r\n        display: block;\r\n        text-align: center;\r\n        line-height: 150%;\r\n        font-size: .85em;\r\n    }\r\n\r\n    .small {\r\n        height: 80px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./file-upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./file-upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./file-upload.vue?vue&type=template&id=05dd7626&scoped=true&\"\nimport script from \"./file-upload.vue?vue&type=script&lang=js&\"\nexport * from \"./file-upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./file-upload.vue?vue&type=style&index=0&id=05dd7626&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05dd7626\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VContainer,VFlex,VForm,VLayout,VList,VListItem,VListItemContent})\n","<template>\r\n    <div>\r\n        <v-overlay v-show=\"loadingContents\" absolute opacity=\"0.50\" z-index=\"9999\">\r\n            <v-progress-circular :size=\"200\"\r\n                                 :width=\"16\"\r\n                                 color=\"primary\"\r\n                                 indeterminate\r\n                                 class=\"browser-loading-circle\"></v-progress-circular>\r\n        </v-overlay>\r\n\r\n        <file-upload v-if=\"features.upload === true\"></file-upload>\r\n\r\n        <v-container>\r\n            <v-form v-if=\"selectable\">\r\n                <v-layout row wrap px-2>\r\n                    <v-flex xs12>\r\n                        <v-select v-model=\"selectedDirectory\" :items=\"folders\" :label=\"`Select a folder`\" item-text=\"name\" item-value=\"name\"></v-select>\r\n                    </v-flex>\r\n                </v-layout>\r\n            </v-form>\r\n            <v-card>\r\n                <v-container>\r\n                    <v-layout row wrap>\r\n                        <v-flex xs1>\r\n                            <v-btn v-if=\"canGoBack\" icon @click=\"goBack\"><fa-icon icon=\"arrow-left\" ma-2 pa-2></fa-icon></v-btn>\r\n                        </v-flex>\r\n                        <v-flex xs11>\r\n                            {{ fullPath }}\r\n                        </v-flex>\r\n                    </v-layout>\r\n                </v-container>\r\n            </v-card>\r\n\r\n            <v-list-item v-for=\"item in contents\" :key=\"item.id\">\r\n                <v-list-item-action>\r\n                    <a :href=\"getDownloadPath(item)\" download><fa-icon icon=\"download\" /></a>\r\n                </v-list-item-action>\r\n                <v-list-item-avatar>\r\n                    <fa-icon :icon=\"getIcon(item)\" size=\"2x\" style=\"color: gray;\" />\r\n                </v-list-item-avatar>\r\n                <v-list-item-content @click=\"open(item)\" :class=\"{ 'hide-extra': $vuetify.breakpoint.xsOnly ? true : false }\">\r\n                    <tooltip :value=\"item.title\"></tooltip>\r\n                </v-list-item-content>\r\n                <v-list-item-action v-if=\"item.size > 0\" class=\"hidden-xs-only\">\r\n                    {{ getFileSize(item.size) }}\r\n                </v-list-item-action>\r\n                <!-- Ensure admin and not a folder for delete -->\r\n                <v-list-item-action v-if=\"features.delete\">\r\n                    <v-btn icon @click=\"deleteItem(item)\"><fa-icon size=\"lg\" icon=\"window-close\" /></v-btn>\r\n                </v-list-item-action>\r\n            </v-list-item>\r\n\r\n            <v-layout row justify-center class=\"loading-container\">\r\n                <v-progress-circular v-show=\"loading\" indeterminate color=\"purple\" :width=\"12\" :size=\"120\"></v-progress-circular>\r\n            </v-layout>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import service from '../../services/file-explorer'\r\n    import { mapState } from 'vuex'\r\n\r\n    import Tooltip from './tooltip'\r\n    import FileUpload from './file-upload'\r\n\r\n    import Auth from '../../mixins/authentication'\r\n\r\n\r\n    import { getSubdirectoryString } from '../../helpers/browser'\r\n\r\n    let path = process.env.API_URL;\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                selectedDirectory: '',\r\n\r\n                loading: false,\r\n                changing: false,\r\n                features: {\r\n                    upload: false,\r\n                    delete: false,\r\n                    viewing: false,\r\n                }                \r\n            }\r\n        },\r\n        mixins: [Auth],\r\n        components: {\r\n            \"tooltip\": Tooltip,\r\n            \"file-upload\": FileUpload,\r\n        },\r\n        props: {\r\n            selectable: {\r\n                type: Boolean,\r\n                default: true,\r\n            },\r\n            parentView: {\r\n                type: String,\r\n                required: true,\r\n            },\r\n            goFile: {\r\n                type: Object,\r\n                default: () => {\r\n                    null;\r\n                    0;\r\n                }\r\n            },\r\n        },\r\n        created() {\r\n            this.setActiveFeatures();\r\n        },\r\n        async mounted() {\r\n            if (!Array.isArray(this.folders) || (Array.isArray(this.folders) && this.folders.length === 0))\r\n                await this.$store.dispatch('getFolders');\r\n\r\n            this.getDirectoryFromRoute();\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                contents: state => state.fileExplorer.contents,\r\n                folders: state => state.fileExplorer.folders,\r\n                directory: state => state.fileExplorer.directory,\r\n                subDirectories: state => state.fileExplorer.subDirectories,\r\n                loadingContents: state => state.fileExplorer.loadingContents,\r\n                activeModules: state => state.auth.activeModules,\r\n            }),\r\n            fullPath() {\r\n                if (typeof this.directory !== 'undefined' && this.directory !== null) {\r\n                    if (Array.isArray(this.subDirectories) && this.subDirectories.length > 0) {\r\n                        // TODO: Fix to build the list of subdirs\r\n                        return `${this.directory}/${getSubdirectoryString(this.subDirectories)}`;\r\n                    }\r\n                    else {\r\n                        return this.directory;\r\n                    }\r\n                }\r\n                else {\r\n                    return '';\r\n                }\r\n            },\r\n            canGoBack() {\r\n                if (typeof this.$route.params.folder === 'undefined') return false;\r\n                return this.$route.params.folder !== this.selectedDirectory;\r\n            }\r\n        },\r\n        watch: {\r\n            // Local prop\r\n            selectedDirectory: function (newValue) {\r\n                if (!this.changing) {\r\n                    this.$_console_log('[FileExplorer] Watcher - Selected directory: ', newValue);\r\n\r\n                    this.$router.push({ name: 'browser-folder', params: { folder: newValue } });\r\n                }\r\n            },\r\n            goFile: {\r\n                handler(newValue) {\r\n                    if (typeof newValue !== 'object' || newValue === null) {\r\n                        this.$_console_log('[FileExplorer] goFile watcher: value is not an object or null');\r\n                        this.goFile = { file: null, num: 0 }\r\n                        return;\r\n                    }\r\n\r\n                    if (newValue.num === 0) {\r\n                        this.$_console_log('[FileExplorer] goFile watcher: Num is 0, therefore we aren\\t navigating to a new file');\r\n                        return;\r\n                    }\r\n\r\n                    const folderlessList = this.contents.filter(x => x.isFolder === false).slice(0);\r\n                    this.$_console_log('Folderless List:', folderlessList);\r\n                    if (folderlessList.length === 0) {\r\n                        this.$_console_log('[FileExplorer] goFile watcher: This folder only contains other folders. Nothing to load.');\r\n                        return;\r\n                    }\r\n\r\n                    const fileIndex = folderlessList.findIndex(x => encodeURI(x.title) === newValue.file);\r\n                    if (fileIndex === -1) {\r\n                        this.$_console_log('[FileExplorer] goFile watcher: File not found in list');\r\n                        return;\r\n                    }\r\n\r\n                    if ((fileIndex + newValue.num) >= folderlessList.length) {\r\n                        this.$_console_log('[FileExplorer] goFile watcher: Navigating here will overflow the list.');\r\n                        return;\r\n                    }\r\n                    else if ((fileIndex + newValue.num) < 0) {\r\n                        this.$_console_log('[FileExplorer] goFile watcher: Navigating here will underflow the list.');\r\n                        return;\r\n                    }\r\n                    else {\r\n                        // Everything is good to go. Change files.\r\n                        const fileToOpen = folderlessList[fileIndex + newValue.num];\r\n                        this.open(fileToOpen);\r\n                    }\r\n                },\r\n                deep: true\r\n            },\r\n        },\r\n        methods: {\r\n            setActiveFeatures() {\r\n                const browserObj = this.activeModules.find(x => x.id === 'browser');\r\n                if (typeof browserObj === 'undefined' || !Array.isArray(browserObj.userModuleFeatures))\r\n                    return;\r\n\r\n                if (browserObj.userModuleFeatures.some(x => x.moduleFeatureId === 'browser-upload'))\r\n                    this.features.upload = true;\r\n\r\n                if (browserObj.userModuleFeatures.some(x => x.moduleFeatureId === 'browser-delete'))\r\n                    this.features.delete = true;\r\n\r\n                if (browserObj.userModuleFeatures.some(x => x.moduleFeatureId === 'browser-viewer'))\r\n                    this.features.viewing = true;\r\n            },\r\n            getDirectoryFromRoute() {\r\n                this.changing = true;\r\n\r\n                setTimeout(() => {\r\n                    if (typeof this.$route.params.folder !== 'undefined') {\r\n                        this.$_console_log('[file-explorer] getDirectoryFromRoute: Params.folder is not null, getting base path from url', this.$route.params.folder);\r\n                        if (this.$route.params.folder.includes('/'))\r\n                            this.selectedDirectory = this.$route.params.folder.substring(0, this.$route.params.folder.indexOf('/'));\r\n                        else\r\n                            this.selectedDirectory = this.$route.params.folder;\r\n                    }\r\n                    else {\r\n                        // Load default folder\r\n                        const defaultFolder = this.folders.find(x => x.default === true);\r\n                        if (typeof defaultFolder !== 'undefined') {\r\n                            this.selectedDirectory = defaultFolder.name;\r\n                            this.$router.push({ name: 'browser-folder', params: { folder: this.selectedDirectory } });\r\n                        }\r\n                    }\r\n\r\n                    setTimeout(() => {\r\n                        this.changing = false;\r\n                    }, 5);\r\n                }, 25);\r\n            },\r\n\r\n            open(item) {\r\n                if (item.isFolder) {\r\n                    let path = '';\r\n                    if (this.$route.params.folder === 'undefined') {\r\n                        this.$_console_log('[file-explorer] open: Params.folder is null');\r\n                        return;\r\n                    }\r\n                    else {\r\n                        path = this.$route.params.folder + '/' + item.title;\r\n                    }\r\n\r\n                    this.$router.push({ name: 'browser-folder', params: { folder: path } });\r\n                }\r\n                else {\r\n                    if (this.features.viewing) {\r\n                        this.$_console_log('[FILE EXPLORER] Open Item: item, dl path', item, this.getFilePath(item))\r\n                        setTimeout(() => {\r\n                            this.$emit('loadFile', this.getFilePath(item));\r\n                        }, 125);\r\n                    }                    \r\n                }\r\n            },\r\n            goBack() {\r\n                let path = '';\r\n                if (this.$route.params.folder === 'undefined') {\r\n                    this.$_console_log('[file-explorer] goBack: Params.folder is null');\r\n                    return;\r\n                }\r\n                else {\r\n                    let lastIndex = this.$route.params.folder.lastIndexOf('/');\r\n                    if (lastIndex === -1) {\r\n                        this.$_console_log('[file-explorer] goBack: Params.folder has no / in it. Can\\'t go back from base path');\r\n                        return;\r\n                    }\r\n\r\n                    path = this.$route.params.folder.substring(0, lastIndex);\r\n                }\r\n\r\n                this.$router.push({ name: 'browser-folder', params: { folder: path } });\r\n            },\r\n\r\n            getDownloadPath(item) {\r\n                return `${path}/api/directory/download/file/${encodeURI(this.fullPath)}/${encodeURIComponent(item.title)}?token=${this.$store.state.auth.accessToken}`;\r\n            },\r\n            getFilePath(item) {\r\n                return `${encodeURI(this.fullPath)}/${encodeURIComponent(item.title)}`;\r\n            },\r\n            getIcon(item) {\r\n                if (item.isFolder)\r\n                    return 'folder';\r\n                else\r\n                    return 'file';\r\n            },\r\n            getFileSize(size) {\r\n                let type = 0;\r\n\r\n                while (size / 1024 > 1) {\r\n                    size = size / 1024;\r\n                    type++;\r\n                }\r\n\r\n                return `${size.toFixed(2)} ${this.getType(type)}`;\r\n            },\r\n            getType(type) {\r\n                switch (type) {\r\n                    case 0:\r\n                        return 'B';\r\n                    case 1:\r\n                        return 'KB';\r\n                    case 2:\r\n                        return 'MB';\r\n                    case 3:\r\n                        return 'GB';\r\n                    case 4:\r\n                        return 'TB';\r\n                }\r\n            },\r\n\r\n            async deleteItem(file) {\r\n                if (this.deleteEnabled === false) {\r\n                    return this.$_console_log(\"You must have the appropriate permission to delete\");\r\n                }\r\n\r\n                if (typeof file === 'undefined' || file === null || file === '')\r\n                    return this.$_console_log(\"Invalid file info, can't delete\");\r\n\r\n                this.$_console_log(`Delete: ${file.title}`);\r\n\r\n                await service.deleteFile(file.title, this.directory, getSubdirectoryString(this.subDirectories)).then(resp => {\r\n                    this.$_console_log('Successfully deleted the file');\r\n                    this.$store.dispatch('deleteFile', file.title);\r\n                }).catch(() => this.$_console_log('Error deleting the item in upload'));\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .loading-container {\r\n        position: fixed;\r\n        left: 50%;\r\n        top: 50%;\r\n    }\r\n\r\n    .hide-extra {\r\n        white-space: nowrap;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./file-explorer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./file-explorer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./file-explorer.vue?vue&type=template&id=9c498080&\"\nimport script from \"./file-explorer.vue?vue&type=script&lang=js&\"\nexport * from \"./file-explorer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./file-explorer.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VBtn,VCard,VContainer,VFlex,VForm,VLayout,VListItem,VListItemAction,VListItemAvatar,VListItemContent,VOverlay,VProgressCircular,VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":_vm.getMaxWidth,\"fullscreen\":_vm.isMobile},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-toolbar',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_c('fa-icon',{attrs:{\"icon\":\"window-close\"}})],1),_c('v-toolbar-title',{staticClass:\"headline pl-2\"},[_vm._t(\"header\",[_vm._v(\" File Viewer \")])],2)],1),_c('v-card',[_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-btn',{staticClass:\"chevron-center\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.goBack()}}},[_c('fa-icon',{attrs:{\"icon\":\"chevron-left\",\"size\":\"3x\"}})],1)],1),_c('v-flex',{attrs:{\"xs10\":\"\"}},[_vm._t(\"default\",[_vm._v(\" File Viewer contents \")])],2),_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-btn',{staticClass:\"chevron-center\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.goForward()}}},[_c('fa-icon',{attrs:{\"icon\":\"chevron-right\",\"size\":\"3x\"}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-dialog v-model=\"dialog\" :max-width=\"getMaxWidth\" :fullscreen=\"isMobile\">\r\n        <v-toolbar>\r\n            <v-btn icon @click=\"dialog = false\"><fa-icon icon=\"window-close\"></fa-icon></v-btn>\r\n            <v-toolbar-title class=\"headline pl-2\">\r\n                <slot name=\"header\">\r\n                    File Viewer\r\n                </slot>\r\n            </v-toolbar-title>\r\n        </v-toolbar>\r\n        <v-card>\r\n            <v-card-text>\r\n                <v-layout row>\r\n                    <v-flex xs1>\r\n                        <v-btn @click=\"goBack()\" class=\"chevron-center\" icon>\r\n                            <fa-icon icon=\"chevron-left\" size=\"3x\"></fa-icon>\r\n                        </v-btn>\r\n                    </v-flex>\r\n\r\n                    <v-flex xs10>\r\n                        <slot>\r\n                            File Viewer contents\r\n                        </slot>\r\n                    </v-flex>\r\n\r\n                    <v-flex xs1>\r\n                        <v-btn @click=\"goForward()\" class=\"chevron-center\" icon>\r\n                            <fa-icon icon=\"chevron-right\" size=\"3x\"></fa-icon>\r\n                        </v-btn>\r\n                    </v-flex>\r\n                </v-layout>\r\n            </v-card-text>\r\n            <!--<v-card-actions>\r\n\r\n            </v-card-actions>-->\r\n        </v-card>\r\n    </v-dialog>\r\n</template>\r\n\r\n<script>\r\n    window.mobilecheck = function () {\r\n        let check = false;\r\n        (function (a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);\r\n        return check;\r\n    };\r\n\r\n    export default {\r\n        name: \"file-viewer\",\r\n        data() {\r\n            return {\r\n                windowHeight: window.innerHeight,\r\n                windowWidth: window.innerWidth,\r\n\r\n                dialog: false,\r\n            }\r\n        },\r\n        props: {\r\n            open: {\r\n                type: Boolean,\r\n                required: true,\r\n            }\r\n        },\r\n        computed: {\r\n            getMaxWidth: function () {\r\n                let check = window.mobilecheck();\r\n                if (check)\r\n                    return 320;\r\n\r\n                if (this.windowWidth >= 1904)\r\n                    return 1785;\r\n                else if (this.windowWidth >= 1600)\r\n                    return 1400;\r\n                else if (this.windowWidth >= 1264)\r\n                    return 1185;\r\n                else if (this.windowWidth >= 960)\r\n                    return 900;\r\n                else\r\n                    return this.windowWidth * 0.95;\r\n            },\r\n            isMobile: function () {\r\n                return this.getMaxWidth < 960;\r\n            }\r\n        },\r\n        watch: {\r\n            dialog: function (newValue) {\r\n                if (newValue === false)\r\n                    this.$emit('viewer-off', true);\r\n            },\r\n            open: function (newValue) {\r\n                this.dialog = newValue;\r\n            }\r\n        },\r\n        mounted() {\r\n            window.addEventListener('resize', this.getWindowSize);\r\n            window.addEventListener('keyup', this.keypressNavigation);\r\n        },\r\n        beforeDestroy() {\r\n            window.removeEventListener('resize', this.getWindowSize);\r\n            window.removeEventListener('keyup', this.keypressNavigation);\r\n        },\r\n        methods: {\r\n            getWindowSize() {\r\n                this.windowHeight = window.innerHeight;\r\n                this.windowWidth = window.innerWidth;\r\n            },\r\n            keypressNavigation(evt) {\r\n                //this.$_console_log('Event', evt);\r\n\r\n                // Left arrow\r\n                if (evt.keyCode === 37) {\r\n                    this.goBack();\r\n                }\r\n                // Right arrow\r\n                else if (evt.keyCode === 39) {\r\n                    this.goForward();\r\n                }\r\n            },\r\n            goBack() {\r\n                this.$_console_log('[File Viewer] Go Back');\r\n                this.$emit('file-back')\r\n            },\r\n            goForward() {\r\n                this.$_console_log('[File Viewer] Go Forward');\r\n                this.$emit('file-forward')\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .center {\r\n        margin: 0 auto;\r\n    }\r\n\r\n    .chevron-center {\r\n        position: relative;\r\n        top: 45%;\r\n        width: 55px !important;\r\n        height: 55px !important;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./file-viewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./file-viewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./file-viewer.vue?vue&type=template&id=0d2f1f04&\"\nimport script from \"./file-viewer.vue?vue&type=script&lang=js&\"\nexport * from \"./file-viewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./file-viewer.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VDialog,VFlex,VLayout,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video-container center\"},[_c('video',{ref:\"player\",staticClass:\"video-player\",attrs:{\"id\":\"video-player\",\"preload\":\"none\",\"width\":\"420\",\"controls\":\"\"}},[_c('source',{attrs:{\"src\":_vm.path}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"video-container center\">\r\n        <video id=\"video-player\"\r\n               class=\"video-player\"\r\n               ref=\"player\"\r\n               preload=\"none\"\r\n               width=\"420\"\r\n               controls>\r\n            <source :src=\"path\" />\r\n        </video>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState } from 'vuex'\r\n\r\n    export default {\r\n        name: \"video-player\",\r\n        data() {\r\n            return {\r\n                player: null,\r\n                path: null,\r\n            }\r\n        },\r\n        props: {\r\n            url: {\r\n                type: String,\r\n                required: true,\r\n            },\r\n            on: {\r\n                type: Boolean,\r\n                required: true,\r\n            }\r\n        },\r\n        mounted() {\r\n            this.player = document.getElementById('video-player');\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                accessToken: state => state.auth.accessToken\r\n            }),\r\n            type: function () {\r\n                if (typeof this.url === 'undefined' || this.url === '') {\r\n                    this.$_console_log('[VIDEO PLAYER] type: Undefined or empty');\r\n                    return \"\";\r\n                }\r\n\r\n                if (!this.url.includes('.')) {\r\n                    this.$_console_log('[VIDEO PLAYER] type: Doesn\\'t include a period (.) ');\r\n                    return \"\";\r\n                }\r\n                \r\n                const index = this.url.lastIndexOf('.');\r\n                const extension = this.url.slice(index).toLowerCase();\r\n\r\n                // TODO: Create exhaustive list of extensions\r\n                switch (extension) {\r\n                    case '.mkv':\r\n                    case '.avi':\r\n                    case '.mpeg':\r\n                    case '.mpg':\r\n                    case '.mp4':\r\n                    case '.wmv':\r\n                        return 'video/mp4';\r\n                    case '.webm':\r\n                        return 'video/webm';\r\n                    case '.mp3':\r\n                        return 'audio/mpeg';\r\n                    default:\r\n                        return '';\r\n                }\r\n            },\r\n        },\r\n        watch: {\r\n            on(newValue) {\r\n                this.pausePlayer();\r\n                if (newValue === true)\r\n                    this.loadPlayer();\r\n            },\r\n            url(newValue) {\r\n                this.$_console_log('[Video Player] Url watcher: url value', newValue)\r\n\r\n                this.pausePlayer();\r\n\r\n                if (typeof newValue === 'undefined' || newValue === null || newValue === '') {\r\n                    this.$_console_log('[Video Player] Empty url string');\r\n                    return;\r\n                }\r\n                else {\r\n                    this.loadPlayer();\r\n                }\r\n            },\r\n        },\r\n        methods: {\r\n            loadPlayer() {\r\n                this.path = `${process.env.API_URL}/api/serve-file/${this.url}?token=${this.accessToken}`\r\n\r\n                const self = this;\r\n                setTimeout(() => {\r\n                    self.player.load();\r\n                    if (self.player.canPlayType(self.type)) {\r\n                        self.player.play();\r\n                    }\r\n                    else {\r\n                        self.$_console_log('[Video Player] Load Player: Can\\'t play type');\r\n                    }\r\n                        \r\n                }, 25);   \r\n            },\r\n            pausePlayer() {\r\n                this.player.pause();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .center {\r\n        margin: 0 auto;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video-player.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video-player.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./video-player.vue?vue&type=template&id=2c58ae1f&scoped=true&\"\nimport script from \"./video-player.vue?vue&type=script&lang=js&\"\nexport * from \"./video-player.vue?vue&type=script&lang=js&\"\nimport style0 from \"./video-player.vue?vue&type=style&index=0&id=2c58ae1f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c58ae1f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-container',[_vm._l((_vm.lines),function(line){return [_c('v-row',_vm._l((line),function(letter){return _c('span',[(letter === ' ')?void 0:_vm._e(),(letter === '\\t')?void 0:_vm._e(),(letter === '\\r')?void 0:[_vm._v(\" \"+_vm._s(letter)+\" \")]],2)}),0)]})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <v-container>\r\n            <template v-for=\"line in lines\">\r\n                <v-row>\r\n                    <span v-for=\"letter in line\">\r\n                        <template v-if=\"letter === ' '\">\r\n                            &nbsp;\r\n                        </template>\r\n                        <template v-if=\"letter === '\\t'\">\r\n                            &nbsp;&nbsp;&nbsp;&nbsp;\r\n                        </template>\r\n                        <template v-if=\"letter === '\\r'\">\r\n                            <!-- noop -->\r\n                        </template>\r\n                        <template v-else>\r\n                            {{ letter }}\r\n                        </template>\r\n                    </span>\r\n                </v-row>\r\n            </template>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import service from '../../../services/file-explorer'\r\n    import DispatchFactory from '../../../factories/dispatchFactory'\r\n\r\n    export default {\r\n        name: \"text-viewer\",\r\n        data() {\r\n            return {\r\n                text: null,\r\n                lines: []\r\n            }\r\n        },\r\n        props: {\r\n            url: {\r\n                type: String,\r\n                required: true,\r\n            },\r\n            on: {\r\n                type: Boolean,\r\n                required: true,\r\n            }\r\n        },\r\n        watch: {\r\n            on(newValue) {\r\n                if (newValue === true) {\r\n                    this.lines = [];\r\n                    this.getData();\r\n                }                    \r\n            },\r\n            url(newValue) {\r\n                this.$_console_log('[Text Viewer] Url watcher: url value', newValue)\r\n\r\n                this.getData();\r\n            },\r\n        },\r\n        methods: {\r\n            getData() {\r\n                if (typeof this.url === 'undefined' || this.url === null || this.url === '') {\r\n                    this.$_console_log('[Text Viewer] Get Data: url value is null or empty');\r\n                    return;\r\n                }\r\n\r\n                const tmpUrl = this.url;\r\n                DispatchFactory.request(() => {\r\n                    return service.getFile(tmpUrl).then(resp => {\r\n                        this.$_console_log('File data:', resp.data);\r\n                        let text = resp.data;\r\n                        this.lines = [];\r\n\r\n                        let line = '';\r\n                        for (let i = 0; i < text.length; i++) {\r\n                            // Separate new lines into different array objects so we can loop through them in the template\r\n                            if (text[i] === '\\n') {\r\n                                this.lines.push(line);\r\n                                line = '';\r\n                            }\r\n                            else {\r\n                                line += text[i];\r\n                            }\r\n                        }\r\n                        // Push what's left in the buffer to the list\r\n                        this.lines.push(line);\r\n                    }).catch(() => {\r\n                        this.$_console_log(`[Text Viewer] Get Data: Failed to get data from ${tmpUrl}`);\r\n                    });\r\n                });\r\n            },\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./text-viewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./text-viewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./text-viewer.vue?vue&type=template&id=207e7328&\"\nimport script from \"./text-viewer.vue?vue&type=script&lang=js&\"\nexport * from \"./text-viewer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-img',{attrs:{\"src\":_vm.getPath,\"max-width\":_vm.getMaxWidth,\"max-height\":_vm.getMaxHeight,\"contain\":\"\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-img :src=\"getPath\" :max-width=\"getMaxWidth\" :max-height=\"getMaxHeight\" contain />\r\n</template>\r\n\r\n<script>\r\n    import { mapState } from 'vuex'\r\n\r\n    export default {\r\n        name: \"text-viewer\",\r\n        data() {\r\n            return {\r\n                windowHeight: window.innerHeight,\r\n                windowWidth: window.innerWidth,\r\n\r\n                basepath: process.env.API_URL,\r\n            }\r\n        },\r\n        props: {\r\n            url: {\r\n                type: String,\r\n                required: true,\r\n            },\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                accessToken: state => state.auth.accessToken\r\n            }),\r\n            getMaxWidth() {\r\n                return this.windowWidth * 0.8;\r\n            },\r\n            getMaxHeight() {\r\n                return this.windowHeight * 0.66\r\n            },\r\n            getPath() {\r\n                return `${this.basepath}/api/directory/download/file/${this.url}?token=${this.accessToken}`\r\n            },\r\n        },\r\n        watch: {\r\n            url(newValue) {\r\n                this.$_console_log('[Image Viewer] Url watcher: url value', newValue)\r\n            },\r\n        },\r\n        mounted() {\r\n            window.addEventListener('resize', this.getWindowSize);\r\n        },\r\n        beforeDestroy() {\r\n            window.removeEventListener('resize', this.getWindowSize);\r\n        },\r\n        methods: {\r\n            getWindowSize() {\r\n                this.windowHeight = window.innerHeight;\r\n                this.windowWidth = window.innerWidth;\r\n            },\r\n        },\r\n    }\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-viewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-viewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./image-viewer.vue?vue&type=template&id=788f6a2c&\"\nimport script from \"./image-viewer.vue?vue&type=script&lang=js&\"\nexport * from \"./image-viewer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VImg } from 'vuetify/lib/components/VImg';\ninstallComponents(component, {VImg})\n","<template>\r\n    <div>\r\n        <file-explorer parentView=\"browser\"\r\n                       :goFile=\"goFile\"\r\n                       @loadFile=\"loadFile\"></file-explorer>\r\n\r\n        <file-viewer :open=\"dialogOpen\" @viewer-off=\"dialogOpen = false\" @file-back=\"browserGo(-1)\" @file-forward=\"browserGo(1)\">\r\n            <template v-if=\"type === mediaTypes.video\">\r\n                <p slot=\"header\">Video Player</p>\r\n                <video-player :url=\"path\" :on=\"on\" @player-off=\"on = false\" />\r\n            </template>\r\n            <template v-else-if=\"type === mediaTypes.image\">\r\n                <p slot=\"header\">Image Viewer</p>\r\n                <image-viewer :url=\"path\" />\r\n            </template>\r\n            <template v-else-if=\"type === mediaTypes.text\">\r\n                <p slot=\"header\">Text Viewer</p>\r\n                <text-viewer :url=\"path\" :on=\"on\" @text-off=\"on = false\" />\r\n            </template>\r\n        </file-viewer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Service from '../../services/file-explorer'\r\n\r\n    import Explorer from '../modules/file-explorer'\r\n    import FileViewer from '../modules/viewers/file-viewer'\r\n    import VideoPlayer from '../modules/viewers/video-player'\r\n    import TextViewer from '../modules/viewers/text-viewer'\r\n    import ImageViewer from '../modules/viewers/image-viewer'\r\n\r\n    import { Roles } from '../../constants'\r\n\r\n    import store from '../../store/index'\r\n    import router from '../../router'\r\n    import ConMsgs from '../../mixins/console'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                level: 0,\r\n                folders: [],\r\n\r\n                type: null,\r\n                path: null,\r\n                on: false,\r\n                dialogOpen: false,\r\n\r\n                mediaTypes: {\r\n                    video: 'video',\r\n                    image: 'image',\r\n                    text: 'text'\r\n                },\r\n\r\n                goFile: {\r\n                    file: null,\r\n                    num : 0\r\n                },\r\n            }\r\n        },\r\n        components: {\r\n            'file-explorer': Explorer,\r\n            'file-viewer': FileViewer,\r\n            'video-player': VideoPlayer,\r\n            'text-viewer': TextViewer,\r\n            'image-viewer': ImageViewer,\r\n        },\r\n        async beforeRouteEnter(to, from, next) {\r\n            let success = await handleRouteChange(to, from, next);\r\n            if (!success) {                \r\n                store.dispatch('pushNotification', { text: `Failed to change route to this location (${to.fullPath}). It must not exist.`, type: 2, group: { type: 'browser', value: 'pathFail' } });\r\n                router.push({ name: 'browser' });\r\n            }\r\n            else {\r\n                next();\r\n            }\r\n        },\r\n        async beforeRouteUpdate(to, from, next) {\r\n            const success = await handleRouteChange(to, from, next);\r\n            if (!success) {\r\n                store.dispatch('pushNotification', { text: `Failed to change route to this location (${to.fullPath}). It must not exist.`, type: 2, group: { type: 'browser', value: 'pathFail' } });\r\n                router.push({ name: 'browser' });\r\n            }\r\n            else {\r\n                next();\r\n            }\r\n        },\r\n        beforeRouteLeave(to, from, next) {\r\n            // When leaving the browser page we should clear out the data stored in the vuex store\r\n            // to create a better experience when /if we come back to the browser screen\r\n            if (to.name !== 'browser-folder')\r\n                store.dispatch('clearFileExplorer');\r\n\r\n            next();\r\n        },\r\n        created() {\r\n            let role = this.$store.state.auth.role;\r\n\r\n            // TODO: Get the list from the server\r\n            if (role === Roles.Name.Admin) {\r\n                this.level = Roles.Level.Admin;\r\n            }\r\n            else if (role === Roles.Name.Elevated) {\r\n                this.level = Roles.Level.Elevated;\r\n            }\r\n            else if (role === Roles.Name.General) {\r\n                this.level = Roles.Level.General;\r\n            }\r\n            else\r\n                this.$router.push({ name: 'start' });\r\n        },\r\n        watch: {\r\n            dialogOpen(newValue) {\r\n                // Close dialog\r\n                if (newValue === false) {\r\n                    // If our player isn't on\r\n                    if (!this.on) {\r\n                        const self = this;\r\n                        // Turn it on so when we turn it off it'll flip the watcher\r\n                        this.on = true;\r\n                        setTimeout(() => {\r\n                            self.on = false;\r\n                        }, 50);\r\n                    }\r\n                    // Otherwise just turn it off\r\n                    else {\r\n                        this.on = false;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            getType(file) {\r\n                if (typeof file === 'undefined' || file === '') {\r\n                    this.$_console_log('[File Viewer] getType: Undefined or empty');\r\n                    return this.mediaTypes.text;\r\n                }\r\n\r\n                if (!file.includes('.')) {\r\n                    this.$_console_log('[File Viewer] getType: Doesn\\'t include a period (.) ');\r\n                    return this.mediaTypes.text;\r\n                }\r\n\r\n                const index = file.lastIndexOf('.');\r\n                const extension = file.slice(index).toLowerCase();\r\n\r\n                // TODO: Create exhaustive list of extensions\r\n                switch (extension) {\r\n                    case '.mkv':\r\n                    case '.avi':\r\n                    case '.mpeg':\r\n                    case '.mpg':\r\n                    case '.mp4':\r\n                    case '.wmv':\r\n                    case '.webm':\r\n                    case '.mp3':\r\n                        return this.mediaTypes.video;\r\n                    case '.jpg':\r\n                    case '.jpeg':\r\n                    case '.gif':\r\n                    case '.tiff':\r\n                    case '.bmp':\r\n                    case '.png':\r\n                    case '.img':\r\n                        return this.mediaTypes.image;\r\n                    default:\r\n                        return this.mediaTypes.text;\r\n                }\r\n            },\r\n            loadFile(file) {\r\n                this.$_console_log('[BROWSER] LoadFile: ', file);\r\n\r\n                this.type = this.getType(file);\r\n\r\n                this.path = file;\r\n                this.dialogOpen = true;\r\n                setTimeout(() => {\r\n                    this.on = true;\r\n                }, 15);\r\n                \r\n            },\r\n            browserGo(num) {\r\n                if (typeof num !== 'number' || num === 0) {\r\n                    this.$_console_log('[Browser] Browser Go: Number is not a number or 0');\r\n                    return;\r\n                }\r\n                if (typeof this.path !== 'string') {\r\n                    this.$_console_log('[Browser] Browser Go: Path is not a string');\r\n                    return;\r\n                }\r\n\r\n                let filename;\r\n                if (this.path.includes('/')) {\r\n                    if (this.path.lastIndexOf('/') === this.path.length - 1) {\r\n                        filename = this.path.substring(0, this.path.lastIndexOf('/'));\r\n                        if (filename.includes('/')) {\r\n                            if (filename.lastIndexOf('/') === filename.length - 1) {\r\n                                filename = filename.substring(0, filename.lastIndexOf('/'));\r\n                            }\r\n                            else {\r\n                                filename = filename.substring(filename.lastIndexOf('/') + 1);\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        filename = this.path.substring(this.path.lastIndexOf('/') + 1);\r\n                    }                    \r\n                }\r\n                else {\r\n                    filename = this.path;\r\n                }\r\n                \r\n                this.goFile = {\r\n                    file: filename,\r\n                    num: num\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    async function handleRouteChange(to, from, next) {\r\n        ConMsgs.methods.$_console_log('Route changed. To, from:', to, from);\r\n\r\n        let toHasSubDir = false;\r\n        let fromHasSubDir = false;\r\n        let toBasePath = null;\r\n        let fromBasePath = null;\r\n        let toSubDirs = null;\r\n        let fromSubDirs = null;\r\n\r\n        if (typeof to.params.folder !== 'undefined') {\r\n            if (to.params.folder.includes('/')) {\r\n                toHasSubDir = true;\r\n                const firstIndex = to.params.folder.indexOf('/');\r\n                toBasePath = to.params.folder.substring(0, firstIndex);\r\n                toSubDirs = to.params.folder.substring(firstIndex + 1);\r\n            }\r\n            else {\r\n                toBasePath = to.params.folder;\r\n            }\r\n        }\r\n\r\n        if (typeof from.params.folder !== 'undefined') {\r\n            if (from.params.folder.includes('/')) {\r\n                fromHasSubDir = true;\r\n                const firstIndex = to.params.folder.indexOf('/')\r\n                fromBasePath = from.params.folder.substring(0, firstIndex);\r\n                fromSubDirs = from.params.folder.substring(firstIndex + 1);\r\n            }\r\n            else {\r\n                fromBasePath = from.params.folder;\r\n            }\r\n        }\r\n\r\n        ConMsgs.methods.$_console_log('Route change info: ', toHasSubDir, toBasePath, toSubDirs, fromHasSubDir, fromBasePath, fromSubDirs);\r\n\r\n        if (to.params.folder === from.params.folder) {\r\n            // noop\r\n            ConMsgs.methods.$_console_log('Staying in the same folder');\r\n        }\r\n        else if (fromBasePath !== toBasePath && toHasSubDir === false) {\r\n            // Going from no selected folder to some selected folder\r\n            store.dispatch('changeDirectory', toBasePath);\r\n        }\r\n        else if (toBasePath !== null && toHasSubDir) {\r\n            store.dispatch('goDirectory', { directory: toBasePath, subDirs: toSubDirs})\r\n        }\r\n\r\n        try {\r\n            await store.dispatch('loadDirectory');\r\n        }\r\n        catch (ex) {\r\n            // Failed request. Go back to where we came from\r\n            if (ex.status >= 400) {\r\n                if (fromSubDirs !== null) {\r\n                    await store.dispatch('goDirectory', { directory: fromBasePath, subDirs: fromSubDirs });\r\n                    await store.dispatch('loadDirectory');\r\n                }\r\n                else if (fromBasePath !== null) {\r\n                    await store.dispatch('goDirectory', { directory: fromBasePath, subDirs: null });\r\n                    await store.dispatch('loadDirectory');\r\n                }\r\n                else {\r\n                    await store.dispatch('clearFileExplorer');\r\n                    await store.dispatch('loadDirectory');\r\n                    return false;\r\n                }                    \r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./browser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./browser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./browser.vue?vue&type=template&id=9781207c&\"\nimport script from \"./browser.vue?vue&type=script&lang=js&\"\nexport * from \"./browser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('h3',[_vm._v(\"List of notes:\")]),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.noteList),function(note){return _c('div',{key:note.id},[_c('note-editor',{attrs:{\"obj\":note},on:{\"delete\":_vm.deleteOld,\"create\":_vm.updateNote,\"updateObj\":_vm.modifyOld}})],1)}),0),_c('v-layout',{staticClass:\"note-container\",attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_vm._v(\" Create new note: \"),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.create}},[_c('fa-icon',{attrs:{\"icon\":\"plus\"}})],1)],1),_c('v-flex',_vm._l((_vm.newNotes),function(item,index){return _c('div',{key:item.id},[_c('note-editor',{attrs:{\"obj\":item},on:{\"delete\":_vm.deleteNew,\"create\":_vm.addNew,\"updateObj\":_vm.modifyNew}})],1)}),0)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from '../axios'\r\n\r\nconst GetAllNotesUrl = `api/note/getall`;\r\nconst GetNotesUrl = `api/note/get`;\r\nconst CreateNotesUrl = `api/note/create`;\r\nconst UpdateNotesUrl = `api/note/update`;\r\nconst DeleteNotesUrl = `api/note/delete`;\r\n\r\nexport default {\r\n    async getAllNotes() {\r\n        return axios.get(GetAllNotesUrl)\r\n    },\r\n    getNotes() {\r\n        return axios.get(GetNotesUrl)\r\n    },\r\n    async deleteNote(id) {\r\n        return axios.request({\r\n            url: DeleteNotesUrl,\r\n            method: 'delete',\r\n            params: {\r\n                id: id\r\n            }\r\n        })\r\n    },\r\n    async createNote(data) {\r\n        return axios.post(CreateNotesUrl, data)\r\n    },\r\n    async updateNote(data) {\r\n        return axios.request({\r\n            url: UpdateNotesUrl,\r\n            method: 'put',\r\n            data: data,\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n    }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"note-container\"},[_c('div',{staticClass:\"note-card\"},[_c('div',{staticClass:\"nav-bar\"},[_c('div',{staticClass:\"nav-header left close\",on:{\"click\":_vm.deleteNote}},[_c('div',{staticClass:\"nav-bar-item left\"},[_vm._v(\"X\")])]),_c('div',{staticClass:\"nav-header center\"},[_c('div',{ref:\"title\",staticClass:\"textarea title\",attrs:{\"contenteditable\":\"true\"}})]),_c('div',{staticClass:\"nav-header right create\",on:{\"click\":_vm.createNote}},[_c('div',{staticClass:\"nav-bar-item right\"},[_vm._v(\"SAVE\")])])]),_c('div',{staticClass:\"note-inner-container\"},[_c('div',{ref:\"note\",staticClass:\"textarea main\",attrs:{\"contenteditable\":\"true\"}}),_c('div',{ref:\"footer\",staticClass:\"nav-footer\"})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"note-container\">\r\n        <div class=\"note-card\">\r\n            <div class=\"nav-bar\">\r\n                <div class=\"nav-header left close\" @click=\"deleteNote\">\r\n                    <div class=\"nav-bar-item left\">X</div>\r\n                </div>\r\n\r\n                <div class=\"nav-header center\">\r\n                    <div class=\"textarea title\" contenteditable=\"true\" ref=\"title\">\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"nav-header right create\" @click=\"createNote\">\r\n                    <div class=\"nav-bar-item right\">SAVE</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"note-inner-container\">\r\n                <div class=\"textarea main\" contenteditable=\"true\" ref=\"note\">\r\n\r\n                </div>\r\n                <div class=\"nav-footer\" ref=\"footer\">\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n                note: {\r\n                    id: 0,\r\n                    priority: 0,\r\n                    type: 0,\r\n                    color: 'yellow',\r\n                    text: '',\r\n                    title: '',\r\n                    updated: '',\r\n                },\r\n                menu: {\r\n                    text_styling: [1, 2, 3],\r\n                },\r\n            }\r\n        },\r\n        props: {\r\n            obj: {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n        },\r\n        computed: {\r\n\r\n        },\r\n        watch: {\r\n            'obj.updated': function () {\r\n                this.note.updated = this.obj.updated;\r\n                this.$refs.footer.innerText = this.getTime(this.obj.updated);\r\n            },\r\n        },\r\n        created() {\r\n            if (this.obj) {\r\n                this.note = Object.assign({}, this.obj);\r\n            }\r\n        },\r\n        mounted() {\r\n            this.$refs.note.innerText = this.obj.text;\r\n            this.$refs.title.innerText = this.obj.title;\r\n\r\n            if (this.obj.updated !== '') {\r\n                let time = this.getTime(this.obj.updated);\r\n                if (time !== 'Invalid date')\r\n                    this.$refs.footer.innerText = time;\r\n            }\r\n\r\n            this.$refs.note.addEventListener('keyup', this.updateText, false);\r\n            this.$refs.title.addEventListener('keyup', this.updateTitle, false);\r\n        },\r\n        beforeDestroy() {\r\n            this.$refs.note.removeEventListener('keyup', this.updateText, false);\r\n            this.$refs.title.removeEventListener('keyup', this.updateTitle, false);\r\n        },\r\n        methods: {\r\n            updateText() {\r\n                setTimeout(() => {\r\n                    this.$_console_log('Text: ' + this.$refs.note.innerText);\r\n                    this.note.text = this.$refs.note.innerText;\r\n                    this.$emit('updateObj', this.note);\r\n                }, 1);\r\n            },\r\n            updateTitle() {\r\n                setTimeout(() => {\r\n                    this.$_console_log('Title: ' + this.$refs.title.innerText);\r\n                    this.note.title = this.$refs.title.innerText;\r\n                    this.$emit('updateObj', this.note);\r\n                }, 1);\r\n            },\r\n            deleteNote() {\r\n                this.$emit('delete', this.note);\r\n            },\r\n            createNote() {\r\n                this.$emit('create', this.note);\r\n            },\r\n            getTime(time) {\r\n                return this.$moment(new Date(time)).format('lll');\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .nav-header {\r\n        width: 100%;\r\n        padding: 3px;\r\n        text-align: center;\r\n    }\r\n\r\n    .nav-header.center {\r\n        /*text-align: center;*/\r\n    }\r\n\r\n    .nav-header.left {\r\n        width: 25%;\r\n        border-right: 3px solid black;\r\n        /*text-align: center;*/\r\n    }\r\n\r\n    .nav-header.right {\r\n        width: 25%;\r\n        border-left: 3px solid black;\r\n    }\r\n\r\n    .nav-bar {\r\n        display: flex;\r\n        flex: auto;\r\n        justify-content: center;\r\n        width: 100%;\r\n        height: 30px;\r\n        /*margin-top: 2px;*/\r\n    }\r\n\r\n    .nav-bar-item.left {\r\n        justify-content: flex-start;\r\n        margin-left: 25px;\r\n        padding: 2px;\r\n    }\r\n\r\n    .nav-bar-item.right {\r\n        justify-content: flex-end;\r\n        margin-right: 20px;\r\n    }\r\n\r\n    .nav-bar-item {\r\n        display: inline-block;\r\n        cursor: pointer;\r\n        align-self: center;\r\n        padding-right: 5px;\r\n        padding-left: 5px;\r\n        border-radius: 10px;\r\n\r\n    }\r\n\r\n    .nav-header.left:hover {\r\n        background-color: #A0A0A0;\r\n        color: #9C27B0;\r\n        border-radius: 50px 0 0 0;\r\n    }\r\n\r\n    .nav-header.center:hover {\r\n        background-color: #404040;\r\n    }\r\n\r\n    .nav-header.center:focus {\r\n        background-color: #A0A0A0;\r\n    }\r\n\r\n    .nav-header.right:hover {\r\n        background-color: #A0A0A0;\r\n        color: #9C27B0;\r\n        border-radius: 0 50px 0 0;\r\n    }\r\n\r\n    .nav-footer {\r\n        border-top: 3px solid black;\r\n        padding-top: 5px;\r\n        text-align: center;\r\n        font-style: italic;\r\n    }\r\n\r\n    .note-container {\r\n        width: 400px;\r\n        height: 300px;\r\n        margin: 5px;\r\n    }\r\n\r\n    .note-card {\r\n        border: 5px solid #000000;\r\n        border-radius: 50px;\r\n        height: 240px;\r\n        width: 400px;\r\n    }\r\n\r\n    .note-inner-container {\r\n        height: 200px;\r\n        border-radius: 0 0 45px 45px;\r\n    }\r\n\r\n    .textarea:hover {\r\n        background-color: #404040;\r\n    }\r\n\r\n    .textarea:focus {\r\n        background-color: #404040;\r\n    }\r\n\r\n    .textarea {\r\n        font: medium -moz-fixed;\r\n        font: -webkit-small-control;\r\n        outline: none;\r\n        width: 100%;\r\n    }\r\n\r\n    .textarea.main {\r\n        border-radius: 7px;\r\n        border-top: 5px solid #000000;\r\n        padding: 8px;\r\n        height: 170px;\r\n        overflow: auto;\r\n    }\r\n\r\n    .textarea.title {\r\n        overflow: hidden;\r\n        height: 24px;\r\n        display: inline;\r\n        white-space: nowrap;\r\n    }\r\n\r\n    .textarea.title br {\r\n        display: none;\r\n    }\r\n\r\n    @media screen and (min-width: 240px) and (max-height: 767px) {\r\n        .note-container {\r\n            width: 320px;\r\n        }\r\n\r\n        .note-card {\r\n            width: 320px;\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note-editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note-editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./note-editor.vue?vue&type=template&id=2a596b5e&scoped=true&\"\nimport script from \"./note-editor.vue?vue&type=script&lang=js&\"\nexport * from \"./note-editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./note-editor.vue?vue&type=style&index=0&id=2a596b5e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a596b5e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <v-container>\r\n        <h3>List of notes:</h3>\r\n        <v-layout row wrap>\r\n            <div v-for=\"note in noteList\" :key=\"note.id\">\r\n                <note-editor :obj=\"note\" @delete=\"deleteOld\" @create=\"updateNote\" @updateObj=\"modifyOld\"></note-editor>\r\n            </div>\r\n        </v-layout>\r\n        <v-layout row wrap class=\"note-container\">\r\n            <v-flex xs12>\r\n                Create new note:\r\n                <v-btn icon @click=\"create\">\r\n                    <fa-icon icon=\"plus\"></fa-icon>\r\n                </v-btn>\r\n            </v-flex>\r\n            \r\n            <v-flex>\r\n                <div v-for=\"(item, index) in newNotes\" :key=\"item.id\">\r\n                    <note-editor :obj=\"item\" @delete=\"deleteNew\" @create=\"addNew\" @updateObj=\"modifyNew\"></note-editor>\r\n                </div>\r\n            </v-flex>\r\n            \r\n        </v-layout>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\n    import noteService from '../../services/note'\r\n    import DispatchFactory from '../../factories/dispatchFactory'\r\n    import NoteEditor from '../modules/note-editor'\r\n    import { setTimeout } from 'core-js';\r\n\r\n    function initializeNewNote(id) {\r\n        return {\r\n            priority: 0,\r\n            color: '',\r\n            //created: '',\r\n            id: id,\r\n            text: '',\r\n            type: 0,\r\n            title: '',\r\n            //updated: '',\r\n            user: '',\r\n        }\r\n    }\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                activeNote: {\r\n                    priority: 0,\r\n                    color: '',\r\n                    created: '',\r\n                    id: 0,\r\n                    text: '',\r\n                    type: 0,\r\n                    updated: '',\r\n                    user: '',\r\n                },\r\n                newNotes: [],\r\n                noteList: [],\r\n                idCount: -1,\r\n            }\r\n        },\r\n        components: {\r\n            \"note-editor\": NoteEditor\r\n        },\r\n        created() {\r\n            this.newNotes.push(initializeNewNote(this.idCount--));\r\n            this.getData();\r\n        },\r\n        methods: {\r\n            async getData() {\r\n                this.$_console_log(\"[Notes] Get notes\");\r\n\r\n                DispatchFactory.request(() => {\r\n                    noteService.getNotes().then(resp => {\r\n                        this.$_console_log('[notes] success getting notes', resp);\r\n                        if (resp.data !== '')\r\n                            this.noteList = resp.data;\r\n                    }).catch(() => this.$_console_log('[notes] error getting notes'));\r\n                });\r\n            },\r\n            create() {\r\n                this.newNotes.push(initializeNewNote(this.idCount--));\r\n            },\r\n            async deleteOld(item) {\r\n                DispatchFactory.request(() => {\r\n                    noteService.deleteNote(item.id).then(resp => {\r\n                        this.$_console_log('[Notes] Succesfully deleted note.');\r\n                        let index = this.noteList.findIndex(x => x.id === item.id);\r\n                        if (index < 0) {\r\n                            this.$_console_log('[Notes] Note doesn\\'t exist in the list');\r\n                            return;\r\n                        }\r\n\r\n                        this.noteList.splice(index, 1);\r\n                    }).catch(() => { this.$_console_log('[Notes] Failed to delete existing note') });\r\n                });\r\n            },\r\n            deleteNew(note) {\r\n                let index = this.newNotes.findIndex(x => x.id === note.id);\r\n                this.newNotes.splice(index, 1);\r\n            },\r\n            async addNew(item) {\r\n                this.$_console_log(\"[Notes] Create note\");\r\n                this.$_console_log(item);\r\n                if (item.text === \"\") {\r\n                    this.$_console_log('[Notes] Note is empty, not going to create it');\r\n                }\r\n                else {\r\n                    DispatchFactory.request(() => {\r\n                        noteService.createNote(item).then(resp => {\r\n                            this.$_console_log('[Notes] Success creating note');\r\n                            this.noteList.push(resp.data);\r\n\r\n                            // Remove the new note and make a new one\r\n                            if (this.newNotes.length === 1)\r\n                                this.newNotes = [];\r\n                            else {\r\n                                this.newNotes.splice(index, 1);\r\n                            }\r\n                            setTimeout(() => {\r\n                                if (this.newNotes.length === 0)\r\n                                    this.newNotes.push(initializeNewNote(this.idCount--));\r\n                            }, 10);\r\n\r\n                        }).catch(() => this.$_console_log('[Notes] Error creating note'));\r\n                    });\r\n                }\r\n            },\r\n            modifyNew(note) {\r\n                let index = this.newNotes.findIndex(x => x.id === note.id);\r\n                this.newNotes[index].text = note.text;\r\n                this.newNotes[index].title = note.title;\r\n            },\r\n            modifyOld(note) {\r\n                let index = this.noteList.findIndex(x => x.id === note.id);\r\n                this.noteList[index].text = note.text;\r\n                this.noteList[index].title = note.title;\r\n            },\r\n            async updateNote(note) {\r\n                this.$_console_log(\"[Notes] Update note\");\r\n                this.$_console_log(note);\r\n                DispatchFactory.request(() => {\r\n                    noteService.updateNote(note).then(resp => {\r\n                        this.$_console_log('[Notes] Success updating note');\r\n                        let index = this.noteList.findIndex(x => x.id === note.id);\r\n                        //this.noteList[index] = Object.assign({}, resp.data)\r\n                        this.noteList[index].updated = resp.data.updated;\r\n                    }).catch(() => this.$_console_log('[Notes] Error creating note'));\r\n                });\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./notes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./notes.vue?vue&type=template&id=5ee3d642&\"\nimport script from \"./notes.vue?vue&type=script&lang=js&\"\nexport * from \"./notes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VContainer,VFlex,VLayout})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"left-menu\",attrs:{\"xs4\":\"\",\"sm3\":\"\",\"md2\":\"\",\"lg1\":\"\"}},[_c('v-layout',{attrs:{\"column\":\"\"}},[_vm._l((_vm.obj),function(o,i){return [_c('router-link',{attrs:{\"to\":{ name: 'documentation-item', params: { id: o }}}},[_vm._v(_vm._s(o))])]})],2)],1),_c('v-flex',{attrs:{\"xs8\":\"\",\"sm9\":\"\",\"md10\":\"\",\"lg11\":\"\"}},[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <v-layout row>            \r\n            <v-flex xs4 sm3 md2 lg1 class=\"left-menu\">\r\n                <v-layout column>\r\n                    <template v-for=\"(o, i) in obj\">\r\n                        <router-link :to=\"{ name: 'documentation-item', params: { id: o }}\">{{ o }}</router-link>\r\n                    </template>\r\n                </v-layout>\r\n            </v-flex>\r\n            \r\n            <v-flex xs8 sm9 md10 lg11>\r\n                <router-view></router-view>\r\n            </v-flex>            \r\n        </v-layout>  \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Documentation from '../../documentation.json'\r\n    let doc = JSON.parse(JSON.stringify(Documentation));\r\n    \r\n    export default {\r\n        data() {\r\n            return {\r\n                obj: [],\r\n            }\r\n        },\r\n        created() {\r\n            this.obj = doc.map(x => x.id).slice(0);\r\n        },\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .left-menu {\r\n        display: flex;\r\n        /*flex-direction: column;\r\n        flex-grow: 1;*/\r\n        position: relative;\r\n        top: 15px;\r\n        width: 160px;\r\n        height: 1000px;\r\n        font-weight: bold;\r\n        font-size: 2rem;\r\n        overflow-y: hidden;\r\n        margin-left: 10px;\r\n        /*margin: 5px 2px 0 2px;*/\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./documentation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./documentation.vue?vue&type=template&id=76a05719&\"\nimport script from \"./documentation.vue?vue&type=script&lang=js&\"\nexport * from \"./documentation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./documentation.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VFlex,VLayout})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.obj.title))]),_c('h3',[_vm._v(_vm._s(_vm.obj.topic))]),_vm._l((_vm.obj.sections),function(section,i){return [_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(section.title))]),_vm._l((section.paragraphs),function(paragraph,j){return [_c('p',{class:paragraph.style},[_vm._v(\" \"+_vm._s(paragraph.text)+\" \")])]})]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <h1>{{ obj.title }}</h1>\r\n        <h3>{{ obj.topic }}</h3>\r\n        <template v-for=\"(section, i) in obj.sections\">\r\n            <div class=\"title\">{{ section.title }}</div>\r\n            <template v-for=\"(paragraph, j) in section.paragraphs\">\r\n                <p :class=\"paragraph.style\">\r\n                    {{ paragraph.text }}\r\n                </p>\r\n            </template>\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Documentation from '../../documentation.json'\r\n    let doc = JSON.parse(JSON.stringify(Documentation));\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                obj: {},\r\n            }\r\n        },\r\n        created() {\r\n            this.obj = Object.assign({}, doc.filter(x => x.id === this.$route.params.id)[0]);\r\n        },\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./doc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./doc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./doc.vue?vue&type=template&id=64913c58&\"\nimport script from \"./doc.vue?vue&type=script&lang=js&\"\nexport * from \"./doc.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogOpen),callback:function ($$v) {_vm.dialogOpen=$$v},expression:\"dialogOpen\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.headerText))])]),_c('v-card-text',[_c('v-container',[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs12\":\"\"}},[_c('v-date-picker',{model:{value:(_vm.weight.created),callback:function ($$v) {_vm.$set(_vm.weight, \"created\", $$v)},expression:\"weight.created\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{staticClass:\"weight-input\",attrs:{\"label\":\"Value\",\"suffix\":\"lbs\"},model:{value:(_vm.weight.value),callback:function ($$v) {_vm.$set(_vm.weight, \"value\", $$v)},expression:\"weight.value\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Notes\"},model:{value:(_vm.weight.notes),callback:function ($$v) {_vm.$set(_vm.weight, \"notes\", $$v)},expression:\"weight.notes\"}})],1),_c('v-flex',{staticClass:\"text-xs-center\",attrs:{\"xs12\":\"\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.addOrEditWeight()}}},[_vm._v(_vm._s(_vm.submitText))])],1)],1)],1)],1)],1)],1),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"px-2\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_vm._v(\" Create new weight: \"),_c('v-btn',{staticClass:\"green--text\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.openAddOrEditWeight(null, null)}}},[_c('fa-icon',{attrs:{\"icon\":\"plus\"}})],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('div',{staticClass:\"text-sm-left text-md-right headline font-weight-bold\"},[_vm._v(\"Average weight loss / week:\")]),_c('div',{staticClass:\"text-sm-left text-md-right headline\",class:_vm.weightLossCss},[_vm._v(_vm._s(_vm.avgWeightLossWeek + \" lbs\"))]),_c('div',{staticClass:\"text-sm-left text-md-right headline font-weight-bold\"},[_vm._v(\"Total Weight Loss:\")]),_c('div',{staticClass:\"text-sm-left text-md-right headline\",class:_vm.weightLossCss},[_vm._v(_vm._s(_vm.totalWeightLoss + \" lbs\"))])]),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('div',{staticClass:\"headline\"},[_vm._v(\"Filtering:\")])]),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Filter Start Date\",\"prepend-icon\":\"event\",\"readonly\":\"\"},scopedSlots:_vm._u([{key:\"append-outer\",fn:function(){return [_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.filterStartDate = null}}},[_c('fa-icon',{attrs:{\"icon\":\"window-close\"}})],1)]},proxy:true}],null,true),model:{value:(_vm.filterStartDate),callback:function ($$v) {_vm.filterStartDate=$$v},expression:\"filterStartDate\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.filterStartDateMenu),callback:function ($$v) {_vm.filterStartDateMenu=$$v},expression:\"filterStartDateMenu\"}},[_c('v-date-picker',{on:{\"input\":function($event){_vm.filterStartDateMenu = false}},model:{value:(_vm.filterStartDate),callback:function ($$v) {_vm.filterStartDate=$$v},expression:\"filterStartDate\"}})],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"End Date\",\"prepend-icon\":\"event\",\"readonly\":\"\"},scopedSlots:_vm._u([{key:\"append-outer\",fn:function(){return [_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.filterEndDate = null}}},[_c('fa-icon',{attrs:{\"icon\":\"window-close\"}})],1)]},proxy:true}],null,true),model:{value:(_vm.filterEndDate),callback:function ($$v) {_vm.filterEndDate=$$v},expression:\"filterEndDate\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.filterEndDateMenu),callback:function ($$v) {_vm.filterEndDateMenu=$$v},expression:\"filterEndDateMenu\"}},[_c('v-date-picker',{on:{\"input\":function($event){_vm.filterEndDateMenu = false}},model:{value:(_vm.filterEndDate),callback:function ($$v) {_vm.filterEndDate=$$v},expression:\"filterEndDate\"}})],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.getHeaders,\"items\":_vm.filteredWeightList},scopedSlots:_vm._u([{key:\"body\",fn:function(ref){\nvar items = ref.items;\nreturn [_c('tbody',_vm._l((items),function(item){return _c('tr',{key:item.id,on:{\"click\":function($event){return _vm.openAddOrEditWeight(item, $event)}}},[_c('td',[_vm._v(_vm._s(_vm.getDate(item.created)))]),_c('td',[_vm._v(_vm._s(item.value))]),_c('td',[_vm._v(_vm._s(item.notes))]),_c('td',{staticClass:\"action-td\"},[_c('fa-icon',{attrs:{\"size\":\"lg\",\"icon\":\"window-close\"},on:{\"click\":function($event){return _vm.deleteItem(item.id)}}})],1)])}),0)]}},{key:\"no-data\",fn:function(){return [_vm._v(\" NO DATA HERE! \")]},proxy:true},{key:\"no-results\",fn:function(){return [_vm._v(\" NO RESULTS HERE! \")]},proxy:true}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from '../axios'\r\n\r\nconst GetWeightUrl = `api/weight/list`;\r\nconst AddWeightUrl = `api/weight/add`;\r\nconst EditWeightUrl = `api/weight/edit`;\r\nconst DeleteWeightUrl = `api/weight/delete`;\r\n\r\nexport default {\r\n    getWeightList() {\r\n        return axios.get(GetWeightUrl);\r\n    },\r\n    deleteWeight(id) {\r\n        return axios.request({\r\n            url: DeleteWeightUrl,\r\n            method: 'delete',\r\n            params: {\r\n                id: id\r\n            }\r\n        });\r\n    },\r\n    addWeight(data) {\r\n        return axios.post(AddWeightUrl, data);\r\n    },\r\n    editWeight(data) {\r\n        return axios.post(EditWeightUrl, data);\r\n    },\r\n}\r\n","<template>\r\n    <div>\r\n        <v-dialog v-model=\"dialogOpen\" max-width=\"500px\">\r\n            <v-card>\r\n                <v-card-title>\r\n                    <span class=\"headline\">{{ headerText }}</span>\r\n                </v-card-title>\r\n\r\n                <v-card-text>\r\n                    <v-container>\r\n                        <v-layout wrap>\r\n                            <v-flex xs12 class=\"text-xs-center\">\r\n                                <v-date-picker v-model=\"weight.created\"></v-date-picker>\r\n                            </v-flex>\r\n                            <v-flex xs12>\r\n                                <v-text-field v-model=\"weight.value\" label=\"Value\" suffix=\"lbs\" class=\"weight-input\"></v-text-field>\r\n                            </v-flex>\r\n                            <v-flex xs12>\r\n                                <v-text-field v-model=\"weight.notes\" label=\"Notes\"></v-text-field>\r\n                            </v-flex>\r\n                            <v-flex xs12 class=\"text-xs-center\">\r\n                                <v-btn @click=\"addOrEditWeight()\">{{ submitText }}</v-btn>\r\n                            </v-flex>\r\n                        </v-layout>\r\n                    </v-container>\r\n                </v-card-text>\r\n            </v-card>\r\n        </v-dialog>\r\n\r\n        <v-container fluid>\r\n            <v-layout row wrap px-2>\r\n                <v-flex xs12 sm6 md4>\r\n                    Create new weight:\r\n                    <v-btn icon @click=\"openAddOrEditWeight(null, null)\" class=\"green--text\">\r\n                        <fa-icon icon=\"plus\"></fa-icon>\r\n                    </v-btn>\r\n                </v-flex>\r\n\r\n                <v-flex xs12 sm6>\r\n                    <div class=\"text-sm-left text-md-right headline font-weight-bold\">Average weight loss / week:</div>\r\n                    <div class=\"text-sm-left text-md-right headline\" :class=\"weightLossCss\">{{ avgWeightLossWeek + \" lbs\" }}</div>\r\n\r\n                    <div class=\"text-sm-left text-md-right headline font-weight-bold\">Total Weight Loss:</div>\r\n                    <div class=\"text-sm-left text-md-right headline\" :class=\"weightLossCss\">{{ totalWeightLoss + \" lbs\" }}</div>\r\n                </v-flex>\r\n\r\n                <!-- Filtering by dates -->\r\n                <v-flex xs12>\r\n                    <div class=\"headline\">Filtering:</div>\r\n                </v-flex>\r\n                <v-flex xs12 sm6>\r\n                    <v-menu v-model=\"filterStartDateMenu\"\r\n                            :close-on-content-click=\"false\"\r\n                            :nudge-right=\"40\"\r\n                            transition=\"scale-transition\"\r\n                            offset-y\r\n                            min-width=\"290px\">\r\n                        <template v-slot:activator=\"{ on, attrs }\">\r\n                            <v-text-field v-model=\"filterStartDate\"\r\n                                          label=\"Filter Start Date\"\r\n                                          prepend-icon=\"event\"\r\n                                          readonly\r\n                                          v-bind=\"attrs\"\r\n                                          v-on=\"on\">\r\n                                <template v-slot:append-outer>\r\n                                    <v-btn @click=\"filterStartDate = null\" text icon>\r\n                                        <fa-icon icon=\"window-close\"></fa-icon>\r\n                                    </v-btn>\r\n                                </template>\r\n                            </v-text-field>\r\n                        </template>\r\n                        <v-date-picker v-model=\"filterStartDate\" @input=\"filterStartDateMenu = false\"></v-date-picker>\r\n                    </v-menu>\r\n                </v-flex>\r\n                <v-flex xs12 sm6>\r\n                    <v-menu v-model=\"filterEndDateMenu\"\r\n                            :close-on-content-click=\"false\"\r\n                            :nudge-right=\"40\"\r\n                            transition=\"scale-transition\"\r\n                            offset-y\r\n                            min-width=\"290px\">\r\n                        <template v-slot:activator=\"{ on, attrs }\">\r\n                            <v-text-field v-model=\"filterEndDate\"\r\n                                          label=\"End Date\"\r\n                                          prepend-icon=\"event\"\r\n                                          readonly\r\n                                          v-bind=\"attrs\"\r\n                                          v-on=\"on\">\r\n                                <template v-slot:append-outer>\r\n                                    <v-btn @click=\"filterEndDate = null\" text icon>\r\n                                        <fa-icon icon=\"window-close\"></fa-icon>\r\n                                    </v-btn>\r\n                                </template>\r\n                            </v-text-field>\r\n                        </template>\r\n                        <v-date-picker v-model=\"filterEndDate\" @input=\"filterEndDateMenu = false\"></v-date-picker>                        \r\n                    </v-menu>\r\n                </v-flex>\r\n\r\n                <!-- Filtered list results -->\r\n                <v-flex xs12>\r\n                    <v-data-table :headers=\"getHeaders\"\r\n                                  :items=\"filteredWeightList\"\r\n                                  class=\"elevation-1\">\r\n                        <template v-slot:body=\"{ items }\">\r\n                            <tbody>\r\n                                <tr v-for=\"item in items\" :key=\"item.id\" @click=\"openAddOrEditWeight(item, $event)\">\r\n                                    <td>{{ getDate(item.created) }}</td>\r\n                                    <td>{{ item.value }}</td>\r\n                                    <td>{{ item.notes }}</td>\r\n                                    <td class=\"action-td\"><fa-icon size=\"lg\" icon=\"window-close\" @click=\"deleteItem(item.id)\" /></td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </template>\r\n                        <template v-slot:no-data>\r\n                            NO DATA HERE!\r\n                        </template>\r\n                        <template v-slot:no-results>\r\n                            NO RESULTS HERE!\r\n                        </template>\r\n                    </v-data-table>\r\n                </v-flex>\r\n            </v-layout>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState } from 'vuex'\r\n    import { setTimeout } from 'core-js';\r\n    import weightService from '../../services/weight'\r\n    import DispatchFactory from '../../factories/dispatchFactory'\r\n\r\n    function getNewWeight(user) {\r\n        let usr = null;\r\n        if (typeof user !== 'undefined')\r\n            usr = user;\r\n\r\n        return {\r\n            id: -1,\r\n            created: new Date().toISOString().substr(0, 10),\r\n            value: '',\r\n            userId: usr,\r\n            notes: null\r\n        }\r\n    }\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                filteredWeightList: [],\r\n                filterStartDate: null,\r\n                filterEndDate: null,\r\n                filterStartDateMenu: false,\r\n                filterEndDateMenu: false,\r\n                weightList: [],\r\n                weight: null,\r\n                tableOptions: {\r\n                    sortBy: ['created'],\r\n                    sortDesc: [true],\r\n                    itemsPerPage: 25\r\n                },\r\n                startDate: null,\r\n                endDate: null,\r\n                startWeight: 0,\r\n                endWeight: 0,\r\n                dialogOpen: false,\r\n            }\r\n        },\r\n        created() {\r\n            this.weight = getNewWeight();\r\n            this.getData();\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n               user: state => state.auth.user\r\n            }),\r\n            headerText() {\r\n                if (typeof this.weight === 'undefined' || this.weight === null) {\r\n                    return '';\r\n                }\r\n\r\n                if (this.weight.id > 0) {\r\n                    return 'Edit Existing Weight';\r\n                }\r\n                else {\r\n                    return 'Add New Weight';\r\n                }\r\n            },\r\n            submitText() {\r\n                if (typeof this.weight === 'undefined' || this.weight === null) {\r\n                    return 'Submit';\r\n                }\r\n\r\n                if (this.weight.id > 0) {\r\n                    return 'Update';\r\n                }\r\n                else {\r\n                    return 'Add';\r\n                }\r\n            },\r\n            getHeaders() {\r\n                return [\r\n                    { text: 'Date', align: 'start', value: 'created', sortable: true, width: '21%' },\r\n                    { text: 'Weight', align: 'start', value: 'value', sortable: true, width: '21%' },\r\n                    { text: 'Notes', align: 'start', value: 'notes', sortable: false, width: '51%' },\r\n                    { text: 'Actions', align: 'start', value: 'actions', sortable: false, width: '7%' },\r\n                ];\r\n            },\r\n            totalWeightLoss() {\r\n                if (typeof this.startWeight !== 'number' || typeof this.endWeight !== 'number')\r\n                    return 0;\r\n\r\n                return (this.startWeight - this.endWeight).toFixed(2);\r\n            },\r\n            avgWeightLossPerDay() {\r\n                let weightLoss = 0;\r\n\r\n                if (!Array.isArray(this.weightList) || this.weightList.length === 0) {\r\n                    this.$_console_log('[AverageWeightLoss] No weights in list');\r\n                    return weightLoss;\r\n                }\r\n\r\n                const diffTime = Math.abs(this.endDate - this.startDate);\r\n                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n                if (diffDays === 0) {\r\n                    this.$_console_log('[AverageWeightLoss] Difference in days is 0, can\\'t divide by 0');\r\n                    return weightLoss;\r\n                }\r\n                \r\n                weightLoss = ((this.startWeight - this.endWeight) / diffDays);\r\n\r\n                this.$_console_log('[AverageWeightLoss] Weight loss: ' + weightLoss);\r\n                return weightLoss;\r\n            },\r\n            avgWeightLossWeek() {\r\n                return (this.avgWeightLossPerDay * 7).toFixed(2);\r\n            },\r\n            weightLossCss() {\r\n                console.log(this.avgWeightLossWeek);\r\n                if (this.avgWeightLossWeek >= 2) {\r\n                    return 'green--text';\r\n                }\r\n                else if (this.avgWeightLossWeek >= 1) {\r\n                    return 'yellow--text';\r\n                }\r\n                else if (this.avgWeightLossWeek >= 0) {\r\n                    return 'orange--text';\r\n                }\r\n                else if (this.avgWeightLossWeek < 0) {\r\n                    return 'red--text';\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            weightList: {\r\n                handler(newValue) {\r\n                    if (this.filterStartDate === null || this.filterEndDate === null) {\r\n                        this.filteredWeightList = newValue;\r\n                    }\r\n                },\r\n                deep: true\r\n            },\r\n            filteredWeightList: {\r\n                handler(newValue) {\r\n                    if (!Array.isArray(newValue) || newValue.length === 0) {\r\n                        this.startDate = null;\r\n                        this.endDate = null;\r\n                        this.startWeight = 0;\r\n                        this.endWeight = 0;\r\n\r\n                        return;\r\n                    }\r\n\r\n                    const dates = newValue.map(x => new Date(x.created));\r\n\r\n                    this.endDate = new Date(Math.max.apply(null, dates));\r\n                    this.startDate = new Date(Math.min.apply(null, dates));\r\n\r\n                    this.$_console_log('End Date: ', this.endDate);\r\n\r\n                    // TODO: Fix this.. This currently won't necessary give correct values if we have multiple weights on the same day,\r\n                    // there is no guarantee it picks the right value\r\n                    this.endWeight = newValue.find(x => new Date(x.created).getTime() == this.endDate.getTime()).value;\r\n                    this.startWeight = newValue.find(x => new Date(x.created).getTime() == this.startDate.getTime()).value;\r\n                },\r\n                deep: true\r\n            },\r\n            filterStartDate(newValue) {\r\n                this.filteredWeightList = this.filterWeight(newValue, this.filterEndDate);\r\n            },\r\n            filterEndDate(newValue) {\r\n                this.filteredWeightList = this.filterWeight(this.filterStartDate, newValue);\r\n            }\r\n        },\r\n        methods: {\r\n            async getData() {\r\n                this.$_console_log(\"[Weight] Get weights\");\r\n                DispatchFactory.request(() => {\r\n                    weightService.getWeightList().then(resp => {\r\n                        this.$_console_log('[Weight] Success getting weights');\r\n                        this.$_console_log(resp.data);\r\n                        if (Array.isArray(resp.data)) {\r\n                            this.weightList = resp.data;\r\n                        }\r\n                        else {\r\n                            this.weightList = [];\r\n                        }\r\n                    }).catch(() => this.$_console_log('[Weight] Error getting weights'));\r\n                });\r\n            },\r\n            filterWeight(start, end) {\r\n                let startDate = null;\r\n                let endDate = null;\r\n\r\n                if (start !== null) {\r\n                    startDate = new Date(start).getTime();\r\n                }\r\n                if (end !== null) {\r\n                    endDate = new Date(end).getTime() + 86000000;  // End date + 1 day\r\n                }\r\n\r\n                if (startDate === null && endDate === null) {\r\n                    return this.weightList.slice(0);\r\n                }\r\n\r\n                const filteredWeightList = this.weightList.slice(0).filter(x => {\r\n                    var date = new Date(x.created).getTime();\r\n\r\n                    if (startDate === null)\r\n                        return date <= endDate ? true : false;\r\n                    else if (endDate === null)\r\n                        return date >= startDate ? true : false;\r\n                    else\r\n                        return date >= startDate && date <= endDate ? true : false;\r\n                });\r\n\r\n                return filteredWeightList;\r\n            },\r\n            openAddOrEditWeight(item, evt) {\r\n                this.$_console_log(\"[Weight] Creating or editing a weight object\");\r\n\r\n                if (typeof item === 'undefined') {\r\n                    this.$_console_log('[Weight] Open Add Or Edit Weight: Weight is undefined or empty')\r\n                    return;\r\n                }\r\n\r\n                if (evt !== null && (evt.target.classList.contains('action-td')\r\n                    || evt.target.parentNode.classList.contains('action-td')\r\n                    || evt.target.parentNode.parentNode.classList.contains('action-td'))\r\n                ) {\r\n                    this.$_console_log('[Weight] Some button was pressed, don\\'t open the dialog.');\r\n                    return;\r\n                }\r\n\r\n                if (item === null) {\r\n                    this.weight = getNewWeight(this.user.id);\r\n                }\r\n                else {\r\n                    let newObj = getNewWeight(this.user.id);\r\n                    \r\n                    newObj.id = item.id;\r\n                    newObj.value = item.value;\r\n                    newObj.notes = item.notes;\r\n                    newObj.created = item.created.substr(0, item.created.indexOf('T'));\r\n\r\n                    this.weight = Object.assign({}, newObj);\r\n                }\r\n\r\n                this.dialogOpen = true;\r\n            },\r\n            addOrEditWeight() {\r\n                if (typeof this.weight === 'undefined' || this.weight === null) {\r\n                    this.$_console_log('[Weight] Add or Edit Weight: Weight is null or empty, exiting');\r\n                    return;\r\n                }\r\n\r\n                // add\r\n                if (this.weight.id <= 0) {\r\n                    this.addNew(this.weight);\r\n                }\r\n                // edit\r\n                else {\r\n                    this.editWeight(this.weight);\r\n                }\r\n            },\r\n            async addNew(item) {\r\n                this.$_console_log(\"[Weight] Create weight\");\r\n                this.$_console_log(item);\r\n                if (item.value === \"\") {\r\n                    this.$_console_log('[Weight] Weight is empty, not going to create it');\r\n                }\r\n                else {\r\n                    DispatchFactory.request(() => {\r\n                        weightService.addWeight(item).then(resp => {\r\n                            this.$_console_log('[Weight] Success creating weight');\r\n                            this.weight = getNewWeight(this.user.id);\r\n                            this.weightList.push(resp.data);\r\n                            this.dialogOpen = false;\r\n                        }).catch(() => this.$_console_log('[Weight] Error creating weight'));\r\n                    });\r\n                }\r\n            },\r\n            async editWeight(item) {\r\n                this.$_console_log(\"[Weight] Edit weight\");\r\n                this.$_console_log(item);\r\n                if (typeof item === 'undefined' || item === null || item.id <= 0 || item.value === \"\") {\r\n                    this.$_console_log('[Weight] Weight is empty, null, the id is less than or equal to 0, or the value is empty. Not going to edit it');\r\n                    return;\r\n                }\r\n\r\n                DispatchFactory.request(() => {\r\n                    weightService.editWeight(item).then(resp => {\r\n                        this.$_console_log('[Weight] Success editing weight');\r\n                        const index = this.weightList.findIndex(x => x.id === item.id);\r\n                        if (index === -1) {\r\n                            this.$_console_log('[Weight] Index is -1. Weight doesn\\t exist in list. Can\\'t update local list.');\r\n                        }\r\n                        else {\r\n                            this.weightList.splice(index, 1, resp.data)\r\n                        }\r\n                    }).catch(() => this.$_console_log('[Weight] Error editing weight'))\r\n                        .then(() => this.dialogOpen = false);\r\n                });\r\n            },\r\n            getDate(date) {\r\n                if (date == null || date.length < 11)\r\n                    return 'Unknown';\r\n\r\n                return date.substr(0, date.indexOf('T'));\r\n            },\r\n            async deleteItem(id) {\r\n                this.$_console_log(`[Weight] Delete weight with id: ${id}`);\r\n                DispatchFactory.request(() => {\r\n                    weightService.deleteWeight(id).then(resp => {\r\n                        this.$_console_log('[Weight] Success deleting weight');\r\n\r\n                        let weightIndex = this.weightList.findIndex(x => x.id === id);\r\n                        if (weightIndex >= 0)\r\n                            this.weightList.splice(weightIndex, 1);\r\n                    }).catch(() => this.$_console_log('[Weight] Error creating weight'));\r\n                });\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .weight-list-container {\r\n        max-width: 500px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./weight.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./weight.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./weight.vue?vue&type=template&id=f51da7d8&scoped=true&\"\nimport script from \"./weight.vue?vue&type=script&lang=js&\"\nexport * from \"./weight.vue?vue&type=script&lang=js&\"\nimport style0 from \"./weight.vue?vue&type=style&index=0&id=f51da7d8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f51da7d8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VContainer,VDataTable,VDatePicker,VDialog,VFlex,VLayout,VMenu,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('depedency-editor-dialog',{attrs:{\"open\":_vm.dependencyEditorDialogOpen},on:{\"closeDialog\":_vm.closeDependencyEditorDialogWindow}}),_c('book-dialog',{attrs:{\"open\":_vm.bookDialogOpen,\"book\":_vm.activeBook,\"loading\":_vm.loadingBook},on:{\"closeDialog\":_vm.closeBookDialogWindow}}),_c('v-container',[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_vm._v(\" Dependency Editor \"),_c('v-btn',{staticClass:\"green--text\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.dependencyEditorDialogOpen = true}}},[_c('fa-icon',{attrs:{\"icon\":\"plus\"}})],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_vm._v(\" Create new book entry: \"),_c('v-btn',{staticClass:\"green--text\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.openAddOrEditBookDialog(null, null)}}},[_c('fa-icon',{attrs:{\"icon\":\"plus\"}})],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Search Book List\"},model:{value:(_vm.bookSearch),callback:function ($$v) {_vm.bookSearch=$$v},expression:\"bookSearch\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.getHeaders,\"items\":_vm.bookList,\"search\":_vm.bookSearch},scopedSlots:_vm._u([{key:\"body\",fn:function(ref){\nvar items = ref.items;\nreturn [_c('tbody',_vm._l((items),function(item){return _c('tr',{key:item.id,on:{\"click\":function($event){return _vm.openAddOrEditBookDialog(item, $event)}}},[_c('td',[_vm._v(_vm._s(_vm.getTitle(item)))]),(item.bookAuthors !== null)?_c('td',_vm._l((item.bookAuthors),function(bookAuthor,index){return _c('div',{key:index},[(bookAuthor.author !== null)?[_c('p',[_vm._v(_vm._s(bookAuthor.author.fullName))])]:_vm._e()],2)}),0):_c('td'),_c('td',{staticClass:\"hidden-sm-and-down\"},[_vm._v(_vm._s(item.edition))]),_c('td',{staticClass:\"hidden-xs-only\"},_vm._l((item.bookGenres),function(bookGenre,index){return _c('div',{key:index},[(bookGenre.genre !== null)?[_c('p',[_vm._v(_vm._s(bookGenre.genre.name))])]:_vm._e()],2)}),0),_c('td',{staticClass:\"hidden-sm-and-down\"},[_vm._v(_vm._s(_vm.getPublicationDate(item.publicationDate)))]),(item.hardcover)?_c('td',{staticClass:\"hidden-xs-only\"},[_c('fa-icon',{attrs:{\"icon\":\"check\"}})],1):_c('td',{staticClass:\"hidden-xs-only\"},[_c('fa-icon',{attrs:{\"icon\":\"times\"}})],1),(item.isRead)?_c('td',{staticClass:\"hidden-xs-only\"},[_c('fa-icon',{attrs:{\"icon\":\"check\"}})],1):_c('td',{staticClass:\"hidden-xs-only\"},[_c('fa-icon',{attrs:{\"icon\":\"times\"}})],1),(item.boxset)?_c('td',{staticClass:\"hidden-sm-and-down\"},[_c('fa-icon',{attrs:{\"icon\":\"check\"}})],1):_c('td',{staticClass:\"hidden-sm-and-down\"},[_c('fa-icon',{attrs:{\"icon\":\"times\"}})],1),(item.loaned)?_c('td',{staticClass:\"hidden-sm-and-down\"},[_c('fa-icon',{attrs:{\"icon\":\"check\"}})],1):_c('td',{staticClass:\"hidden-sm-and-down\"},[_c('fa-icon',{attrs:{\"icon\":\"times\"}})],1),_c('td',[_vm._v(_vm._s(_vm.getBookcaseName(item)))]),(_vm.hasSeriesInfo(item))?_c('td',{staticClass:\"hidden-xs-only\"},[(item.series.active)?_c('fa-icon',{attrs:{\"icon\":\"minus\"}}):_c('fa-icon',{attrs:{\"icon\":\"ban\"}}),_vm._v(\" \"+_vm._s(item.series.name)+\" (\"+_vm._s(item.seriesNumber)+\" / \"+_vm._s(item.series.number)+\") \")],1):_c('td',{staticClass:\"hidden-xs-only\"}),_c('td',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteBook(item)}}},[_c('fa-icon',{attrs:{\"size\":\"md\",\"icon\":\"window-close\"}})],1)],1)])}),0)]}},{key:\"no-data\",fn:function(){return [_vm._v(\" NO DATA HERE! \")]},proxy:true},{key:\"no-results\",fn:function(){return [_vm._v(\" NO RESULTS HERE! \")]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":_vm.maxModalWidth},model:{value:(_vm.dialogOpen),callback:function ($$v) {_vm.dialogOpen=$$v},expression:\"dialogOpen\"}},[_c('v-card',[_c('v-card-title',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.dialogOpen = false}}},[_c('fa-icon',{attrs:{\"icon\":\"times\"}})],1),_c('span',{staticClass:\"headline center\"},[_vm._v(\"Book dependency editor\")])],1),_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-tabs',{attrs:{\"fixed-tabs\":\"\",\"hide-slider\":\"\"},model:{value:(_vm.activeType),callback:function ($$v) {_vm.activeType=$$v},expression:\"activeType\"}},_vm._l((_vm.typeList),function(item,index){return _c('v-tab',{key:index},[_vm._v(\" \"+_vm._s(item)+\" \")])}),1)],1),_c('v-flex',{staticClass:\"py-1\",staticStyle:{\"text-align\":\"center\"},attrs:{\"xs12\":\"\"}},[_c('v-btn',{staticClass:\"primary center\",on:{\"click\":function($event){return _vm.addObject()}}},[_vm._v(\" Add new \"+_vm._s(_vm.typeList[_vm.activeType])+\" \")])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('v-list-item-group',{model:{value:(_vm.activeObject),callback:function ($$v) {_vm.activeObject=$$v},expression:\"activeObject\"}},_vm._l((_vm.activeList),function(item,index){return _c('v-list-item',{key:index},[(_vm.activeType === _vm.typeConsts.Author)?_c('v-list-item-content',[_vm._v(\" \"+_vm._s(item.fullName)+\" \")]):(_vm.activeType === _vm.typeConsts.Bookcase)?_c('v-list-item-content',[_vm._v(\" \"+_vm._s(item.name)+\" \")]):(_vm.activeType === _vm.typeConsts.Series)?_c('v-list-item-content',[_vm._v(\" \"+_vm._s(item.name)+\" \")]):(_vm.activeType === _vm.typeConsts.Shelf)?_c('v-list-item-content',[_vm._v(\" \"+_vm._s(item.name)+\" \")]):_vm._e()],1)}),1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[(typeof _vm.activeObject !== 'undefined' && _vm.activeObject !== null && _vm.selectedObject !== null)?[_c('v-form',{ref:\"objectForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.validated),callback:function ($$v) {_vm.validated=$$v},expression:\"validated\"}},[(_vm.activeType === _vm.typeConsts.Author)?[_c('v-flex',{attrs:{\"xs12\":\"\",\"pl-2\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"First Name\"},model:{value:(_vm.selectedObject.firstName),callback:function ($$v) {_vm.$set(_vm.selectedObject, \"firstName\", $$v)},expression:\"selectedObject.firstName\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"pl-2\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Last Name\",\"rules\":[_vm.rules.required]},model:{value:(_vm.selectedObject.lastName),callback:function ($$v) {_vm.$set(_vm.selectedObject, \"lastName\", $$v)},expression:\"selectedObject.lastName\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"pl-1\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Deceased\"},model:{value:(_vm.selectedObject.deceased),callback:function ($$v) {_vm.$set(_vm.selectedObject, \"deceased\", $$v)},expression:\"selectedObject.deceased\"}})],1)]:(_vm.activeType === _vm.typeConsts.Bookcase)?[_c('v-flex',{attrs:{\"xs12\":\"\",\"pl-2\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Name\",\"rules\":[_vm.rules.required]},model:{value:(_vm.selectedObject.name),callback:function ($$v) {_vm.$set(_vm.selectedObject, \"name\", $$v)},expression:\"selectedObject.name\"}})],1)]:(_vm.activeType === _vm.typeConsts.Series)?[_c('v-flex',{attrs:{\"xs12\":\"\",\"pl-2\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Name\",\"rules\":[_vm.rules.required]},model:{value:(_vm.selectedObject.name),callback:function ($$v) {_vm.$set(_vm.selectedObject, \"name\", $$v)},expression:\"selectedObject.name\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"pl-2\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Number\"},model:{value:(_vm.selectedObject.number),callback:function ($$v) {_vm.$set(_vm.selectedObject, \"number\", $$v)},expression:\"selectedObject.number\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"pl-1\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Active\"},model:{value:(_vm.selectedObject.active),callback:function ($$v) {_vm.$set(_vm.selectedObject, \"active\", $$v)},expression:\"selectedObject.active\"}})],1)]:(_vm.activeType === _vm.typeConsts.Shelf)?[_c('v-flex',{attrs:{\"xs12\":\"\",\"pl-2\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.bookcaseList,\"label\":\"Bookcase\",\"item-value\":\"id\",\"item-text\":\"name\",\"rules\":[_vm.rules.required]},model:{value:(_vm.selectedObject.bookcaseId),callback:function ($$v) {_vm.$set(_vm.selectedObject, \"bookcaseId\", $$v)},expression:\"selectedObject.bookcaseId\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"pl-2\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Name\",\"rules\":[_vm.rules.required]},model:{value:(_vm.selectedObject.name),callback:function ($$v) {_vm.$set(_vm.selectedObject, \"name\", $$v)},expression:\"selectedObject.name\"}})],1)]:_vm._e()],2),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-btn',{on:{\"click\":function($event){_vm.selectedObject = null}}},[_vm._v(\" CANCEL \")]),_c('v-btn',{staticClass:\"primary\",attrs:{\"disabled\":!_vm.validated},on:{\"click\":function($event){return _vm.updateObject()}}},[_vm._v(\" SAVE \")]),_c('v-btn',{staticClass:\"float-right\",on:{\"click\":function($event){return _vm.deleteObject()}}},[_vm._v(\" DELETE \")])],1)]:_vm._e()],2)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const getNewBookcase = function () {\r\n    return {\r\n        id: 0,\r\n        name: '',\r\n    }\r\n}\r\n\r\nexport const getNewSeries = function() {\r\n    return {\r\n        id: 0,\r\n        name: '',\r\n        number: 0,\r\n        active: false,\r\n    }\r\n}\r\n\r\nexport const getNewShelf = function() {\r\n    return {\r\n        id: 0,\r\n        name: '',\r\n    }\r\n}\r\n\r\nexport const getNewAuthor = function() {\r\n    return {\r\n        id: 0,\r\n        firstName: null,\r\n        lastName: null,\r\n        fullName: null,\r\n        deceased: false\r\n    }\r\n}\r\n\r\nexport const padTwo = function(number) {\r\n    return (number < 10 ? '0' : '') + number;\r\n}\r\n","<template>\r\n    <v-dialog v-model=\"dialogOpen\" :max-width=\"maxModalWidth\">\r\n        <v-card>\r\n            <v-card-title>\r\n                <v-btn icon @click=\"dialogOpen = false\"><fa-icon icon=\"times\"></fa-icon></v-btn>\r\n                <span class=\"headline center\">Book dependency editor</span>\r\n            </v-card-title>\r\n\r\n            <v-card-text>\r\n                <v-layout row>\r\n                    <v-flex xs12>\r\n                        <v-tabs v-model=\"activeType\" fixed-tabs hide-slider>\r\n                            <v-tab v-for=\"(item, index) in typeList\" :key=\"index\">\r\n                                {{ item }}\r\n                            </v-tab>\r\n                        </v-tabs>\r\n                    </v-flex>\r\n\r\n                    <v-flex xs12 class=\"py-1\" style=\"text-align: center\">\r\n                        <v-btn class=\"primary center\" @click=\"addObject()\">\r\n                            Add new {{ typeList[activeType] }}\r\n                        </v-btn>\r\n                    </v-flex>\r\n\r\n                    <v-flex xs12 sm6>\r\n                        <v-list-item-group v-model=\"activeObject\">\r\n                            <v-list-item v-for=\"(item, index) in activeList\" :key=\"index\">\r\n                                <v-list-item-content v-if=\"activeType === typeConsts.Author\">\r\n                                    {{ item.fullName }}\r\n                                </v-list-item-content>\r\n                                <v-list-item-content v-else-if=\"activeType === typeConsts.Bookcase\">\r\n                                    {{ item.name }}\r\n                                </v-list-item-content>\r\n                                <v-list-item-content v-else-if=\"activeType === typeConsts.Series\">\r\n                                    {{ item.name }}\r\n                                </v-list-item-content>\r\n                                <v-list-item-content v-else-if=\"activeType === typeConsts.Shelf\">\r\n                                    {{ item.name }}\r\n                                </v-list-item-content>\r\n                            </v-list-item>\r\n                        </v-list-item-group>\r\n                    </v-flex>\r\n                    <v-flex xs12 sm6>\r\n                        <template v-if=\"typeof activeObject !== 'undefined' && activeObject !== null && selectedObject !== null\">\r\n                            <!-- Author -->\r\n                            <v-form v-model=\"validated\" ref=\"objectForm\" lazy-validation>\r\n                                <template v-if=\"activeType === typeConsts.Author\">\r\n                                    <v-flex xs12 pl-2>\r\n                                        <v-text-field v-model=\"selectedObject.firstName\" label=\"First Name\"></v-text-field>\r\n                                    </v-flex>\r\n                                    <v-flex xs12 pl-2>\r\n                                        <v-text-field v-model=\"selectedObject.lastName\" label=\"Last Name\" :rules=\"[rules.required]\"></v-text-field>\r\n                                    </v-flex>\r\n                                    <v-flex xs12 pl-1>\r\n                                        <v-checkbox v-model=\"selectedObject.deceased\" label=\"Deceased\"></v-checkbox>\r\n                                    </v-flex>\r\n                                </template>\r\n\r\n                                <!-- Bookcase -->\r\n                                <template v-else-if=\"activeType === typeConsts.Bookcase\">\r\n                                    <v-flex xs12 pl-2>\r\n                                        <v-text-field v-model=\"selectedObject.name\" label=\"Name\" :rules=\"[rules.required]\"></v-text-field>\r\n                                    </v-flex>\r\n                                </template>\r\n\r\n                                <!-- Series -->\r\n                                <template v-else-if=\"activeType === typeConsts.Series\">\r\n                                    <v-flex xs12 pl-2>\r\n                                        <v-text-field v-model=\"selectedObject.name\" label=\"Name\" :rules=\"[rules.required]\"></v-text-field>\r\n                                    </v-flex>\r\n                                    <v-flex xs12 pl-2>\r\n                                        <v-text-field v-model=\"selectedObject.number\" label=\"Number\"></v-text-field>\r\n                                    </v-flex>\r\n                                    <v-flex xs12 pl-1>\r\n                                        <v-checkbox v-model=\"selectedObject.active\" label=\"Active\"></v-checkbox>\r\n                                    </v-flex>\r\n                                </template>\r\n\r\n                                <!-- Shelf -->\r\n                                <template v-else-if=\"activeType === typeConsts.Shelf\">\r\n                                    <v-flex xs12 pl-2>\r\n                                        <v-select v-model=\"selectedObject.bookcaseId\" :items=\"bookcaseList\" label=\"Bookcase\" item-value=\"id\" item-text=\"name\" :rules=\"[rules.required]\"></v-select>\r\n                                    </v-flex>\r\n                                    <v-flex xs12 pl-2>\r\n                                        <v-text-field v-model=\"selectedObject.name\" label=\"Name\" :rules=\"[rules.required]\"></v-text-field>\r\n                                    </v-flex>\r\n                                </template>\r\n                            </v-form>\r\n\r\n                            <!-- Generic to all -->\r\n                            <v-flex xs12>\r\n                                <v-btn @click=\"selectedObject = null\">\r\n                                    CANCEL\r\n                                </v-btn>\r\n                                <v-btn class=\"primary\" @click=\"updateObject()\" :disabled=\"!validated\">\r\n                                    SAVE\r\n                                </v-btn>\r\n                                <v-btn class=\"float-right\" @click=\"deleteObject()\">\r\n                                    DELETE\r\n                                </v-btn>\r\n                            </v-flex>\r\n                        </template>\r\n                    </v-flex>\r\n                </v-layout>\r\n            </v-card-text>\r\n        </v-card>\r\n    </v-dialog>\r\n </template>\r\n\r\n<script>\r\n    import * as Helper from '../../../helpers'\r\n    import { mapState } from 'vuex'\r\n\r\n    const AUTHOR_LABEL = \"Author\";\r\n    const BOOKCASE_LABEL = \"Bookcase\";\r\n    const SERIES_LABEL = \"Series\";\r\n    const SHELF_LABEL = \"Shelf\";\r\n\r\n    const AUTHOR_VALUE = 0;\r\n    const BOOKCASE_VALUE = 1;\r\n    const SERIES_VALUE = 2;\r\n    const SHELF_VALUE = 3;\r\n\r\n    function getNewObject(type) {\r\n        if (type === null || typeof type !== 'number') {\r\n            return null;\r\n        }\r\n\r\n        switch (type) {\r\n            case AUTHOR_VALUE:\r\n                return Helper.getNewAuthor();\r\n                break;\r\n            case BOOKCASE_VALUE:\r\n                return Helper.getNewBookcase();\r\n                break;\r\n            case SERIES_VALUE:\r\n                return Helper.getNewSeries();\r\n                break;\r\n            case SHELF_VALUE:\r\n                return Helper.getNewShelf();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                dialogOpen: false,\r\n                selectedObject: null,\r\n                activeObject: null,\r\n                activeType: null,\r\n                activeList: [],\r\n                typeList: [\r\n                    AUTHOR_LABEL,\r\n                    BOOKCASE_LABEL,\r\n                    SERIES_LABEL,\r\n                    SHELF_LABEL,\r\n                ],\r\n                typeConsts: {\r\n                    Author: AUTHOR_VALUE,\r\n                    Bookcase: BOOKCASE_VALUE,\r\n                    Series: SERIES_VALUE,\r\n                    Shelf: SHELF_VALUE,\r\n                },\r\n                rules: {\r\n                    required: value => !!value || 'Value is required'\r\n                },\r\n                validated: false,\r\n            }\r\n        },\r\n        props: {\r\n            open: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                authorList: state => state.library.authors,\r\n                bookcaseList: state => state.library.bookcases,\r\n                seriesList: state => state.library.series,\r\n                shelfList: state => state.library.shelves,\r\n            }),\r\n            maxModalWidth() {\r\n                if (window.innerWidth > 1640)\r\n                    return 1500;\r\n                else if (window.innerWidth > 1360)\r\n                    return 1200;\r\n                else if (window.innerWidth > 960)\r\n                    return 800;\r\n                else if (window.innerWidth > 720)\r\n                    return 600;\r\n                else if (window.innerWidth > 600)\r\n                    return 500;\r\n                else\r\n                    return 420;\r\n            },\r\n        },\r\n        watch: {\r\n            open(newValue) {\r\n                this.$_console_log(`[Dependency Editor Open] open = ${newValue}`);\r\n                this.dialogOpen = newValue;\r\n            },\r\n            dialogOpen(newValue) {\r\n                if (newValue === false) {\r\n                    this.$_console_log('[Dependency Editor Dialog Open] Dialog open = false');\r\n                    this.$emit('closeDialog', false);\r\n                }\r\n                else {\r\n                    this.$_console_log('[Dependency Editor Dialog OpenAuthor Dialog] Dialog open = true');\r\n                }\r\n            },\r\n            activeType(newValue, oldValue) {\r\n                this.$_console_log(`[Dependency Editor Active Type] New value is: ${newValue}`);\r\n\r\n                if (newValue === null || typeof newValue !== 'number') {                    \r\n                    this.activeList = [];\r\n                    this.activeObject = -1;\r\n                    return;\r\n                }\r\n\r\n                if (oldValue !== newValue) {\r\n                    this.activeList = [];\r\n                    this.activeObject = -1;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n\r\n                this.getActiveList(newValue);\r\n            },\r\n            activeObject(newValue) {\r\n                this.$_console_log('Selected object watcher', newValue);\r\n                if (newValue === null || typeof newValue !== 'number') {\r\n                    this.selectedObject = null;\r\n                    this.activeObject = -1;\r\n                    return;\r\n                }\r\n\r\n                if (newValue === -1) {\r\n                    this.selectedObject = null;\r\n                    return;\r\n                }\r\n\r\n                this.selectedObject = Object.assign({}, this.activeList[newValue]);\r\n            }\r\n        },\r\n        methods: {\r\n            getActiveList(value) {\r\n                if (typeof value === 'undefined' || value === null) {\r\n                    value = this.activeType;\r\n                }\r\n\r\n                switch (value) {\r\n                    case 0:\r\n                        this.activeList = this.authorList.slice(0);\r\n                        break;\r\n                    case 1:\r\n                        this.activeList = this.bookcaseList.slice(0);\r\n                        break;\r\n                    case 2:\r\n                        this.activeList = this.seriesList.slice(0);\r\n                        break;\r\n                    case 3:\r\n                        this.activeList = this.shelfList.slice(0);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            },\r\n            addObject() {\r\n                if (this.activeType === null || typeof this.activeType !== 'number') {\r\n                    this.$_console_log(`[Dependency Editor] Add Object: Active type is null or not a number: (${this.activeType})`);\r\n                    return;\r\n                }\r\n\r\n                const obj = getNewObject(this.activeType);\r\n                if (obj === null) {\r\n                    this.$_console_log(`[Dependency Editor] Add Object: New object is null. Not making a new object`);\r\n                    return;\r\n                }\r\n\r\n                this.activeList.push(obj);\r\n                this.activeObject = this.activeList.length - 1;\r\n            },\r\n            updateObject() {\r\n                if (this.activeType === null || typeof this.activeType !== 'number') {\r\n                    this.$_console_log(`[Dependency Editor] Update Object: Active type is null or not a number: (${this.activeType})`);\r\n                    return;\r\n                }\r\n\r\n                if (this.selectedObject.id === 0) {\r\n                    if (this.$refs.objectForm.validate()) {\r\n                        this.$store.dispatch(`add${this.typeList[this.activeType]}`, this.selectedObject).then(resp => {\r\n                            this.$_console_log(`[Dependency Editor] Update Object: Successfully added new object of type (${this.typeList[this.activeType]}). Removing temp object.`);\r\n                            this.getActiveList();\r\n                            this.selectedObject = this.activeList.find(x => x.id === resp.id);\r\n                        });\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.$refs.objectForm.validate()) {\r\n                        this.$store.dispatch(`edit${this.typeList[this.activeType]}`, this.selectedObject);\r\n                        this.getActiveList();\r\n                    }\r\n                }\r\n            },\r\n            deleteObject() {\r\n                if (this.activeType === null || typeof this.activeType !== 'number') {\r\n                    this.$_console_log(`[Dependency Editor] Delete Object: Active type is null or not a number: (${this.activeType})`);\r\n                    return;\r\n                }\r\n\r\n                if (this.selectedObject.id <= 0) {\r\n                    this.activeObject = -1;\r\n                    this.getActiveList();\r\n                }\r\n                else {\r\n                    this.$store.dispatch(`delete${this.typeList[this.activeType]}`, this.selectedObject.id).then(resp => {\r\n                        // If we successfully delete the object, let's unselect that entry as it won't be the same entry anymore\r\n                        this.activeObject = -1;\r\n                        this.getActiveList();\r\n                    });\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dependency-editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dependency-editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dependency-editor.vue?vue&type=template&id=2a1f31ac&\"\nimport script from \"./dependency-editor.vue?vue&type=script&lang=js&\"\nexport * from \"./dependency-editor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCheckbox,VDialog,VFlex,VForm,VLayout,VListItem,VListItemContent,VListItemGroup,VSelect,VTab,VTabs,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":_vm.maxModalWidth},model:{value:(_vm.dialogOpen),callback:function ($$v) {_vm.dialogOpen=$$v},expression:\"dialogOpen\"}},[_c('v-card',[_c('v-card-title',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.dialogOpen = false}}},[_c('fa-icon',{attrs:{\"icon\":\"times\"}})],1),_c('span',{staticClass:\"headline center\"},[_vm._v(_vm._s(_vm.addEditDialogTitle))])],1),_c('v-card-text',[_c('v-container',[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Title\"},model:{value:(_vm.activeBook.title),callback:function ($$v) {_vm.$set(_vm.activeBook, \"title\", $$v)},expression:\"activeBook.title\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Sub Title\"},model:{value:(_vm.activeBook.subTitle),callback:function ($$v) {_vm.$set(_vm.activeBook, \"subTitle\", $$v)},expression:\"activeBook.subTitle\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_vm._v(\"Authors:\")]),_c('v-flex',{attrs:{\"xs10\":\"\",\"pr-1\":\"\"}},[_c('v-combobox',{attrs:{\"items\":_vm.filteredAuthorList,\"loading\":_vm.authorIsLoading,\"search-input\":_vm.authorSearch,\"color\":\"white\",\"hide-no-data\":\"\",\"hide-selected\":\"\",\"item-text\":\"fullName\",\"item-value\":\"id\",\"label\":\"Author Search\",\"placeholder\":\"Start typing to Search\",\"prepend-icon\":\"fas fa-book-reader\",\"return-object\":\"\"},on:{\"update:searchInput\":function($event){_vm.authorSearch=$event},\"update:search-input\":function($event){_vm.authorSearch=$event},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addAuthorToBook()}},model:{value:(_vm.authorToAdd),callback:function ($$v) {_vm.authorToAdd=$$v},expression:\"authorToAdd\"}})],1),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.addAuthorToBook()}}},[_vm._v(\"Add\")])],1),(typeof _vm.activeBook.authors !== 'undefined' && _vm.activeBook.authors !== null && _vm.activeBook.authors.length > 0 && !_vm.deletingAuthor)?_vm._l((_vm.activeBook.authors),function(item,index){return _c('v-flex',{key:'author' + index,attrs:{\"xs12\":\"\",\"px-2\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs11\":\"\",\"sm10\":\"\",\"pr-1\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Full Name\",\"disabled\":item.fromAutocomplete},model:{value:(item.fullName),callback:function ($$v) {_vm.$set(item, \"fullName\", $$v)},expression:\"item.fullName\"}})],1),_c('v-flex',{staticClass:\"hidden-xs-only\",attrs:{\"sm1\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Deceased\",\"disabled\":item.fromAutocomplete},model:{value:(item.deceased),callback:function ($$v) {_vm.$set(item, \"deceased\", $$v)},expression:\"item.deceased\"}})],1),_c('v-flex',{staticClass:\"text-right\",attrs:{\"xs1\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.deleteAuthor(index)}}},[_c('fa-icon',{attrs:{\"size\":\"md\",\"icon\":\"window-close\"}})],1)],1)],1)],1)}):_vm._e(),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Publication Date\"},model:{value:(_vm.activeBook.publicationDate),callback:function ($$v) {_vm.$set(_vm.activeBook, \"publicationDate\", $$v)},expression:\"activeBook.publicationDate\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Edition\"},model:{value:(_vm.activeBook.edition),callback:function ($$v) {_vm.$set(_vm.activeBook, \"edition\", $$v)},expression:\"activeBook.edition\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md3\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Hardcover\"},model:{value:(_vm.activeBook.hardcover),callback:function ($$v) {_vm.$set(_vm.activeBook, \"hardcover\", $$v)},expression:\"activeBook.hardcover\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md3\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Read\"},model:{value:(_vm.activeBook.isRead),callback:function ($$v) {_vm.$set(_vm.activeBook, \"isRead\", $$v)},expression:\"activeBook.isRead\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md3\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Boxset\"},model:{value:(_vm.activeBook.boxset),callback:function ($$v) {_vm.$set(_vm.activeBook, \"boxset\", $$v)},expression:\"activeBook.boxset\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md3\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Loaned Out\"},model:{value:(_vm.activeBook.loaned),callback:function ($$v) {_vm.$set(_vm.activeBook, \"loaned\", $$v)},expression:\"activeBook.loaned\"}})],1),_c('v-flex',{attrs:{\"xs10\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.genreList,\"label\":\"Genres\",\"item-value\":\"id\",\"item-text\":\"name\"},model:{value:(_vm.genreToAdd),callback:function ($$v) {_vm.genreToAdd=$$v},expression:\"genreToAdd\"}})],1),_c('v-flex',{attrs:{\"xs2\":\"\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.addGenreToBook()}}},[_vm._v(\"Add\")])],1),(typeof _vm.activeBook.genres !== 'undefined' && _vm.activeBook.genres !== null && _vm.activeBook.genres.length > 0 && !_vm.deletingGenre)?[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_vm._v(\"Genre List\")]),_vm._l((_vm.activeBook.genres),function(item,index){return _c('v-flex',{key:'genre' + index,attrs:{\"xs12\":\"\",\"px-2\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs10\":\"\",\"pr-1\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Name\",\"disabled\":\"\"},model:{value:(item.name),callback:function ($$v) {_vm.$set(item, \"name\", $$v)},expression:\"item.name\"}})],1),_c('v-flex',{staticClass:\"hidden-xs-only\",attrs:{\"sm1\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Fiction\",\"disabled\":\"\"},model:{value:(item.fiction),callback:function ($$v) {_vm.$set(item, \"fiction\", $$v)},expression:\"item.fiction\"}})],1),_c('v-flex',{staticClass:\"text-right\",attrs:{\"xs1\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.deleteGenre(index)}}},[_c('fa-icon',{attrs:{\"size\":\"md\",\"icon\":\"window-close\"}})],1)],1)],1)],1)})]:_vm._e(),(_vm.activeBook.series != null)?[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_vm._v(\" Series: \")]),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm7\":\"\",\"pr-1\":\"\"}},[_c('v-combobox',{attrs:{\"items\":_vm.seriesList,\"loading\":_vm.seriesIsLoading,\"search-input\":_vm.seriesSearch,\"color\":\"white\",\"hide-no-data\":\"\",\"hide-selected\":\"\",\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Series Search\",\"placeholder\":\"Start typing to Search\",\"prepend-icon\":\"fas fa-book\",\"return-object\":\"\"},on:{\"update:searchInput\":function($event){_vm.seriesSearch=$event},\"update:search-input\":function($event){_vm.seriesSearch=$event}},model:{value:(_vm.activeBook.series),callback:function ($$v) {_vm.$set(_vm.activeBook, \"series\", $$v)},expression:\"activeBook.series\"}})],1),_c('v-flex',{attrs:{\"xs7\":\"\",\"sm3\":\"\",\"px-1\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Total Number in Series\"},model:{value:(_vm.activeBook.series.number),callback:function ($$v) {_vm.$set(_vm.activeBook.series, \"number\", $$v)},expression:\"activeBook.series.number\"}})],1),_c('v-flex',{attrs:{\"xs4\":\"\",\"sm1\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Active\"},model:{value:(_vm.activeBook.series.active),callback:function ($$v) {_vm.$set(_vm.activeBook.series, \"active\", $$v)},expression:\"activeBook.series.active\"}})],1),_c('v-flex',{staticClass:\"text-right\",attrs:{\"xs1\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.deleteSeries()}}},[_c('fa-icon',{attrs:{\"size\":\"md\",\"icon\":\"window-close\"}})],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Book's Series Number\"},model:{value:(_vm.activeBook.seriesNumber),callback:function ($$v) {_vm.$set(_vm.activeBook, \"seriesNumber\", $$v)},expression:\"activeBook.seriesNumber\"}})],1)]:_vm._e(),(_vm.activeBook.series === null)?_c('v-flex',{attrs:{\"xs12\":\"\",\"mt-3\":\"\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.addSeries()}}},[_c('fa-icon',{attrs:{\"icon\":\"plus\"}}),_vm._v(\" Add Series \")],1)],1):_vm._e(),(_vm.activeBook.bookcase != null)?[_c('v-flex',{attrs:{\"xs12\":\"\",\"mt-3\":\"\"}},[_vm._v(\" Bookcase: \")]),_c('v-flex',{attrs:{\"xs11\":\"\",\"pr-1\":\"\"}},[_c('v-combobox',{attrs:{\"items\":_vm.bookcaseList,\"loading\":_vm.bookcaseIsLoading,\"search-input\":_vm.bookcaseSearch,\"color\":\"white\",\"hide-no-data\":\"\",\"hide-selected\":\"\",\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Bookcase Search\",\"placeholder\":\"Start typing to Search\",\"prepend-icon\":\"mdi-bookcase\",\"return-object\":\"\"},on:{\"update:searchInput\":function($event){_vm.bookcaseSearch=$event},\"update:search-input\":function($event){_vm.bookcaseSearch=$event}},model:{value:(_vm.activeBook.bookcase),callback:function ($$v) {_vm.$set(_vm.activeBook, \"bookcase\", $$v)},expression:\"activeBook.bookcase\"}})],1),_c('v-flex',{staticClass:\"text-right\",attrs:{\"xs1\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.deleteBookcase()}}},[_c('fa-icon',{attrs:{\"size\":\"md\",\"icon\":\"window-close\"}})],1)],1),(_vm.activeBook.shelf != null)?[_c('v-flex',{attrs:{\"xs12\":\"\",\"mt-3\":\"\"}},[_vm._v(\" Shelf: \")]),_c('v-flex',{attrs:{\"xs11\":\"\",\"pr-1\":\"\"}},[_c('v-combobox',{attrs:{\"items\":_vm.filteredShelfList,\"loading\":_vm.shelfIsLoading,\"search-input\":_vm.shelfSearch,\"color\":\"white\",\"hide-no-data\":\"\",\"hide-selected\":\"\",\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Shelf Search\",\"placeholder\":\"Start typing to Search\",\"prepend-icon\":\"mdi-bookcase\",\"return-object\":\"\"},on:{\"update:searchInput\":function($event){_vm.shelfSearch=$event},\"update:search-input\":function($event){_vm.shelfSearch=$event}},model:{value:(_vm.activeBook.shelf),callback:function ($$v) {_vm.$set(_vm.activeBook, \"shelf\", $$v)},expression:\"activeBook.shelf\"}})],1),_c('v-flex',{staticClass:\"text-right\",attrs:{\"xs1\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.deleteShelf()}}},[_c('fa-icon',{attrs:{\"size\":\"md\",\"icon\":\"window-close\"}})],1)],1)]:_vm._e(),(_vm.activeBook.shelf === null && typeof _vm.activeBook.bookcase.name !== 'undefined' && _vm.activeBook.bookcase.name !== '')?_c('v-flex',{attrs:{\"xs12\":\"\",\"my-3\":\"\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.addShelf()}}},[_c('fa-icon',{attrs:{\"icon\":\"plus\"}}),_vm._v(\" Add Shelf \")],1)],1):_vm._e()]:_vm._e(),(_vm.activeBook.bookcase === null)?_c('v-flex',{attrs:{\"xs12\":\"\",\"my-3\":\"\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.addBookcase()}}},[_c('fa-icon',{attrs:{\"icon\":\"plus\"}}),_vm._v(\" Add Bookcase \")],1)],1):_vm._e(),_c('v-flex',{staticClass:\"text-right\",attrs:{\"xs12\":\"\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.addOrUpdateBook(null)}}},[_vm._v(\"Submit\")])],1)],2)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-dialog v-model=\"dialogOpen\" :max-width=\"maxModalWidth\">\r\n        <v-card>\r\n            <v-card-title>\r\n                <v-btn icon @click=\"dialogOpen = false\"><fa-icon icon=\"times\"></fa-icon></v-btn>\r\n                <span class=\"headline center\">{{ addEditDialogTitle }}</span>\r\n            </v-card-title>\r\n\r\n            <v-card-text>\r\n                <v-container>\r\n                    <v-layout wrap>\r\n                        <!-- Titles -->\r\n                        <v-flex xs12>\r\n                            <v-text-field v-model=\"activeBook.title\" label=\"Title\"></v-text-field>\r\n                        </v-flex>\r\n                        <v-flex xs12>\r\n                            <v-text-field v-model=\"activeBook.subTitle\" label=\"Sub Title\"></v-text-field>\r\n                        </v-flex>\r\n\r\n                        <!-- Authors -->\r\n                        <v-flex xs12>Authors:</v-flex>\r\n                        <v-flex xs10 pr-1>\r\n                            <v-combobox v-model=\"authorToAdd\"\r\n                                        :items=\"filteredAuthorList\"\r\n                                        :loading=\"authorIsLoading\"\r\n                                        :search-input.sync=\"authorSearch\"\r\n                                        color=\"white\"\r\n                                        hide-no-data\r\n                                        hide-selected\r\n                                        item-text=\"fullName\"\r\n                                        item-value=\"id\"\r\n                                        label=\"Author Search\"\r\n                                        placeholder=\"Start typing to Search\"\r\n                                        prepend-icon=\"fas fa-book-reader\"\r\n                                        return-object\r\n                                        @keyup.enter=\"addAuthorToBook()\">\r\n\r\n                            </v-combobox>\r\n                        </v-flex>\r\n                        <v-flex xs2>\r\n                            <v-btn @click=\"addAuthorToBook()\">Add</v-btn>\r\n                        </v-flex>\r\n                        <template v-if=\"typeof activeBook.authors !== 'undefined' && activeBook.authors !== null && activeBook.authors.length > 0 && !deletingAuthor\">\r\n                            <v-flex xs12 px-2 v-for=\"(item, index) in activeBook.authors\" :key=\"'author' + index\">\r\n                                <v-layout row>\r\n                                    <v-flex xs11 sm10 pr-1>\r\n                                        <v-text-field v-model=\"item.fullName\" label=\"Full Name\" :disabled=\"item.fromAutocomplete\"></v-text-field>\r\n                                    </v-flex>\r\n                                    <v-flex sm1 class=\"hidden-xs-only\">\r\n                                        <v-checkbox v-model=\"item.deceased\" label=\"Deceased\" :disabled=\"item.fromAutocomplete\"></v-checkbox>\r\n                                    </v-flex>\r\n                                    <v-flex xs1 class=\"text-right\">\r\n                                        <v-btn icon @click=\"deleteAuthor(index)\">\r\n                                            <fa-icon size=\"md\" icon=\"window-close\" />\r\n                                        </v-btn>\r\n                                    </v-flex>\r\n                                </v-layout>\r\n                            </v-flex>\r\n                        </template>\r\n\r\n                        <!-- Other fields -->\r\n                        <v-flex xs12>\r\n                            <v-text-field v-model=\"activeBook.publicationDate\" label=\"Publication Date\"></v-text-field>\r\n                        </v-flex>\r\n                        <v-flex xs12>\r\n                            <v-text-field v-model=\"activeBook.edition\" label=\"Edition\"></v-text-field>\r\n                        </v-flex>\r\n\r\n                        <!-- Checkboxes -->\r\n                        <v-flex xs12 sm6 md3>\r\n                            <v-checkbox v-model=\"activeBook.hardcover\" label=\"Hardcover\"></v-checkbox>\r\n                        </v-flex>\r\n                        <v-flex xs12 sm6 md3>\r\n                            <v-checkbox v-model=\"activeBook.isRead\" label=\"Read\"></v-checkbox>\r\n                        </v-flex>\r\n                        <v-flex xs12 sm6 md3>\r\n                            <v-checkbox v-model=\"activeBook.boxset\" label=\"Boxset\"></v-checkbox>\r\n                        </v-flex>\r\n                        <v-flex xs12 sm6 md3>\r\n                            <v-checkbox v-model=\"activeBook.loaned\" label=\"Loaned Out\"></v-checkbox>\r\n                        </v-flex>\r\n\r\n                        <!-- TODO: Split or sort the genre list better -->\r\n                        <v-flex xs10>\r\n                            <v-select v-model=\"genreToAdd\" :items=\"genreList\" label=\"Genres\" item-value=\"id\" item-text=\"name\"></v-select>\r\n                        </v-flex>\r\n                        <v-flex xs2>\r\n                            <v-btn @click=\"addGenreToBook()\">Add</v-btn>\r\n                        </v-flex>\r\n                        <template v-if=\"typeof activeBook.genres !== 'undefined' && activeBook.genres !== null && activeBook.genres.length > 0 && !deletingGenre\">\r\n                            <v-flex xs12>Genre List</v-flex>\r\n                            <v-flex xs12 px-2 v-for=\"(item, index) in activeBook.genres\" :key=\"'genre' + index\">\r\n                                <v-layout row>\r\n                                    <v-flex xs10 pr-1>\r\n                                        <v-text-field v-model=\"item.name\" label=\"Name\" disabled></v-text-field>\r\n                                    </v-flex>\r\n                                    <v-flex sm1 class=\"hidden-xs-only\">\r\n                                        <v-checkbox v-model=\"item.fiction\" label=\"Fiction\" disabled></v-checkbox>\r\n                                    </v-flex>\r\n                                    <v-flex xs1 class=\"text-right\">\r\n                                        <v-btn icon @click=\"deleteGenre(index)\">\r\n                                            <fa-icon size=\"md\" icon=\"window-close\" />\r\n                                        </v-btn>\r\n                                    </v-flex>\r\n                                </v-layout>\r\n                            </v-flex>\r\n                        </template>\r\n\r\n                        <!-- Series -->\r\n                        <template v-if=\"activeBook.series != null\">\r\n                            <v-flex xs12>\r\n                                Series:\r\n                            </v-flex>\r\n                            <v-flex xs12 sm7 pr-1>\r\n                                <v-combobox v-model=\"activeBook.series\"\r\n                                            :items=\"seriesList\"\r\n                                            :loading=\"seriesIsLoading\"\r\n                                            :search-input.sync=\"seriesSearch\"\r\n                                            color=\"white\"\r\n                                            hide-no-data\r\n                                            hide-selected\r\n                                            item-text=\"name\"\r\n                                            item-value=\"id\"\r\n                                            label=\"Series Search\"\r\n                                            placeholder=\"Start typing to Search\"\r\n                                            prepend-icon=\"fas fa-book\"\r\n                                            return-object></v-combobox>\r\n                            </v-flex>\r\n                            <v-flex xs7 sm3 px-1>\r\n                                <v-text-field v-model=\"activeBook.series.number\" label=\"Total Number in Series\"></v-text-field>\r\n                            </v-flex>\r\n                            <v-flex xs4 sm1>\r\n                                <v-checkbox v-model=\"activeBook.series.active\" label=\"Active\"></v-checkbox>\r\n                            </v-flex>\r\n                            <v-flex xs1 class=\"text-right\">\r\n                                <v-btn icon @click=\"deleteSeries()\">\r\n                                    <fa-icon size=\"md\" icon=\"window-close\" />\r\n                                </v-btn>\r\n                            </v-flex>\r\n                            <v-flex xs12>\r\n                                <v-text-field v-model=\"activeBook.seriesNumber\" label=\"Book's Series Number\"></v-text-field>\r\n                            </v-flex>\r\n                        </template>\r\n                        <v-flex xs12 mt-3 v-if=\"activeBook.series === null\">\r\n                            <v-btn @click=\"addSeries()\">\r\n                                <fa-icon icon=\"plus\"></fa-icon>&nbsp;Add Series\r\n                            </v-btn>\r\n                        </v-flex>\r\n\r\n                        <!-- Bookcase -->\r\n                        <template v-if=\"activeBook.bookcase != null\">\r\n                            <v-flex xs12 mt-3>\r\n                                Bookcase:\r\n                            </v-flex>\r\n                            <v-flex xs11 pr-1>\r\n                                <v-combobox v-model=\"activeBook.bookcase\"\r\n                                            :items=\"bookcaseList\"\r\n                                            :loading=\"bookcaseIsLoading\"\r\n                                            :search-input.sync=\"bookcaseSearch\"\r\n                                            color=\"white\"\r\n                                            hide-no-data\r\n                                            hide-selected\r\n                                            item-text=\"name\"\r\n                                            item-value=\"id\"\r\n                                            label=\"Bookcase Search\"\r\n                                            placeholder=\"Start typing to Search\"\r\n                                            prepend-icon=\"mdi-bookcase\"\r\n                                            return-object></v-combobox>\r\n                            </v-flex>\r\n                            <v-flex xs1 class=\"text-right\">\r\n                                <v-btn icon @click=\"deleteBookcase()\">\r\n                                    <fa-icon size=\"md\" icon=\"window-close\" />\r\n                                </v-btn>\r\n                            </v-flex>\r\n\r\n                            <!-- Shelf -->\r\n                            <template v-if=\"activeBook.shelf != null\">\r\n                                <v-flex xs12 mt-3>\r\n                                    Shelf:\r\n                                </v-flex>\r\n                                <v-flex xs11 pr-1>\r\n                                    <v-combobox v-model=\"activeBook.shelf\"\r\n                                                :items=\"filteredShelfList\"\r\n                                                :loading=\"shelfIsLoading\"\r\n                                                :search-input.sync=\"shelfSearch\"\r\n                                                color=\"white\"\r\n                                                hide-no-data\r\n                                                hide-selected\r\n                                                item-text=\"name\"\r\n                                                item-value=\"id\"\r\n                                                label=\"Shelf Search\"\r\n                                                placeholder=\"Start typing to Search\"\r\n                                                prepend-icon=\"mdi-bookcase\"\r\n                                                return-object></v-combobox>\r\n                                </v-flex>\r\n                                <v-flex xs1 class=\"text-right\">\r\n                                    <v-btn icon @click=\"deleteShelf()\">\r\n                                        <fa-icon size=\"md\" icon=\"window-close\" />\r\n                                    </v-btn>\r\n                                </v-flex>\r\n                            </template>\r\n                            <v-flex xs12 my-3 v-if=\"activeBook.shelf === null && typeof activeBook.bookcase.name !== 'undefined' && activeBook.bookcase.name !== ''\">\r\n                                <v-btn @click=\"addShelf()\">\r\n                                    <fa-icon icon=\"plus\"></fa-icon>&nbsp;Add Shelf\r\n                                </v-btn>\r\n                            </v-flex>\r\n                        </template>\r\n                        <v-flex xs12 my-3 v-if=\"activeBook.bookcase === null\">\r\n                            <v-btn @click=\"addBookcase()\">\r\n                                <fa-icon icon=\"plus\"></fa-icon>&nbsp;Add Bookcase\r\n                            </v-btn>\r\n                        </v-flex>\r\n\r\n                        <!-- Submit -->\r\n                        <v-flex xs12 class=\"text-right\">\r\n                            <v-btn @click=\"addOrUpdateBook(null)\">Submit</v-btn>\r\n                        </v-flex>\r\n                    </v-layout>\r\n                </v-container>\r\n            </v-card-text>\r\n        </v-card>\r\n    </v-dialog>\r\n</template>\r\n\r\n<script>\r\n    import * as Helper from '../../../helpers'\r\n    import { mapState } from 'vuex'\r\n\r\n    function getRequest(book) {\r\n        const bookRequest = {\r\n            book: {\r\n                id: book.id,\r\n                title: book.title,\r\n                subTitle: book.subTitle,\r\n                publicationDate: book.publicationDate,\r\n                edition: book.edition,\r\n                hardcover: book.hardcover,\r\n                isRead: book.isRead,\r\n                loaned: book.loaned,\r\n                boxset: book.boxset,\r\n                notes: book.notes,\r\n                seriesNumber: book.seriesNumber,\r\n            },\r\n            authors: book.authors,\r\n            bookcase: book.bookcase,\r\n            genres: book.genres,\r\n            series: book.series,\r\n            shelf: book.shelf\r\n        };\r\n\r\n        return bookRequest;\r\n    }\r\n\r\n    function getNewBook() {\r\n        return {\r\n            // Properties\r\n            id: 0,\r\n            boxset: false,\r\n            edition: null,\r\n            isRead: false,\r\n            hardcover: false,\r\n            loaned: false,\r\n            notes: null,\r\n            publicationDate: null,\r\n            seriesNumber: 0,\r\n            subTitle: null,\r\n            title: '',\r\n\r\n            // FKs\r\n            bookcaseId: null,\r\n            shelfId: null,\r\n            seriesId: null,\r\n            userId: null,\r\n\r\n            // Objects\r\n            user: null,            \r\n            bookcase: null,\r\n            series: null,\r\n            shelf: null,\r\n            authors: [],\r\n            genres: [],\r\n        }\r\n    }\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                dialogOpen: false,\r\n                activeBook: {},\r\n                seriesIsLoading: false,\r\n                seriesSearch: '',\r\n                bookcaseIsLoading: false,\r\n                bookcaseSearch: '',\r\n                shelfIsLoading: false,\r\n                shelfSearch: '',\r\n                authorIsLoading: false,\r\n                authorSearch: '',\r\n                authorToAdd: null,\r\n                genreToAdd: -1,\r\n                deletingAuthor: false,\r\n                deletingGenre: false,\r\n                filteredAuthorList: [],\r\n                filteredGenreList: [],\r\n                filteredShelfList: [],\r\n            }\r\n        },\r\n        props: {\r\n            open: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n            book: {\r\n                type: Object,\r\n                required: false,\r\n            },\r\n            loading: {\r\n                type: Boolean,\r\n                default: false,\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                authorList: state => state.library.authors,\r\n                bookList: state => state.library.books,\r\n                bookcaseList: state => state.library.bookcases,\r\n                genreList: state => state.library.genres,\r\n                seriesList: state => state.library.series,\r\n                shelfList: state => state.library.shelves,\r\n            }),\r\n            maxModalWidth() {\r\n                if (window.innerWidth > 1640)\r\n                    return 1500;\r\n                else if (window.innerWidth > 1360)\r\n                    return 1200;\r\n                else if (window.innerWidth > 960)\r\n                    return 800;\r\n                else if (window.innerWidth > 720)\r\n                    return 600;\r\n                else if (window.innerWidth > 600)\r\n                    return 500;\r\n                else\r\n                    return 420;\r\n            },\r\n            addEditDialogTitle() {\r\n                if (this.activeBook.id > 0)\r\n                    return 'Edit Book'\r\n                else\r\n                    return 'Add New Book'\r\n            }\r\n        },\r\n        watch: {\r\n            open: function (newValue) {\r\n                this.$_console_log(`[Library Dialog] open = ${newValue}`);\r\n                this.dialogOpen = newValue;\r\n            },\r\n            dialogOpen: function (newValue) {\r\n                if (newValue === false) {\r\n                    this.$_console_log('[Library Dialog] Dialog open = false');\r\n                    this.$emit('closeDialog', false);\r\n                }\r\n                else {\r\n                    this.$_console_log('[Library Dialog] Dialog open = true');\r\n                }\r\n            },\r\n            book: function (newValue) {\r\n                if (this.loading) {\r\n                    this.$_console_log('Active book watcher: Book is loading.');\r\n                }\r\n\r\n                if (typeof newValue === 'undefined' || newValue === null) {\r\n                    this.activeBook = getNewBook();\r\n                }\r\n                else {\r\n                    this.activeBook = newValue;\r\n                }\r\n\r\n                this.authorToAdd = Helper.getNewAuthor();\r\n                this.updateFilteredAuthorList();\r\n            },\r\n            'activeBook.bookcaseId': function (newValue, oldValue) {\r\n                if (this.loading) {\r\n                    this.$_console_log('Active book bookcase id watcher: Book is loading. Exiting.');\r\n                    return;\r\n                }\r\n\r\n                if (typeof newValue === 'undefined') {\r\n                    this.$_console_log('Bookcase Id watcher: Value is undefined. Exiting');\r\n                    return;\r\n                }                    \r\n\r\n                this.activeBook.shelf = null;\r\n                this.activeBook.shelfId = null;\r\n\r\n                this.updateFilteredShelfList();\r\n            },\r\n            'activeBook.bookcase': function (newValue) {\r\n                if (this.loading) {\r\n                    this.$_console_log('Active book bookcase watcher: Book is loading. Exiting.');\r\n                    return;\r\n                }\r\n\r\n                if (typeof newValue === 'string') {\r\n                    this.activeBook.bookcase = Helper.getNewBookcase();\r\n                    this.activeBook.bookcase.name = newValue;\r\n                }\r\n                else if (typeof newValue === 'object') {\r\n                    if (newValue !== null && newValue.id > 0) {\r\n                        this.activeBook.bookcaseId = newValue.id;\r\n                    }\r\n                }\r\n            },\r\n            'activeBook.series': function (newValue) {\r\n                if (this.loading) {\r\n                    this.$_console_log('Active book series watcher: Book is loading. Exiting.');\r\n                    return;\r\n\r\n                }\r\n                if (typeof newValue === 'string') {\r\n                    this.activeBook.series = Helper.getNewSeries();\r\n                    this.activeBook.series.name = newValue;\r\n                }\r\n                else if (typeof newValue === 'object') {\r\n                    if (newValue !== null && newValue.id > 0) {\r\n                        this.activeBook.seriesId = newValue.id;\r\n                    }\r\n                }\r\n            },\r\n            'activeBook.shelf': function (newValue) {\r\n                if (this.loading) {\r\n                    this.$_console_log('Active book shelf watcher: Book is loading. Exiting.');\r\n                    return;\r\n\r\n                }\r\n                if (typeof newValue === 'string') {\r\n                    this.activeBook.shelf = Helper.getNewShelf();\r\n                    this.activeBook.shelf.name = newValue;\r\n                }\r\n                else if (typeof newValue === 'object') {\r\n                    if (newValue !== null && newValue.id > 0) {\r\n                        this.activeBook.shelfId = newValue.id;\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        methods: {\r\n            updateFilteredAuthorList() {\r\n                if (typeof this.activeBook === 'undefined' || this.activeBook === null || typeof this.activeBook.authors === 'undefined' || this.activeBook.authors === null) {\r\n                    this.$_console_log('Something is invalid.. breaking out of filtered author list');\r\n                    return this.authorList;\r\n                }\r\n\r\n                let list = this.authorList.slice(0);\r\n                for (let i = 0; i < this.activeBook.authors.length; i++) {\r\n                    for (let j = 0; j < this.authorList.length; j++) {\r\n                        if (this.authorList[j].id === this.activeBook.authors[i].id) {\r\n                            let index = list.findIndex(x => x.id === this.activeBook.authors[i].id);\r\n                            if (index !== -1) {\r\n                                list.splice(index, 1);\r\n                                break;\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.filteredAuthorList = list.slice(0);\r\n            },\r\n            updateFilteredGenreList() {\r\n                if (typeof this.activeBook === 'undefined' || typeof this.activeBook.genres === 'undefined' || this.activeBook.genres === null) {\r\n                    this.$_console_log('Something is invalid.. breaking out of filtered genre list');\r\n                    return this.genreList;\r\n                }\r\n\r\n                let list = this.genreList.slice(0);\r\n                for (let i = 0; i < this.activeBook.genres.length; i++) {\r\n                    for (let j = 0; j < this.genreList.length; j++) {\r\n                        if (this.genreList[j].id === this.activeBook.genres[i].id) {\r\n                            let index = list.findIndex(x => x.id === this.activeBook.genres[i].id);\r\n                            if (index !== -1) {\r\n                                list.splice(index, 1);\r\n                                break;\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.filteredGenreList = list.slice(0);\r\n            },\r\n            updateFilteredShelfList() {\r\n                if (typeof this.activeBook === 'undefined' || typeof this.activeBook.bookcaseId !== 'number' || this.activeBook === null) {\r\n                    this.$_console_log('Something is invalid.. breaking out of filtered shelf list');\r\n                    return [];\r\n                }\r\n\r\n                const bookcaseId = this.activeBook.bookcaseId;\r\n                this.filteredShelfList = this.shelfList.filter(element => element.bookcaseId === bookcaseId);\r\n            },\r\n            resetDialogFields() {\r\n                this.authorToAdd = Helper.getNewAuthor();\r\n                this.authorSearch = '';\r\n                this.seriesIsLoading = false;\r\n                this.seriesSearch = '';\r\n                this.shelfIsLoading = false;\r\n                this.shelfSearch = '';\r\n                this.bookcaseIsLoading = false;\r\n                this.bookcaseSearch = '';\r\n                this.authorIsLoading = false;\r\n            },\r\n            addAuthorToBook() {\r\n                if (!Array.isArray(this.activeBook.authors))\r\n                    this.activeBook.authors = [];\r\n\r\n                if (typeof this.authorToAdd !== 'object')\r\n                    this.authorToAdd = Helper.getNewAuthor();\r\n\r\n                // Manual Add\r\n                if (this.authorToAdd.id <= 0 && typeof this.authorSearch !== 'undefined' && this.authorSearch !== null && this.authorSearch.trim() !== '') {\r\n                    let names = this.authorSearch.trim().split(' ');\r\n                    if (names === null) return; // TODO: Error here somehow\r\n\r\n                    if (names.length === 1) {\r\n                        this.authorToAdd.lastName = names[0];\r\n                        this.authorToAdd.fullName = names[0];\r\n                    }\r\n                    else {\r\n                        this.authorToAdd.firstName = '';\r\n                        this.authorToAdd.fullName = '';\r\n                        for (let i = 0; i < names.length; i++) {\r\n                            this.authorToAdd.fullName += `${names[i]} `;\r\n\r\n                            if (i + 1 === names.length) {\r\n                                this.authorToAdd.lastName = names[i];\r\n                            }\r\n                            else {\r\n                                this.authorToAdd.firstName += `${names[i]} `;\r\n                            }\r\n                        }\r\n\r\n                        this.authorToAdd.firstName = this.authorToAdd.firstName.trim();\r\n                        this.authorToAdd.fullName = this.authorToAdd.fullName.trim();\r\n                    }\r\n\r\n                    this.authorToAdd.fromAutocomplete = false;\r\n                }\r\n                else {\r\n                    this.authorToAdd.fromAutocomplete = true;\r\n                }\r\n\r\n                this.activeBook.authors.push(this.authorToAdd);\r\n                this.authorToAdd = Helper.getNewAuthor();\r\n\r\n                this.updateFilteredAuthorList();\r\n            },\r\n            addGenreToBook() {\r\n                if (!Array.isArray(this.activeBook.genres))\r\n                    this.activeBook.genres = [];\r\n\r\n                if (typeof this.genreToAdd !== 'number')\r\n                    return;\r\n\r\n                const genre = this.genreList.find(x => x.id === this.genreToAdd);\r\n                if (typeof genre === 'undefined') {\r\n                    return;\r\n                }\r\n\r\n                this.activeBook.genres.push(genre);\r\n                this.genreToAdd = -1;\r\n            },\r\n            deleteAuthor(index) {\r\n                this.deletingAuthor = true;\r\n                this.$_console_log(`[Library] Delete author at index ${index}`);\r\n\r\n                // Trick to update the DOM\r\n                this.$nextTick(() => {\r\n                    this.activeBook.authors.splice(index, 1);\r\n                    this.deletingAuthor = false;\r\n                    this.updateFilteredAuthorList();\r\n                });\r\n            },\r\n            deleteGenre(index) {\r\n                this.deletingGenre = true;\r\n                this.$_console_log(`[Library] Delete genre at index ${index}`);\r\n\r\n                // Trick to update the DOM\r\n                this.$nextTick(() => {\r\n                    this.activeBook.genres.splice(index, 1);\r\n                    this.deletingGenre = false;\r\n                    this.updateFilteredGenreList();\r\n                });\r\n            },\r\n            addSeries() {\r\n                if (typeof this.activeBook.series === 'undefined' || this.activeBook.series === null) {\r\n                    this.activeBook.series = Helper.getNewSeries();\r\n                }\r\n            },\r\n            deleteSeries() {\r\n                this.activeBook.series = null;\r\n                this.activeBook.seriesId = null;\r\n            },\r\n            addBookcase() {\r\n                if (typeof this.activeBook.bookcase === 'undefined' || this.activeBook.bookcase === null) {\r\n                    this.activeBook.bookcase = Helper.getNewBookcase();\r\n                    this.updateFilteredShelfList();\r\n                }\r\n            },\r\n            deleteBookcase() {\r\n                this.activeBook.bookcase = null;\r\n                this.activeBook.bookcaseId = null;\r\n                this.activeBook.shelfId = null;\r\n                this.activeBook.shelf = null;\r\n\r\n                this.updateFilteredShelfList();\r\n            },\r\n            addShelf() {\r\n                if (typeof this.activeBook.shelf === 'undefined' || this.activeBook.shelf === null) {\r\n                    this.activeBook.shelf = Helper.getNewShelf();\r\n                    this.updateFilteredShelfList();\r\n                }\r\n            },\r\n            deleteShelf() {\r\n                this.activeBook.shelf = null;\r\n                this.activeBook.shelfId = null;\r\n\r\n                this.updateFilteredShelfList();\r\n            },\r\n            async addOrUpdateBook() {\r\n                this.$_console_log(\"[Library] Add or update book\", this.activeBook);\r\n\r\n                // Update\r\n                if (this.activeBook.id > 0) {\r\n                    const request = getRequest(this.activeBook);\r\n                    this.$store.dispatch('editBook', request).then(resp => {\r\n                        this.$store.dispatch('pushNotification', { text: 'Successfully updated the book in the list', type: 0, group: { type: 'library-book', value: 'update' } });\r\n                        this.activeBook = getNewBook();\r\n                    }).catch(() => {\r\n                        this.$store.dispatch('pushNotification', { text: 'Failed to update the book in the list', type: 2, group: { type: 'library-book', value: 'update' } });\r\n                    }).then(() => {\r\n                        this.updateFilteredShelfList();\r\n                        this.$emit('closeDialog', true);\r\n                    });\r\n                }\r\n                // Add\r\n                else {\r\n                    const request = getRequest(this.activeBook);\r\n                    this.$store.dispatch('addBook', request).then(resp => {\r\n                        this.$store.dispatch('pushNotification', { text: 'Successfully added a new book to the list', type: 0, group: { type: 'library-book', value: 'add' } });\r\n                        this.activeBook = getNewBook();\r\n                    }).catch(() => {\r\n                        this.$store.dispatch('pushNotification', { text: 'Failed to add a new book to the list', type: 2, group: { type: 'library-book', value: 'add' } });\r\n                    }).then(() => {\r\n                        this.updateFilteredShelfList();\r\n                        this.$emit('closeDialog', true);\r\n                    });\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./book-dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./book-dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./book-dialog.vue?vue&type=template&id=bb7df236&\"\nimport script from \"./book-dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./book-dialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCheckbox,VCombobox,VContainer,VDialog,VFlex,VLayout,VSelect,VTextField})\n","<template>\r\n    <div>\r\n        <depedency-editor-dialog :open=\"dependencyEditorDialogOpen\" @closeDialog=\"closeDependencyEditorDialogWindow\" />\r\n        <book-dialog :open=\"bookDialogOpen\" :book=\"activeBook\" :loading=\"loadingBook\" @closeDialog=\"closeBookDialogWindow\" />\r\n\r\n        <v-container>\r\n            <v-flex xs12>\r\n                Dependency Editor\r\n                <v-btn icon @click=\"dependencyEditorDialogOpen = true\" class=\"green--text\">\r\n                    <fa-icon icon=\"plus\"></fa-icon>\r\n                </v-btn>\r\n            </v-flex>\r\n\r\n            <v-flex xs12>\r\n                Create new book entry:\r\n                <v-btn icon @click=\"openAddOrEditBookDialog(null, null)\" class=\"green--text\">\r\n                    <fa-icon icon=\"plus\"></fa-icon>\r\n                </v-btn>\r\n            </v-flex>\r\n\r\n            <v-flex xs12>\r\n                <v-text-field v-model=\"bookSearch\" label=\"Search Book List\"></v-text-field>\r\n            </v-flex>\r\n\r\n            <v-data-table :headers=\"getHeaders\"\r\n                          :items=\"bookList\"\r\n                          :search=\"bookSearch\"\r\n                          class=\"elevation-1\">\r\n                <template v-slot:body=\"{ items }\">\r\n                    <tbody>\r\n                        <tr v-for=\"item in items\" :key=\"item.id\" @click=\"openAddOrEditBookDialog(item, $event)\">\r\n                            <td>{{ getTitle(item) }}</td>\r\n                            <td v-if=\"item.bookAuthors !== null\">\r\n                                <div v-for=\"(bookAuthor, index) in item.bookAuthors\" :key=\"index\">\r\n                                    <template v-if=\"bookAuthor.author !== null\">\r\n                                        <p>{{ bookAuthor.author.fullName }}</p>\r\n                                    </template>\r\n                                </div>\r\n                            </td>\r\n                            <td v-else></td>\r\n                            <td class=\"hidden-sm-and-down\">{{ item.edition }}</td>\r\n                            <td class=\"hidden-xs-only\">\r\n                                <div v-for=\"(bookGenre, index) in item.bookGenres\" :key=\"index\">\r\n                                    <template v-if=\"bookGenre.genre !== null\">\r\n                                        <p>{{ bookGenre.genre.name }}</p>\r\n                                    </template>\r\n                                </div>\r\n                            </td>\r\n                            <td class=\"hidden-sm-and-down\">{{ getPublicationDate(item.publicationDate) }}</td>\r\n                            <td class=\"hidden-xs-only\" v-if=\"item.hardcover\"><fa-icon icon=\"check\"></fa-icon></td>\r\n                            <td class=\"hidden-xs-only\" v-else><fa-icon icon=\"times\"></fa-icon></td>\r\n                            <td class=\"hidden-xs-only\" v-if=\"item.isRead\"><fa-icon icon=\"check\"></fa-icon></td>\r\n                            <td class=\"hidden-xs-only\" v-else><fa-icon icon=\"times\"></fa-icon></td>\r\n                            <td class=\"hidden-sm-and-down\" v-if=\"item.boxset\"><fa-icon icon=\"check\"></fa-icon></td>\r\n                            <td class=\"hidden-sm-and-down\" v-else><fa-icon icon=\"times\"></fa-icon></td>\r\n                            <td class=\"hidden-sm-and-down\" v-if=\"item.loaned\"><fa-icon icon=\"check\"></fa-icon></td>\r\n                            <td class=\"hidden-sm-and-down\" v-else><fa-icon icon=\"times\"></fa-icon></td>\r\n                            <td class=\"hidden-xs-only\" v-else><fa-icon icon=\"times\"></fa-icon></td>\r\n                            <td>{{ getBookcaseName(item) }}</td>\r\n                            <td class=\"hidden-xs-only\" v-if=\"hasSeriesInfo(item)\">\r\n                                <fa-icon v-if=\"item.series.active\" icon=\"minus\"></fa-icon>\r\n                                <fa-icon v-else icon=\"ban\"></fa-icon>\r\n                                {{ item.series.name }} ({{ item.seriesNumber }} / {{ item.series.number }})\r\n                            </td>\r\n                            <td class=\"hidden-xs-only\" v-else></td>\r\n                            <td>\r\n                                <v-btn icon @click.prevent=\"deleteBook(item)\">\r\n                                    <fa-icon size=\"md\" icon=\"window-close\"></fa-icon>\r\n                                </v-btn>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </template>\r\n                <template v-slot:no-data>\r\n                    NO DATA HERE!\r\n                </template>\r\n                <template v-slot:no-results>\r\n                    NO RESULTS HERE!\r\n                </template>\r\n            </v-data-table>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import dependencyEditor from '../modules/library/dependency-editor'\r\n    import bookDialog from '../modules/library/book-dialog'\r\n\r\n    import { mapState } from 'vuex'\r\n\r\n    import { padTwo } from '../../helpers'\r\n\r\n    export default {\r\n        components: {\r\n            'book-dialog': bookDialog,\r\n            'depedency-editor-dialog': dependencyEditor,\r\n        },\r\n        data() {\r\n            return {\r\n                activeBook: {},\r\n                bookSearch: '',\r\n                dependencyEditorDialogOpen: false,\r\n                bookDialogOpen: false,\r\n                loadingBook: false,\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                authorList: state => state.library.authors,\r\n                bookList: state => state.library.books,\r\n                bookcaseList: state => state.library.bookcases,\r\n                genreList: state => state.library.genres,\r\n                seriesList: state => state.library.series,\r\n                shelfList: state => state.library.shelves,\r\n\r\n            }),\r\n            getHeaders() {\r\n                return [\r\n                    { value: 'title', alignment: 'left', text: 'Title' },\r\n                    { value: 'authors', alignment: 'left', text: 'Authors' },\r\n                    { value: 'edition', alignment: 'left', text: 'Edition', class: 'hidden-sm-and-down' },\r\n                    { value: 'genres', alignment: 'left', text: 'Genres', class: 'hidden-xs-only' },\r\n                    { value: 'publicationDate', alignment: 'left', text: 'Date', class: 'hidden-sm-and-down' },\r\n                    { value: 'hardcover', alignment: 'left', text: 'Hardcover', class: 'hidden-xs-only' },\r\n                    { value: 'isRead', alignment: 'left', text: 'Read', class: 'hidden-xs-only' },\r\n                    { value: 'boxset', alignment: 'left', text: 'Boxset', class: 'hidden-sm-and-down' },\r\n                    { value: 'loaned', alignment: 'left', text: 'Loaned Out', class: 'hidden-sm-and-down' },\r\n                    { value: 'bookcase', alignment: 'left', text: 'Bookcase' },\r\n                    { value: 'series', alignment: 'left', text: 'Series', class: 'hidden-xs-only' },\r\n                    { value: 'delete', alignment: 'left', text: '' },\r\n                ];\r\n            },\r\n        },\r\n        mounted() {\r\n            this.getData();\r\n        },\r\n        methods: {\r\n            async getData() {\r\n                this.$_console_log(\"[Library] Get book list\");\r\n\r\n                this.$store.dispatch('getAuthors');\r\n                this.$store.dispatch('getBooks');\r\n                this.$store.dispatch('getBookcases');\r\n                this.$store.dispatch('getGenres');\r\n                this.$store.dispatch('getSeries');\r\n                this.$store.dispatch('getShelves');\r\n            },\r\n            getCleanDate(value) {\r\n                if (!value) return '';\r\n\r\n                value = value.toString();\r\n                console.log(value);\r\n                if (value.endsWith('T00:00:00'))\r\n                    return value.substring(0, value.indexOf('T00:00:00'))\r\n\r\n                return value;\r\n            },\r\n            setActiveBook(obj) {\r\n                this.activeBook = Object.assign({}, obj);\r\n                this.activeBook.publicationDate = this.getCleanDate(this.activeBook.publicationDate);\r\n\r\n                if (typeof this.activeBook.bookAuthors !== 'undefined' && this.activeBook.bookAuthors !== null) {\r\n                    this.activeBook.authors = [];\r\n                    for (let i = 0; i < this.activeBook.bookAuthors.length; i++) {\r\n                        if (typeof this.activeBook.bookAuthors[i].author !== 'undefined' && this.activeBook.bookAuthors[i].author !== null) {\r\n                            let newAuthor = this.activeBook.bookAuthors[i].author;\r\n                            newAuthor.fromAutocomplete = true;\r\n                            //delete newAuthor.bookAuthors;\r\n                            this.activeBook.authors.push(newAuthor);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (typeof this.activeBook.bookGenres !== 'undefined' && this.activeBook.bookGenres !== null) {\r\n                    this.activeBook.genres = [];\r\n                    for (let i = 0; i < this.activeBook.bookGenres.length; i++) {\r\n                        if (typeof this.activeBook.bookGenres[i].genre !== 'undefined' && this.activeBook.bookGenres[i].genre !== null) {\r\n                            this.activeBook.genres.push(this.activeBook.bookGenres[i].genre);\r\n                        }\r\n                    }\r\n                }\r\n                delete this.activeBook.bookAuthors;\r\n                delete this.activeBook.bookGenres;\r\n            },\r\n            openAddOrEditBookDialog(obj, evt) {\r\n                this.$_console_log('[Library] Open add or edit dialog');\r\n                this.$_console_log(obj);\r\n\r\n                if (evt !== null && (evt.target.classList.contains('v-btn__content')\r\n                    || evt.target.parentNode.classList.contains('v-btn__content')\r\n                    || evt.target.parentNode.parentNode.classList.contains('v-btn__content'))\r\n                ) {\r\n                    this.$_console_log('Some button was pressed, don\\'t open the dialog.');\r\n                    return;\r\n                }\r\n\r\n                // add\r\n                if (typeof obj === 'undefined' || obj === null) {\r\n                    this.$_console_log('[Library] OpenAddOrEditBookDialog: Object is null or undefined');\r\n                    this.activeBook = null;\r\n                }\r\n                // edit\r\n                else {\r\n                    const self = this;\r\n                    this.loadingBook = true;\r\n\r\n                    setTimeout(() => {\r\n                        self.setActiveBook(obj);\r\n                        setTimeout(() => {\r\n                            self.loadingBook = false;\r\n                        }, 15);\r\n                    }, 5);\r\n                }\r\n\r\n                this.bookDialogOpen = true;\r\n            },\r\n            getTitle(item) {\r\n                if (typeof item === 'undefined' || item === null)\r\n                    return;\r\n\r\n                if (typeof item.subTitle === 'undefined' || item.subTitle === null || item.subTitle === '')\r\n                    return item.title;\r\n\r\n                return `${item.title} : ${item.subTitle}`;\r\n            },\r\n            deleteBook(item) {\r\n                if (typeof item === 'undefined' || item === null)\r\n                    return;\r\n\r\n                this.$store.dispatch('deleteBook', item.id).then(resp => {\r\n                    this.$store.dispatch('pushNotification', { text: 'Successfully deleted the book from the list', type: 0, group: { type: 'library-book', value: 'delete' } });\r\n                }).catch(() => {\r\n                    this.$store.dispatch('pushNotification', { text: 'Failed to delete the book from the list', type: 2, group: { type: 'library-book', value: 'delete' } });\r\n                });\r\n            },\r\n            getBookcaseName(item) {\r\n                if (typeof item === 'undefined' || item === null || item.bookcase === 'undefined' || item.bookcase === null)\r\n                    return;\r\n\r\n                return item.bookcase.name;\r\n            },\r\n            hasSeriesInfo(item) {\r\n                if (typeof item === 'undefined' || item === null || item.series === 'undefined' || item.series === null)\r\n                    return false;\r\n\r\n                return true;\r\n            },\r\n            getPublicationDate(item) {\r\n                if (item === null)\r\n                    return '';\r\n\r\n                let date = new Date(item);\r\n                return `${date.getFullYear()}-${padTwo(date.getMonth())}-${padTwo(date.getDate())}`;\r\n            },\r\n            closeDependencyEditorDialogWindow() {\r\n                this.$_console_log('[Close Depedency Editor Dialog Window] Reset value is:');\r\n                this.dependencyEditorDialogOpen = false;\r\n            },\r\n            closeBookDialogWindow(reset) {\r\n                this.$_console_log(`[Close Book Dialog Window] Reset value is: ${reset}`);\r\n                this.bookDialogOpen = false;\r\n\r\n                this.activeBook = null;\r\n                //if (typeof reset === 'boolean' && reset) {\r\n                //    this.activeBook = {};\r\n                //}\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./library.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./library.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./library.vue?vue&type=template&id=81b82916&\"\nimport script from \"./library.vue?vue&type=script&lang=js&\"\nexport * from \"./library.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VContainer,VDataTable,VFlex,VTextField})\n","import { Roles } from './constants'\r\n\r\nimport Index from './components/index'\r\nimport Login from './components/modules/login'\r\nimport Register from './components/modules/register'\r\n\r\nimport Home from './components/home'\r\nimport Start from './components/pages/start'\r\nimport Profile from './components/pages/profile'\r\nimport AdminTools from './components/pages/admin-tools'\r\nimport Chat from './components/pages/chat-messaging'\r\nimport Browser from './components/pages/browser'\r\nimport Notes from './components/pages/notes'\r\nimport Documentation from './components/pages/documentation'\r\nimport Doc from './components/modules/doc'\r\nimport Weight from './components/pages/weight'\r\nimport Library from './components/pages/library'\r\n\r\nexport const routes = [\r\n    {\r\n        path: '/', name: 'index', component: Index, display: 'Login',\r\n        meta: {\r\n            authLevel: Roles.Level.Default,\r\n        },\r\n        children: [\r\n            {\r\n                path: 'login',\r\n                name: 'login',\r\n                component: Login,\r\n                display: 'Login'\r\n            },\r\n            {\r\n                path: 'register',\r\n                name: 'register',\r\n                component: Register,\r\n                display: 'Register'\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        path: '/home', name: 'home', component: Home, display: 'Home',\r\n        meta: {\r\n            authLevel: Roles.Level.Default,\r\n        },\r\n        children: [\r\n            {\r\n                path: 'start',\r\n                name: 'start',\r\n                component: Start,\r\n                display: 'Home',\r\n                meta: {\r\n                    authLevel: Roles.Level.Default,\r\n                    hidden: false,\r\n                }\r\n            },\r\n            {\r\n                path: 'profile',\r\n                name: 'profile',\r\n                component: Profile,\r\n                display: 'Profile',\r\n                meta: {\r\n                    authLevel: Roles.Level.Default,\r\n                    hidden: true,\r\n                }\r\n            },\r\n            {\r\n                path: 'admin-tools',\r\n                name: 'admin-tools',\r\n                component: AdminTools,\r\n                display: 'Admin Tools',\r\n                meta: {\r\n                    authLevel: Roles.Level.Admin,\r\n                    hidden: false,\r\n                }\r\n            },\r\n            {\r\n                path: 'chat',\r\n                name: 'chat',\r\n                component: Chat,\r\n                display: 'Chat',\r\n                meta: {\r\n                    authLevel: Roles.Level.General,\r\n                    hidden: false,\r\n                }\r\n            },\r\n            {\r\n                path: 'browser',\r\n                name: 'browser',\r\n                component: Browser,\r\n                display: 'Browser',\r\n                meta: {\r\n                    authLevel: Roles.Level.General,\r\n                    hidden: false,\r\n                }\r\n            },\r\n            {\r\n                path: 'browser/:folder*',\r\n                name: 'browser-folder',\r\n                component: Browser,\r\n                display: 'Browser',\r\n                meta: {\r\n                    relative: 'browser',\r\n                    authLevel: Roles.Level.General,\r\n                    hidden: true,\r\n                }\r\n            },\r\n            {\r\n                path: 'notes',\r\n                name: 'notes',\r\n                component: Notes,\r\n                display: 'Notes',\r\n                meta: {\r\n                    authLevel: Roles.Level.General,\r\n                    hidden: false,\r\n                }\r\n            },\r\n            {\r\n                path: 'doc',\r\n                name: 'documentation',\r\n                component: Documentation,\r\n                display: 'Documentation',\r\n                meta: {\r\n                    authLevel: Roles.Level.General,\r\n                    hidden: true,\r\n                },\r\n                children: [\r\n                    {\r\n                        path: ':id',\r\n                        name: 'documentation-item',\r\n                        component: Doc,\r\n                        display: 'Documentation',\r\n                        meta: {\r\n                            relative: 'documentation',\r\n                            authLevel: Roles.Level.General,\r\n                            hidden: true,\r\n                        },\r\n                    }\r\n                ],\r\n            },\r\n            {\r\n                path: 'weight',\r\n                name: 'weight',\r\n                component: Weight,\r\n                display: 'Weight',\r\n                meta: {\r\n                    authLevel: Roles.Level.General,\r\n                    hidden: false,\r\n                }\r\n            },\r\n            {\r\n                path: 'library',\r\n                name: 'library',\r\n                component: Library,\r\n                display: 'Library',\r\n                meta: {\r\n                    authLevel: Roles.Level.General,\r\n                    hidden: false,\r\n                }\r\n            },\r\n        ]\r\n    },\r\n]\r\n","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nimport { Roles } from './constants'\r\nimport { routes } from './routes'\r\n\r\nimport store from './store'\r\n\r\n// Mixins\r\nimport Auth from './mixins/authentication'\r\nimport Module from './mixins/module'\r\nimport ConMsgs from './mixins/console'\r\n\r\nVue.use(VueRouter);\r\n\r\nlet router = new VueRouter({\r\n    mode: 'history',\r\n    routes\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    let role = store.state.auth.role;\r\n    let level = Auth.methods.$_auth_convertRole(role);\r\n\r\n    ConMsgs.methods.$_console_log('To:', to);\r\n\r\n    // Allow administrator access to everything\r\n    if (level === Roles.Level.Admin) {\r\n        next();\r\n    }\r\n    // Also allow access to index / login\r\n    else if (to.name === 'index' || to.name === 'login' || to.name == 'register') {\r\n        next();\r\n    }\r\n    // Allow access to paths that have no access level requirement\r\n    else if (to.meta.authLevel === Roles.Level.None) {\r\n        next();\r\n    }\r\n    // User is authenticated and trying to access a path with no special permission\r\n    else if (store.state.auth.isAuthorize === true && to.meta.authLevel <= Roles.Level.Default) {\r\n        next();\r\n    }\r\n    // User is authenticated but is trying to access a path beyond their access level\r\n    else if (store.state.auth.isAuthorize === true && to.meta.authLevel > level) {\r\n        ConMsgs.methods.$_console_log('[Router] beforeEach: DENIED. User is not authorized or does not have sufficient access level');\r\n        next('/home/start');\r\n    }\r\n    // Unauthorized path. User doesn't have access to this module\r\n    else if (!Module.methods.$_module_userHasModule(to)) {\r\n        ConMsgs.methods.$_console_log('[Router] beforeEach: DENIED. User does not have access to this module');\r\n        next(false);\r\n    }\r\n    else {\r\n        next();\r\n    }\r\n})\r\n\r\nexport default router\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('v-app',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"app\">\r\n        <v-app>\r\n            <router-view></router-view>\r\n        </v-app>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import * as CONST from './constants'\r\n    import { setTimeout } from 'core-js';\r\n    import { parse as parseJwt } from './helpers/jwt'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                \r\n            }\r\n        },\r\n        created() {\r\n            this.refreshTokenJob();\r\n        },\r\n        methods: {\r\n            refreshTokenJob() {\r\n                setTimeout(() => {\r\n                    //getRefreshToken\r\n                    if (this.$store.state.auth.isAuthorize) {\r\n                        const token = parseJwt(this.$store.state.auth.accessToken)\r\n                        let time = new Date().getTime() / 1000;\r\n                        // If the refresh token is going to expire before the next loop happens we should refresh it\r\n                        if (time + (CONST.Admin.RefreshTokenTimer / 1000) >= token.exp) {\r\n                            this.$_console_log('Token timeout is about to be reached. Getting new token');\r\n                            this.$store.dispatch('refreshToken').then(() => { }).catch(() => this.$_console_log('Failed to get time released refresh token'));\r\n                        }\r\n                    }\r\n\r\n                    this.refreshTokenJob();\r\n                }, CONST.Admin.RefreshTokenTimer);\r\n            },\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7e1beaa0&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\ninstallComponents(component, {VApp})\n","// Entry stuff\r\n//import 'core-js/stable'\r\n//import 'regenerator-runtime/runtime'\r\n\r\n// Vue stuff\r\nimport Vue from 'vue'\r\nimport VueCookie from 'vue-cookie'\r\nimport { sync } from 'vuex-router-sync'\r\n\r\n// Vuetify\r\nimport vuetify from './plugins/vuetify'\r\nimport 'vuetify/dist/vuetify.min.css'\r\n\r\nexport default new Vuetify({\r\n    icons: {\r\n        iconfont: 'mdi',\r\n    },\r\n});\r\n\r\n// Font Awesome\r\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\r\n\r\n// User stuff\r\nimport ChatHub from './plugins/chat-hub'\r\nimport router from './router'\r\nimport store from './store'\r\nimport App from './App.vue'\r\nimport Moment from 'vue-moment-lib'\r\nimport ConMsgs from './mixins/console'\r\n\r\n/*******************\r\n * Use libraries\r\n */\r\nVue.use(Vuetify);\r\nVue.use(VueCookie);\r\nVue.use(Moment);\r\n\r\n/*******************\r\n * Use Plugins\r\n */\r\nVue.use(ChatHub);\r\n\r\n/*******************\r\n * Global components\r\n */\r\nVue.component('fa-icon', FontAwesomeIcon);\r\n\r\n/*******************\r\n * Global mixins\r\n */\r\nVue.mixin(ConMsgs);\r\n\r\n// Sync router with the Vuex store\r\nsync(store, router);\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  vuetify,\r\n  store,\r\n  router,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./file-upload.vue?vue&type=style&index=0&id=05dd7626&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video-player.vue?vue&type=style&index=0&id=2c58ae1f&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./file-explorer.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-bubble.vue?vue&type=style&index=0&id=78eda714&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./note-editor.vue?vue&type=style&index=0&id=2a596b5e&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./weight.vue?vue&type=style&index=0&id=f51da7d8&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chat-conversation.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./file-viewer.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}