(function(e){function t(t){for(var r,i,a=t[0],c=t[1],u=t[2],d=0,h=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(h.length)h.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0496":function(e,t,n){},"0c8b":function(e,t,n){},"0e08":function(e,t,n){},1702:function(e,t,n){"use strict";n("adb8")},2904:function(e,t,n){},"326c":function(e,t,n){"use strict";n("a02e")},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id="4678"},"49f5":function(e,t,n){},"4ea0":function(e,t,n){"use strict";n("cf39")},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getAllState",(function(){return Fe}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=n("00e7"),i=n.n(s),a=n("31bd"),c=(n("d1e78"),n("ad3d")),u=(n("cb5b"),n("c074")),l=n("ecee");l["d"].add(u["a"]),l["b"].watch();l["d"];var d=n("f309");o["default"].use(d["a"]);var h={icons:{iconfont:"mdi"},theme:{dark:!0}},f=new d["a"](h),m=(n("bf40"),n("fe55"),n("d3b7"),n("1a9a")),p={install:function(e){var t=(new m["a"]).withUrl("".concat("https://localhost:7757","/chat-hub")).configureLogging(m["b"].Information).build(),n=new e;e.prototype.$chatHub=n,t.on("SendMessage",(function(e){n.$emit("message-received",e)})),t.on("ReadMessage",(function(e){n.$emit("read-receipt-received",e)}));var r=null;function o(){return r=t.start().catch((function(e){return console.error("Failed to connect with hub",e),new Promise((function(e,t){return setTimeout((function(){return o().then(e).catch(t)}),5e3)}))})),r}return t.onclose((function(){return o()})),o(),t}},g=(n("b0c0"),n("8c4f")),v={Name:{Admin:"Administrator",Elevated:"Elevated",General:"User",Default:"",None:"None"},Level:{Admin:3,Elevated:2,General:1,Default:0,None:-2}},b={RefreshTokenTimer:6e4},x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-container"},[n("h1",{staticClass:"text-xs-center"},[e._v("Jimmy's Webserver")]),n("router-view"),"login"===e.$route.name&&"development"===e.env?n("div",{staticClass:"text-xs-center ma-1"},[n("p",[e._v("No account ? "),n("router-link",{attrs:{to:"register"}},[e._v("Register here")])],1)]):"register"===e.$route.name?n("div",{staticClass:"text-xs-center ma-1"},[n("p",[e._v("If you already have an account you can "),n("router-link",{attrs:{to:"login"}},[e._v("Login")])],1)]):e._e()],1)},_=[],w={data:function(){return{env:"production"}},created:function(){"/"===this.$route.fullPath&&this.$router.push({name:"login"})}},y=w,k=n("2877"),$=Object(k["a"])(y,x,_,!1,null,null,null),j=$.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.error?n("v-alert",{attrs:{value:!0,type:"error",dismissible:""},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v("Username or password incorrect")]):e._e(),n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{rules:e.rules.username,label:"Username",name:"Username",required:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),n("v-text-field",{attrs:{"append-icon":e.passwordOn?"visibility":"visibility_off",type:e.passwordOn?"password":"text",name:"Password",rules:e.rules.password,label:"Password",required:""},on:{"click:append":function(t){e.passwordOn=!e.passwordOn}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),n("v-btn",{attrs:{disabled:!e.valid||e.btnClicked},on:{click:function(t){return t.preventDefault(),e.login()}}},[e._v("Login")])],1)],1)},L=[],A=n("1da1"),R=(n("96cf"),n("5319"),n("ac1f"),n("159b"),n("b64b"),"LOGIN_SUCCESS"),M="LOGOUT",C="JWT_TOKEN_CREATE",S="JWT_TOKEN_DESTROY",I="CODE_CHALLENGE_CREATE",E="CODE_CHALLENGE_DESTROY",T="GET_MODULES",V="USER_UPDATE_AVATAR",D="USER_UPDATE_DISPLAY_NAME",B="USER_GET_OTHERS",N="LIBRARY_CLEAR",F="LIBRARY_AUTHOR_GET_ALL",P="LIBRARY_BOOK_GET_ALL",U="LIBRARY_BOOKCASE_GET_ALL",W="LIBRARY_GENRE_GET_ALL",H="LIBRARY_SERIES_GET_ALL",q="LIBRARY_SHELF_GET_ALL",G="LIBRARY_AUTHOR_ADD",z="LIBRARY_BOOK_ADD",Y="LIBRARY_BOOKCASE_ADD",J="LIBRARY_SERIES_ADD",K="LIBRARY_SHELF_ADD",Q="LIBRARY_AUTHOR_EDIT",X="LIBRARY_BOOK_EDIT",Z="LIBRARY_BOOKCASE_EDIT",ee="LIBRARY_SERIES_EDIT",te="LIBRARY_SHELF_EDIT",ne="LIBRARY_AUTHOR_DELETE",re="LIBRARY_BOOK_DELETE",oe="LIBRARY_BOOKCASE_DELETE",se="LIBRARY_SERIES_DELETE",ie="LIBRARY_SHELF_DELETE",ae="MESSAGE_CLEAR",ce="MESSAGE_PUSH",ue="MESSAGE_POP",le="MESSAGE_UPDATE",de="MESSAGE_OPEN_DRAWER",he="MESSAGE_READ",fe="BROWSER_CLEAR",me="BROWSER_LOAD_DIRECTORY",pe="BROWSER_CHANGE_DIRECTORY",ge="BROWSER_GO_DIRECTORY",ve="BROWSER_PUSH_DIRECTORY",be="BROWSER_POP_DIRECTORY",xe="BROWSER_GET_FOLDERS",_e="BROWSER_FILE_ADD",we="BROWSER_FILE_DELETE",ye="BROWSER_LOADING_CONTENTS",ke="CHAT_CLEAR",$e="CHAT_CONVERSATION_GET_ALL",je="CHAT_CONVERSATION_START_NEW",Oe="CHAT_CONVERSATION_DELETE",Le="CHAT_CONVERSATION_UPDATE_TITLE",Ae="CHAT_CONVERSATION_GET_MESSAGES",Re="CHAT_CONVERSATION_UPDATE_NEW_MESSAGE_COUNT",Me="CHAT_CONVERSATION_UNREAD_MESSAGES_INCREMENT",Ce="CHAT_MESSAGE_ADD",Se="CHAT_MESSAGE_DELETE",Ie="CHAT_MESSAGE_READ",Ee="CHAT_MESSAGE_HIGHLIGHT",Te="CHAT_MESSAGE_UNHIGHLIGHT",Ve="CHAT_MESSAGE_HOVER",De="CHAT_MESSAGE_UNHOVER",Be="CHAT_MESSAGE_READ_RECEIPT_ADD",Ne=n("2f62"),Fe=function(e){return e},Pe=n("ade3"),Ue=(n("25f0"),n("bc3a")),We=n.n(Ue),He={methods:{$_console_log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!1},$_console_group:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!1}}},qe="https://localhost:7757",Ge=We.a.create({baseURL:qe,headers:ze()});function ze(){var e={"Content-Type":"application/json; charset=utf-8"};return e}Ge.defaults.timeout=1e4,Ge.interceptors.request.use(function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=zn.state.auth.accessToken,r=zn.state.auth.isAuthorize,n&&r&&(t.headers.common["Authorization"]="Bearer "+n),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return He.methods.$_console_group("[Axios][Interceptor] Request Error",e),Promise.reject(e)})),Ge.interceptors.response.use((function(e){return e}),(function(e){return He.methods.$_console_log("[Axios][Interceptor] Error request, response, then header keys, route fullpath",e.request,e.response,Na.app.$route.fullPath),Promise.reject(e)}));var Ye=Ge,Je="api/account/login",Ke="api/account/logout",Qe="api/account/refresh-jwt",Xe="api/account/register",Ze="api/account/user/get-all",et="api/account/user/get-all-others",tt="api/account/user/update-avatar",nt="api/account/user/update-display-name",rt={signin:function(e){return Ye.post(Je,{username:e.username,password:e.password,codeChallenge:e.codeChallenge})},signout:function(e){return Ye.post(Ke,'"'.concat(e,'"'))},refreshToken:function(e,t){return Ye.post("".concat(Qe),{token:e,codeChallenge:t})},register:function(e){return Ye.post(Xe,{username:e.username,password:e.password,confirmPassword:e.confirmPassword,role:e.role})},getUsers:function(){return Ye.get(Ze)},getAllOtherUsers:function(){return Ye.get(et)},uploadAvatarImage:function(e){return Ye.post(tt,e)},updateDisplayName:function(e){return Ye.post(nt,'"'.concat(e,'"'))}},ot="api/modules/get-all-modules",st="api/modules/get-modules-for-user",it="api/modules/get-modules-for-all-users",at="get-user-modules-and-features",ct="api/modules/add-module-to-user",ut="api/modules/delete-module-from-user",lt="api/modules/add-feature-to-user",dt="api/modules/delete-feature-from-user",ht={getModulesForUser:function(){return Ye.get(st)},getAllModules:function(){return Ye.get(ot)},getAllModulesForAllUser:function(){return Ye.get(it)},getModulesAndFeaturesForUser:function(e){return Ye.get(at,{user:e})},getAllFeaturesForAllUser:function(){return Ye.get(getAllFeaturesForAllUserUrl)},addModuleToUser:function(e){return Ye.post(ct,e)},deleteModuleFromUser:function(e){return Ye.post(ut,e)},addFeatureToUser:function(e){return Ye.post(lt,e)},deleteFeatureFromUser:function(e){return Ye.post(dt,e)}},ft=n("d4ec"),mt=n("bee2"),pt=(n("3ca3"),n("ddb0"),n("1276"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("a15b"),n("a630"),function(e){He.methods.$_console_log("[RequiresRefresh] Checking if refresh token is required.");var t=gt(e),n=(new Date).getTime()/1e3;return n>t.exp&&(He.methods.$_console_log("[RequiresRefresh] JWT is expired!"),!0)}),gt=function(e){return JSON.parse(atob(e.split(".")[1]))},vt=function(e){var t=new Uint8Array((e||40)/2);return crypto.getRandomValues(t),Array.from(t,bt).join("")};function bt(e){return e<10?"0"+String(e):e.toString(16)}var xt,_t,wt=null,yt=function(){function e(){return Object(ft["a"])(this,e),wt||(wt=this),this.queue=[],this.gettingToken=!1,wt}return Object(mt["a"])(e,[{key:"request",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(He.methods.$_console_log("[DispatchFactory] request call",t),pt(zn.state.auth.accessToken)){e.next=8;break}return He.methods.$_console_log("[DispatchFactory] Running request"),e.next=5,t();case 5:return e.abrupt("return",e.sent);case 8:return this.queue.push(t),e.next=11,this.getRefreshToken();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"processQueue",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(He.methods.$_console_log("[DispatchFactory] Processing queue..."),t=[],n=0;n<this.queue.length;n++)t.push(this.request(this.queue[n]));Promise.all(t).then((function(e){})).catch((function(){})).then((function(){He.methods.$_console_log("[DispatchFactory] Emptying out promise queue.");for(var e=0;e<t.length;e++)r.queue.shift();He.methods.$_console_log("[DispatchFactory] Removed ".concat(t.length," promises from the queue"))}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRefreshToken",value:function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(He.methods.$_console_log("[DispatchFactory] ".concat(this.gettingToken)),!1!==this.gettingToken){e.next=11;break}return this.gettingToken=!0,e.next=5,zn.dispatch("refreshToken");case 5:return this.gettingToken=!1,e.next=8,this.processQueue();case 8:return e.abrupt("return",e.sent);case 11:He.methods.$_console_log("[DispatchFactory] We are already getting a refresh token.");case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),kt=new yt,$t={isAuthorize:Boolean(localStorage.getItem("isAuthorize"))||!1,user:JSON.parse(localStorage.getItem("user"))||{},role:localStorage.getItem("userRole")||"",accessToken:localStorage.getItem("accessToken")||"",codeChallenge:localStorage.getItem("codeChallenge")||"",activeModules:JSON.parse(localStorage.getItem("activeModules"))||[],otherUsers:JSON.parse(localStorage.getItem("otherUsers"))||[]},jt={getActiveModules:function(e){return e.activeModules}},Ot={refreshToken:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,t.prev=1,He.methods.$_console_log("Getting refresh token"),t.next=5,rt.refreshToken(r.accessToken,r.codeChallenge);case 5:return o=t.sent,n(C,o.data),t.next=9,Promise.resolve(o.data);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from refresh token",t.t0.response),t.next=17,Promise.reject(t.t0.response);case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t,null,[[1,12]])})))()},signin:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("Signing in"),o=vt(),r(I,o),t.codeChallenge=o,n.next=8,rt.signin(t);case 8:return s=n.sent,r(R,s.data),n.next=12,Promise.resolve(s.data);case 12:return n.abrupt("return",n.sent);case 15:return n.prev=15,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from signin",n.t0.response),r(M,n.t0.response),n.next=21,Promise.reject(n.t0.response);case 21:return n.abrupt("return",n.sent);case 22:case"end":return n.stop()}}),n,null,[[1,15]])})))()},signout:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,t.prev=1,t.next=4,rt.signout($t.user.id);case 4:return o=t.sent,n(M),He.methods.$_console_log("[Vuex][Actions] Logout success. Clearing state."),r("clearChat"),r("clearNotifications"),r("clearLibrary"),r("clearFileExplorer"),t.next=13,Promise.resolve(o);case 13:return t.abrupt("return",t.sent);case 16:return t.prev=16,t.t0=t["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from signout",t.t0.response),n(M),t.next=22,Promise.reject(t.t0.response);case 22:return t.abrupt("return",t.sent);case 23:case"end":return t.stop()}}),t,null,[[1,16]])})))()},register:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.commit,He.methods.$_console_log("[Vuex][Actions] Calling register: ",t),n.prev=2,n.next=5,rt.register(t);case 5:return r=n.sent,n.abrupt("return",Promise.resolve(r));case 9:return n.prev=9,n.t0=n["catch"](2),He.methods.$_console_group("[Vuex][Actions] Error from register",n.t0.response),n.next=14,Promise.reject(n.t0.response);case 14:return n.abrupt("return",n.sent);case 15:case"end":return n.stop()}}),n,null,[[2,9]])})))()},getModules:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ht.getModulesForUser();case 2:return t=e.sent,He.methods.$_console_log(t.data),n(T,t.data),e.next=7,Promise.resolve(t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))));case 5:return t.prev=5,t.t0=t["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from get modules",t.t0.response),t.next=10,Promise.reject(t.t0.response);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t,null,[[1,5]])})))()},updateAvatarImage:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,rt.uploadAvatarImage(t);case 2:return n=e.sent,He.methods.$_console_log(n.data),r(V,n.data),e.next=7,Promise.resolve(n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))));case 5:return n.prev=5,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from update avatar image",n.t0.response),n.next=10,Promise.reject(n.t0.response);case 10:return n.abrupt("return",n.sent);case 11:case"end":return n.stop()}}),n,null,[[1,5]])})))()},updateDisplayName:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,rt.updateDisplayName(t);case 2:return n=e.sent,He.methods.$_console_log(n.data),r(D,t),e.next=7,Promise.resolve(n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))));case 5:return n.prev=5,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from update display name",n.t0.response),n.next=10,Promise.reject(n.t0.response);case 10:return n.abrupt("return",n.sent);case 11:case"end":return n.stop()}}),n,null,[[1,5]])})))()},getAllOtherUsers:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,rt.getAllOtherUsers();case 2:return t=e.sent,He.methods.$_console_log("Got all other user data:",t.data),n(B,t.data),e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)})))));case 5:return t.prev=5,t.t0=t["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from get all other users",t.t0.response),t.next=10,Promise.reject(t.t0.response);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t,null,[[1,5]])})))()}},Lt=(xt={},Object(Pe["a"])(xt,C,(function(e,t){He.methods.$_console_log("Mutating jwt token create"),e.accessToken=t,localStorage.setItem("accessToken",t)})),Object(Pe["a"])(xt,S,(function(e){He.methods.$_console_log("Mutating jwt token destroy"),e.accessToken="",localStorage.removeItem("accessToken")})),Object(Pe["a"])(xt,I,(function(e,t){He.methods.$_console_log("Mutating code challenge create"),e.codeChallenge=t,localStorage.setItem("codeChallenge",t)})),Object(Pe["a"])(xt,E,(function(e){He.methods.$_console_log("Mutating code challenge destroy"),e.codeChallenge="",localStorage.removeItem("codeChallenge")})),Object(Pe["a"])(xt,R,(function(e,t){He.methods.$_console_log("Mutating login success");var n=t.roles[0].toString();e.user=t.user,e.role=n,e.accessToken=t.token,e.isAuthorize=!0,localStorage.setItem("user",JSON.stringify(t.user)),localStorage.setItem("userRole",n),localStorage.setItem("accessToken",t.token),localStorage.setItem("isAuthorize",!0)})),Object(Pe["a"])(xt,M,(function(e){He.methods.$_console_log("Mutating logout"),e.user={},e.role="",e.accessToken="",e.codeChallenge="",e.isAuthorize=!1,e.activeModules=[],e.otherUsers=[],localStorage.removeItem("user"),localStorage.removeItem("userRole"),localStorage.removeItem("accessToken"),localStorage.removeItem("codeChallenge"),localStorage.removeItem("isAuthorize"),localStorage.removeItem("activeModules"),localStorage.removeItem("otherUsers")})),Object(Pe["a"])(xt,T,(function(e,t){He.methods.$_console_log("Mutating get modules"),localStorage.removeItem("activeModules"),e.activeModules=[],"undefined"!==typeof t&&null!==t&&t.length>0&&t.forEach((function(t){e.activeModules.push(t)})),localStorage.setItem("activeModules",JSON.stringify(e.activeModules))})),Object(Pe["a"])(xt,V,(function(e,t){He.methods.$_console_log("Mutating update user avatar"),e.user.avatar=t,localStorage.removeItem("user"),localStorage.setItem("user",JSON.stringify(e.user))})),Object(Pe["a"])(xt,D,(function(e,t){He.methods.$_console_log("Mutating update user display name"),e.user.displayName=t,localStorage.removeItem("user"),localStorage.setItem("user",JSON.stringify(e.user))})),Object(Pe["a"])(xt,B,(function(e,t){He.methods.$_console_log("Mutating get all other users"),e.otherUsers=t,localStorage.removeItem("otherUsers"),localStorage.setItem("otherUsers",JSON.stringify(t))})),xt),At={state:$t,getters:jt,actions:Ot,mutations:Lt},Rt=n("5530"),Mt=n("53ca"),Ct=(n("7db0"),n("c740"),n("a434"),n("4de4"),n("99af"),"api/chat/conversation/start"),St="api/chat/conversation/get",It="api/chat/conversation/get-all",Et="api/chat/conversation/notifications/get-all",Tt="api/chat/conversation/update-title",Vt="api/chat/conversation/delete",Dt="api/chat/conversation/get/messages",Bt="api/chat/message/delete",Nt="api/chat/message/get",Ft="api/chat/message/send",Pt="api/chat/message/read",Ut={startConversation:function(e){return Ye.post(Ct,e)},getConversation:function(e){return Ye.get("".concat(St,"/").concat(e))},getAllConversations:function(){return Ye.get(It)},getAllNewMessagesForConversations:function(){return Ye.get(Et)},updateConversationTitle:function(e,t){return Ye.post("".concat(Tt,"/").concat(e),{title:t})},deleteConversation:function(e){return Ye.request({url:"".concat(Vt,"/").concat(e),method:"delete"})},getMessagesForConversation:function(e){return Ye.get("".concat(Dt,"/").concat(e))},deleteMessage:function(e){return Ye.request({url:"".concat(Bt,"/").concat(e),method:"delete"})},getMessage:function(e){return Ye.get("".concat(Nt,"/").concat(e))},sendMessage:function(e){return Ye.post(Ft,e)},readMessage:function(e,t){return Ye.request({url:"".concat(Pt,"/").concat(e,"/").concat(t),method:"put"})},readMessageList:function(e,t){return Ye.request({url:"".concat(Pt,"/").concat(e,"/list"),method:"put",data:t})}},Wt={conversations:[]},Ht={getConversationById:function(e){return function(t){return e.conversations.find((function(e){return e.id===t}))}},getConversationIndexById:function(e){return function(t){return e.conversations.findIndex((function(e){return e.id===t}))}}},qt={clearChat:function(e){var t=e.commit;He.methods.$_console_log("[Vuex][Actions] Clearing chat"),t(ke)},getNewConversationNotifications:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,He.methods.$_console_log("[Vuex][Actions] Getting all new conversation notifications"),t.prev=2,t.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ut.getAllNewMessagesForConversations();case 2:return t=e.sent,Array.isArray(t.data)&&n(Re,t.data),e.next=6,Promise.resolve(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return t.prev=6,t.t0=t["catch"](2),He.methods.$_console_group("[Vuex][Actions] Error from get all new conversation notifications",t.t0.response),t.next=11,Promise.reject(t.t0.response);case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,null,[[2,6]])})))()},getAllConversationsForUser:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootState,He.methods.$_console_log("[Vuex][Actions] Getting all conversations"),t.prev=2,t.next=5,kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ut.getAllConversations();case 2:t=e.sent,He.methods.$_console_log(t.data),n($e,{list:t.data,userId:r.auth.user.id});case 5:case"end":return e.stop()}}),e)}))));case 5:return t.abrupt("return",t.sent);case 8:return t.prev=8,t.t0=t["catch"](2),He.methods.$_console_group("[Vuex][Actions] Error from get all conversations",t.t0.response),t.next=13,Promise.reject(t.t0.response);case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),t,null,[[2,8]])})))()},startNewConversation:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,o=e.rootState,He.methods.$_console_log("[Vuex][Actions] Starting new conversation"),n.prev=2,n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ut.startConversation(t);case 2:if(n=e.sent,"object"!==Object(Mt["a"])(n.data)||null===n.data){e.next=10;break}return r(je,{obj:n.data,userId:o.auth.user.id}),e.next=7,Promise.resolve(n);case 7:return e.abrupt("return",e.sent);case 10:return He.methods.$_console_group("[Vuex][Actions] Error from starting new conversation. API call succeeded but returned false."),e.next=13,Promise.reject();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](2),He.methods.$_console_group("[Vuex][Actions] Error from start new conversation",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[2,6]])})))()},deleteConversation:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,He.methods.$_console_log("[Vuex][Actions] Deleting conversation"),n.prev=2,n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ut.deleteConversation(t);case 2:if(n=e.sent,"boolean"!==typeof n.data||!0!==n.data){e.next=10;break}return r(Oe,t),e.next=7,Promise.resolve(n);case 7:return e.abrupt("return",e.sent);case 10:return He.methods.$_console_group("[Vuex][Actions] Error from deleting conversation. API call succeeded but returned false."),e.next=13,Promise.reject();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](2),He.methods.$_console_group("[Vuex][Actions] Error from deleting conversation",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[2,6]])})))()},updateConversationTitle:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,He.methods.$_console_log("[Vuex][Actions] Update conversation title"),n.prev=2,n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ut.updateConversationTitle(t.conversationId,t.title);case 2:if(n=e.sent,"boolean"!==typeof n.data||!0!==n.data){e.next=10;break}return r(Le,t),e.next=7,Promise.resolve(n);case 7:return e.abrupt("return",e.sent);case 10:return He.methods.$_console_group("[Vuex][Actions] Error from updating conversation title. API call succeeded but returned false."),e.next=13,Promise.reject();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](2),He.methods.$_console_group("[Vuex][Actions] Error from updating conversation title",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[2,6]])})))()},getMessagesForConversation:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,He.methods.$_console_log("[Vuex][Actions] Get messages for conversation"),n.prev=2,n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ut.getMessagesForConversation(t);case 2:return n=e.sent,r(Ae,{messages:n.data,conversationId:t}),e.next=6,Promise.resolve(n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](2),He.methods.$_console_group("[Vuex][Actions] Error from getting messages for conversation",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[2,6]])})))()},incrementConversationUnreadMessageCount:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,He.methods.$_console_log("[Vuex][Actions] Increment conversation's unread chat message count"),r(Me,t);case 3:case"end":return n.stop()}}),n)})))()},addChatMessage:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,o=e.rootState,He.methods.$_console_log("[Vuex][Actions] Add chat message"),r(Ce,Object(Rt["a"])(Object(Rt["a"])({},t),{},{userId:o.auth.user.id}));case 3:case"end":return n.stop()}}),n)})))()},addReadReceipt:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,o=e.rootState,He.methods.$_console_log("[Vuex][Actions] Add read receipt"),r(Be,Object(Rt["a"])(Object(Rt["a"])({},t),{},{userId:o.auth.user.id}));case 3:case"end":return n.stop()}}),n)})))()},deleteChatMessage:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,He.methods.$_console_log("[Vuex][Actions] Delete chat message"),n.prev=2,n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ut.deleteMessage(t.messageId);case 2:if(n=e.sent,"boolean"!==typeof n.data||!0!==n.data){e.next=10;break}return r(Se,t),e.next=7,Promise.resolve(n);case 7:return e.abrupt("return",e.sent);case 10:return He.methods.$_console_group("[Vuex][Actions] Error from deleting message. API call succeeded but returned false."),e.next=13,Promise.reject();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](2),He.methods.$_console_group("[Vuex][Actions] Error from deleting chat message",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[2,6]])})))()},readChatMessage:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,He.methods.$_console_log("[Vuex][Actions] Read chat message"),n.prev=2,n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ut.readMessage(t.conversationId,t.messageId);case 2:n=e.sent,r(Ie,{conversationId:t.conversationId,receipt:n.data,status:n.status});case 4:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](2),He.methods.$_console_group("[Vuex][Actions] Error from reading chat message",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[2,6]])})))()},readChatMessageList:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,He.methods.$_console_log("[Vuex][Actions] Read chat message list"),n.prev=2,n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ut.readMessageList(t.conversationId,t.messageIds);case 2:n=e.sent,He.methods.$_console_log("[Vuex][Actions] Read message response: ",n),Array.isArray(n.data)&&n.data.forEach((function(e){r(Ie,{conversationId:t.conversationId,receipt:e,status:n.status})}));case 5:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](2),He.methods.$_console_group("[Vuex][Actions] Error from reading chat message list",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[2,6]])})))()},highlightMessage:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,t.on?r(Ee,t):r(Te,t);case 2:case"end":return n.stop()}}),n)})))()},setMessageHover:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,t.on?r(Ve,t):r(De,t);case 2:case"end":return n.stop()}}),n)})))()}},Gt=(_t={},Object(Pe["a"])(_t,ke,(function(e){He.methods.$_console_log("[Vuex][Mutations] Mutating clearing chat"),e.conversations=[]})),Object(Pe["a"])(_t,Re,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Mutating update new message count for all conversations for user"),t.forEach((function(t){var n=e.conversations.findIndex((function(e){return e.id===t.id}));n>=0&&(e.conversations[n].unreadMessages=t.unreadMessages)}))})),Object(Pe["a"])(_t,$e,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Mutating get chat conversations for user"),e.conversations=[],Array.isArray(t.list)&&t.list.forEach((function(n){n.title=Yt(n,t.userId),e.conversations.push(n)}))})),Object(Pe["a"])(_t,je,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Mutating start new conversation"),t.obj.title=Yt(t.obj,t.userId),e.conversations.push(t.obj)})),Object(Pe["a"])(_t,Oe,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Mutating delete conversation");var n=e.conversations.findIndex((function(e){return e.id===t}));n<0?He.methods.$_console_log("[Vuex][Mutations] DeleteConversation: Can't find conversation to delete"):e.conversations.splice(n,1)})),Object(Pe["a"])(_t,Le,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Mutating update conversation title");var n=e.conversations.find((function(e){return e.id===t.conversationId}));"undefined"!==typeof n?n.title=t.title:He.methods.$_console_log("[Vuex][Mutations] UpdateConversationTitle: Can't find conversation to update the title of")})),Object(Pe["a"])(_t,Ae,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Mutating get messages for conversation");var n=e.conversations.find((function(e){return e.id===t.conversationId}));"undefined"!==typeof n?n.messages=t.messages:He.methods.$_console_log("[Vuex][Mutations] ConversationGetMessages: Can't find conversation to get messages for")})),Object(Pe["a"])(_t,Me,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Mutating incrementing the conversation's unread message count");var n=e.conversations.find((function(e){return e.id===t}));"undefined"!==typeof n?n.unreadMessages++:He.methods.$_console_log("[Vuex][Mutations] ConversationUnreadMessageIncrement: Can't find conversation to increment the unread message count of")})),Object(Pe["a"])(_t,Ce,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Mutating add chat message");var n=e.conversations.findIndex((function(e){return e.id===t.conversationId}));n<0?He.methods.$_console_log("[Vuex][Mutations] ChatMessageAdd: Can't find conversation to add the message to"):(Array.isArray(e.conversations[n].messages)||(e.conversations[n].messages=[]),e.conversations[n].messages.push(Object.assign({},t.message)))})),Object(Pe["a"])(_t,Be,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Mutating add read receipt");var n=e.conversations.findIndex((function(e){return e.id===t.conversationId}));if(n<0)He.methods.$_console_log("[Vuex][Mutations] ReadReceiptAdd: Can't find conversation to add the message to");else if(Array.isArray(e.conversations[n].messages)){var r=e.conversations[n].messages.findIndex((function(e){return e.id===t.receipt.messageId}));r<0?He.methods.$_console_log("[Vuex][Mutations] ReadReceiptAdd: Messages not found in list"):(Array.isArray(e.conversations[n].messages[r].readReceipts)||(e.conversations[n].messages[r].readReceipts=[]),e.conversations[n].messages[r].readReceipts.push(t.receipt))}else He.methods.$_console_log("[Vuex][Mutations] ReadReceiptAdd: Messages isn't an array")})),Object(Pe["a"])(_t,Se,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Mutating delete chat message");var n=e.conversations.findIndex((function(e){return e.id===t.conversationId}));if(n<0)He.methods.$_console_log("[Vuex][Mutations] ChatMessageDelete: Can't find conversation to delete the message from");else{var r=e.conversations[n].messages.findIndex((function(e){return e.id===t.messageId}));r<0?He.methods.$_console_log("[Vuex][Mutations] ChatMessageDelete: Can't find message to delete"):e.conversations[n].messages.splice(r,1)}})),Object(Pe["a"])(_t,Ie,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Mutating read chat message"),204!==t.status){var n=e.conversations.findIndex((function(e){return e.id===t.conversationId}));if(n<0)He.methods.$_console_log("[Vuex][Mutations] ChatMessageRead: Can't find conversation to read the message from");else{var r=e.conversations[n].messages.findIndex((function(e){return e.id===t.receipt.messageId}));r<0?He.methods.$_console_log("[Vuex][Mutations] ChatMessageRead: Can't find message to read"):(Array.isArray(e.conversations[n].messages[r].readReceipts)||(e.conversations[n].messages[r].readReceipts=[]),e.conversations[n].messages[r].readReceipts.push(t.receipt),e.conversations[n].unreadMessages--)}}else He.methods.$_console_log("[Vuex][Mutations] ChatMessageRead: Response was null")})),Object(Pe["a"])(_t,Ee,(function(e,t){var n=e.conversations.findIndex((function(e){return e.id===t.conversationId}));if(n<0)He.methods.$_console_log("[Vuex][Mutations] ChatMessageHighlight: Can't find conversation to read the message from");else{var r=e.conversations[n].messages.findIndex((function(e){return e.id===t.messageId}));r<0?He.methods.$_console_log("[Vuex][Mutations] ChatMessageHighlight: Can't find message to read"):e.conversations[n].messages[r].highlighted=!0}})),Object(Pe["a"])(_t,Te,(function(e,t){var n=e.conversations.findIndex((function(e){return e.id===t.conversationId}));if(n<0)He.methods.$_console_log("[Vuex][Mutations] ChatMessageUnhighlight: Can't find conversation to read the message from");else{var r=e.conversations[n].messages.findIndex((function(e){return e.id===t.messageId}));r<0?He.methods.$_console_log("[Vuex][Mutations] ChatMessageUnhighlight: Can't find message to read"):e.conversations[n].messages[r].highlighted=!1}})),Object(Pe["a"])(_t,Ve,(function(e,t){var n=e.conversations.findIndex((function(e){return e.id===t.conversationId}));if(n<0)He.methods.$_console_log("[Vuex][Mutations] ChatMessageHover: Can't find conversation to read the message from");else{var r=e.conversations[n].messages.findIndex((function(e){return e.id===t.messageId}));r<0?He.methods.$_console_log("[Vuex][Mutations] ChatMessageHover: Can't find message to read"):e.conversations[n].messages[r].hover=!0}})),Object(Pe["a"])(_t,De,(function(e,t){var n=e.conversations.findIndex((function(e){return e.id===t.conversationId}));if(n<0)He.methods.$_console_log("[Vuex][Mutations] ChatMessageUnhover: Can't find conversation to read the message from");else{var r=e.conversations[n].messages.findIndex((function(e){return e.id===t.messageId}));r<0?He.methods.$_console_log("[Vuex][Mutations] ChatMessageUnhover: Can't find message to read"):e.conversations[n].messages[r].hover=!1}})),_t),zt={state:Wt,getters:Ht,actions:qt,mutations:Gt};function Yt(e,t){if(null===e||"object"!==Object(Mt["a"])(e))return"";if("undefined"===typeof e.title||null===e.title||""===e.title){var n=e.conversationUsers.filter((function(e){return e.userId!=t}));if(Array.isArray(n)&&n.length>0){for(var r="",o=0;o<n.length;o++)r+=n[o].userDisplayName,o<n.length-1&&(r+=", ");return r}}return e.title}n("4328");var Jt,Kt,Qt="api/library/book/list",Xt="api/library/book/get",Zt="api/library/book/add",en="api/library/book/delete",tn="api/library/book/update",nn="api/library/author/list",rn="api/library/author/add",on="api/library/author/delete",sn="api/library/author/update",an="api/library/bookcase/list",cn="api/library/bookcase/add",un="api/library/bookcase/delete",ln="api/library/bookcase/update",dn="api/library/genre/list",hn="api/library/series/list",fn="api/library/series/add",mn="api/library/series/delete",pn="api/library/series/update",gn="api/library/shelf/list",vn="api/library/shelf/add",bn="api/library/shelf/delete",xn="api/library/shelf/update",_n={author:{getList:function(){return Ye.get(nn)},delete:function(e){return Ye.request({url:on,method:"delete",params:{id:e}})},add:function(e){return Ye.post(rn,e)},update:function(e){return Ye.request({url:sn,method:"put",data:e,headers:{"Content-Type":"application/json"}})}},book:{getList:function(){return Ye.get(Qt)},get:function(e){return Ye.get(Xt,{params:{id:e}})},delete:function(e){return Ye.request({url:en,method:"delete",params:{id:e}})},add:function(e){return Ye.post(Zt,e)},update:function(e){return Ye.request({url:tn,method:"put",data:e,headers:{"Content-Type":"application/json"}})}},bookcase:{getList:function(){return Ye.get(an)},delete:function(e){return Ye.request({url:un,method:"delete",params:{id:e}})},add:function(e){return Ye.post(cn,e)},update:function(e){return Ye.request({url:ln,method:"put",data:e,headers:{"Content-Type":"application/json"}})}},genre:{getList:function(){return Ye.get(dn)}},series:{getList:function(){return Ye.get(hn)},delete:function(e){return Ye.request({url:mn,method:"delete",params:{id:e}})},add:function(e){return Ye.post(fn,e)},update:function(e){return Ye.request({url:pn,method:"put",data:e,headers:{"Content-Type":"application/json"}})}},shelf:{getList:function(){return Ye.get(gn)},delete:function(e){return Ye.request({url:bn,method:"delete",params:{id:e}})},add:function(e){return Ye.post(vn,e)},update:function(e){return Ye.request({url:xn,method:"put",data:e,headers:{"Content-Type":"application/json"}})}}},wn={authors:[],books:[],bookcases:[],genres:[],series:[],shelves:[]},yn={},kn={clearLibrary:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,He.methods.$_console_log("[Vuex][Actions] Clearing library"),n(N);case 3:case"end":return t.stop()}}),t)})))()},getAuthors:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,He.methods.$_console_log("[Vuex][Actions] Getting author list"),t.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.author.getList();case 2:return t=e.sent,n(F,t.data),e.next=6,Promise.resolve(t.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return t.prev=6,t.t0=t["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from getting author list",t.t0.response),t.next=11,Promise.reject(t.t0.response);case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,null,[[1,6]])})))()},addAuthor:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Adding author"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.author.add(t);case 2:return n=e.sent,r(G,n.data),e.next=6,Promise.resolve(n.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from adding author",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},editAuthor:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Editing author"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.author.update(t);case 2:return n=e.sent,r(Q,n.data),e.next=6,Promise.resolve(n.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from editing author",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},deleteAuthor:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Deleting author"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.author.delete(t);case 2:return n=e.sent,r(ne,n.data),e.next=6,Promise.resolve(n.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from deleting author",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},getBooks:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,He.methods.$_console_log("[Vuex][Actions] Getting book list"),t.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.book.getList();case 2:return t=e.sent,n(P,t.data),e.next=6,Promise.resolve(t.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return t.prev=6,t.t0=t["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from getting book list",t.t0.response),t.next=11,Promise.reject(t.t0.response);case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,null,[[1,6]])})))()},addBook:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Adding book"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.book.add(t);case 2:return n=e.sent,r(z,n.data),r(Y,n.data.bookcase),r(J,n.data.series),r(K,n.data.shelf),Array.isArray(n.data.bookAuthors)&&n.data.bookAuthors.forEach((function(e){r(G,e.author)})),e.next=10,Promise.resolve(n.data);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from adding book",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},editBook:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Editing book"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.book.update(t);case 2:return n=e.sent,r(X,n.data),r(Y,n.data.bookcase),r(J,n.data.series),r(K,n.data.shelf),Array.isArray(n.data.bookAuthors)&&n.data.bookAuthors.forEach((function(e){r(G,e.author)})),e.next=10,Promise.resolve(n.data);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from editing book",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},deleteBook:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Deleting book"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.book.delete(t);case 2:return n=e.sent,r(re,n.data),e.next=6,Promise.resolve(n.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from deleting book",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},getBookcases:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,He.methods.$_console_log("[Vuex][Actions] Getting bookcase list"),t.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.bookcase.getList();case 2:return t=e.sent,n(U,t.data),e.next=6,Promise.resolve(t.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return t.prev=6,t.t0=t["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from getting bookcase list",t.t0.response),t.next=11,Promise.reject(t.t0.response);case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,null,[[1,6]])})))()},addBookcase:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Adding bookcase"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.bookcase.add(t);case 2:return n=e.sent,r(Y,n.data),e.next=6,Promise.resolve(n.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from adding bookcase",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},editBookcase:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Editing bookcase"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.bookcase.update(t);case 2:return n=e.sent,r(Z,n.data),e.next=6,Promise.resolve(n.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from editing bookcase",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},deleteBookcase:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Deleting bookcase"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.bookcase.delete(t);case 2:return n=e.sent,r(oe,n.data),e.next=6,Promise.resolve(n.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from deleting bookcase",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},getGenres:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,He.methods.$_console_log("[Vuex][Actions] Getting genre list"),t.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.genre.getList();case 2:return t=e.sent,n(W,t.data),e.next=6,Promise.resolve(t.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return t.prev=6,t.t0=t["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from getting genre list",t.t0.response),t.next=11,Promise.reject(t.t0.response);case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,null,[[1,6]])})))()},getSeries:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,He.methods.$_console_log("[Vuex][Actions] Getting series list"),t.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.series.getList();case 2:return t=e.sent,n(H,t.data),e.next=6,Promise.resolve(t.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return t.prev=6,t.t0=t["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from getting series list",t.t0.response),t.next=11,Promise.reject(t.t0.response);case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,null,[[1,6]])})))()},addSeries:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Adding series"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.series.add(t);case 2:return n=e.sent,r(J,n.data),e.next=6,Promise.resolve(n.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from adding series",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},editSeries:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Editing series"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.series.update(t);case 2:return n=e.sent,r(ee,n.data),e.next=6,Promise.resolve(n.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from editing series",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},deleteSeries:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Deleting series"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.series.delete(t);case 2:return n=e.sent,r(se,n.data),e.next=6,Promise.resolve(n.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from deleting bookcase",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},getShelves:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,He.methods.$_console_log("Getting shelf list"),t.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.shelf.getList();case 2:return t=e.sent,n(q,t.data),e.next=6,Promise.resolve(t.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return t.prev=6,t.t0=t["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from getting shelf list",t.t0.response),t.next=11,Promise.reject(t.t0.response);case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,null,[[1,6]])})))()},addShelf:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Adding shelf"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.shelf.add(t);case 2:return n=e.sent,r(K,n.data),e.next=6,Promise.resolve(n.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from adding shelf",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},editShelf:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Updating shelf"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.shelf.update(t);case 2:return n=e.sent,r(te,n.data),e.next=6,Promise.resolve(n.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from adding shelf",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()},deleteShelf:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,He.methods.$_console_log("[Vuex][Actions] Deleting shelf"),n.abrupt("return",kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_n.shelf.delete(t);case 2:return n=e.sent,r(ie,n.data),e.next=6,Promise.resolve(n.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))));case 6:return n.prev=6,n.t0=n["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error from deleting shelf",n.t0.response),n.next=11,Promise.reject(n.t0.response);case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n,null,[[1,6]])})))()}},$n=(Jt={},Object(Pe["a"])(Jt,N,(function(e){He.methods.$_console_log("[Vuex][Mutations] Clearing library"),e.authors=[],e.books=[],e.bookcases=[],e.genres=[],e.series=[],e.shelves=[]})),Object(Pe["a"])(Jt,F,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Get authors"),e.authors=t})),Object(Pe["a"])(Jt,G,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Add author"),null!==t&&"object"===Object(Mt["a"])(t)&&t.id>0){var n=e.authors.findIndex((function(e){return e.id===t.id}));n<0?(e.authors.push(t),He.methods.$_console_log("[Vuex][Mutations] Author added")):He.methods.$_console_log("[Vuex][Mutations] Author already exists in list!")}})),Object(Pe["a"])(Jt,Q,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Edit author"),null!==t&&"object"===Object(Mt["a"])(t)&&t.id>0){var n=e.authors.findIndex((function(e){return e.id===t.id}));n<0?He.methods.$_console_log("[Vuex][Mutations] Author doesn't exists in list. Can't update it"):(e.authors.splice(n,1,t),He.methods.$_console_log("[Vuex][Mutations] Author updated"))}})),Object(Pe["a"])(Jt,ne,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Delete author"),"number"!==typeof t||t<=0)He.methods.$_console_log("[Vuex][Mutations] Invalid id passed in. Author was not deleted");else{var n=e.authors.findIndex((function(e){return e.id===t}));n<0?He.methods.$_console_log("[Vuex][Mutations] Index was not found in the list. Author not deleted"):(e.authors.splice(n,1),He.methods.$_console_log("[Vuex][Mutations] Author deleted"))}})),Object(Pe["a"])(Jt,P,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Get books"),e.books=t})),Object(Pe["a"])(Jt,z,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Add book"),null!==t&&"object"===Object(Mt["a"])(t)&&t.id>0){var n=e.books.findIndex((function(e){return e.id===t.id}));n<0?(e.books.push(t),He.methods.$_console_log("[Vuex][Mutations] Book added")):He.methods.$_console_log("[Vuex][Mutations] Book already exists in list!")}})),Object(Pe["a"])(Jt,X,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Edit book"),"object"===Object(Mt["a"])(t)&&t.id>0){var n=e.books.findIndex((function(e){return e.id===t.id}));n<0?He.methods.$_console_log("[Vuex][Mutations] Book doesn't exist in list. Can't update it"):(e.books.splice(n,1,t),He.methods.$_console_log("[Vuex][Mutations] Book updated"))}})),Object(Pe["a"])(Jt,re,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Delete book"),"number"!==typeof t||t<=0)He.methods.$_console_log("[Vuex][Mutations] Invalid id passed in. Book was not deleted");else{var n=e.books.findIndex((function(e){return e.id===t}));n<0?He.methods.$_console_log("[Vuex][Mutations] Index was not found in the list. Book was not deleted"):(e.books.splice(n,1),He.methods.$_console_log("[Vuex][Mutations] Book deleted"))}})),Object(Pe["a"])(Jt,U,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Get bookcases"),e.bookcases=t})),Object(Pe["a"])(Jt,Y,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Add bookcase"),null!==t&&"object"===Object(Mt["a"])(t)&&t.id>0){var n=e.bookcases.findIndex((function(e){return e.id===t.id}));n<0?(e.bookcases.push(t),He.methods.$_console_log("[Vuex][Mutations] Bookcase added")):He.methods.$_console_log("[Vuex][Mutations] Bookcase already exists in list!")}})),Object(Pe["a"])(Jt,Z,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Edit bookcase"),null!==t&&"object"===Object(Mt["a"])(t)&&t.id>0){var n=e.bookcases.findIndex((function(e){return e.id===t.id}));n<0?He.methods.$_console_log("[Vuex][Mutations] Bookcase doesn't exists in list. Can't update it"):(e.bookcases.splice(n,1,t),He.methods.$_console_log("[Vuex][Mutations] Bookcase updated"))}})),Object(Pe["a"])(Jt,oe,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Delete bookcase"),"number"!==typeof t||t<=0)He.methods.$_console_log("[Vuex][Mutations] Invalid id passed in. Bookcase was not deleted");else{var n=e.bookcases.findIndex((function(e){return e.id===t}));n<0?He.methods.$_console_log("[Vuex][Mutations] Index was not found in the list. Bookcase not deleted"):(e.bookcases.splice(n,1),He.methods.$_console_log("[Vuex][Mutations] Bookcase deleted"))}})),Object(Pe["a"])(Jt,W,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Get genres"),e.genres=t})),Object(Pe["a"])(Jt,H,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Get series"),e.series=t})),Object(Pe["a"])(Jt,J,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Add series"),null!==t&&"object"===Object(Mt["a"])(t)&&t.id>0){var n=e.series.findIndex((function(e){return e.id===t.id}));n<0?(e.series.push(t),He.methods.$_console_log("[Vuex][Mutations] Series added")):He.methods.$_console_log("[Vuex][Mutations] Series already exists in list!")}})),Object(Pe["a"])(Jt,ee,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Edit series"),null!==t&&"object"===Object(Mt["a"])(t)&&t.id>0){var n=e.series.findIndex((function(e){return e.id===t.id}));n<0?He.methods.$_console_log("[Vuex][Mutations] Series doesn't exists in list. Can't update it"):(e.series.splice(n,1,t),He.methods.$_console_log("[Vuex][Mutations] Series updated"))}})),Object(Pe["a"])(Jt,se,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Delete series"),"number"!==typeof t||t<=0)He.methods.$_console_log("[Vuex][Mutations] Invalid id passed in. Series was not deleted");else{var n=e.series.findIndex((function(e){return e.id===t}));n<0?He.methods.$_console_log("[Vuex][Mutations] Index was not found in the list. Series not deleted"):(e.series.splice(n,1),He.methods.$_console_log("[Vuex][Mutations] Series deleted"))}})),Object(Pe["a"])(Jt,q,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Get shelves"),e.shelves=t})),Object(Pe["a"])(Jt,K,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Add shelf"),null!==t&&"object"===Object(Mt["a"])(t)&&t.id>0){var n=e.shelves.findIndex((function(e){return e.id===t.id}));n<0?(e.shelves.push(t),He.methods.$_console_log("[Vuex][Mutations] Shelf added")):He.methods.$_console_log("[Vuex][Mutations] Shelf already exists in list!")}})),Object(Pe["a"])(Jt,te,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Edit shelf"),null!==t&&"object"===Object(Mt["a"])(t)&&t.id>0){var n=e.shelves.findIndex((function(e){return e.id===t.id}));n<0?He.methods.$_console_log("[Vuex][Mutations] Shelf doesn't exists in list. Can't update it"):(e.shelves.splice(n,1,t),He.methods.$_console_log("[Vuex][Mutations] Shelf updated"))}})),Object(Pe["a"])(Jt,ie,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Delete shelf"),"number"!==typeof t||t<=0)He.methods.$_console_log("[Vuex][Mutations] Invalid id passed in. Shelf was not deleted");else{var n=e.shelves.findIndex((function(e){return e.id===t}));n<0?He.methods.$_console_log("[Vuex][Mutations] Index was not found in the list. Shelf not deleted"):(e.shelves.splice(n,1),He.methods.$_console_log("[Vuex][Mutations] Shelf deleted"))}})),Jt),jn={state:wn,getters:yn,actions:kn,mutations:$n},On=1;function Ln(e){var t={id:On++,text:"",type:1,group:null,read:!1};return"undefined"!==typeof e.text&&(t.text=e.text),"undefined"!==typeof e.type&&(t.type=e.type),"undefined"!==typeof e.read&&(t.read=e.read),"undefined"!==typeof e.group&&null!==e.group&&(t.group={},"undefined"!==typeof e.group.type&&(t.group.type=e.group.type),"undefined"!==typeof e.group.value&&(t.group.value=e.group.value),t.group.num=1),t}var An,Rn={messages:[],numMessages:0,numNewMessages:0,opened:!1},Mn={},Cn={clearNotifications:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,He.methods.$_console_log("[Vuex][Actions] Clearing notifications"),n(ae);case 3:case"end":return t.stop()}}),t)})))()},openNotifications:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,He.methods.$_console_log("[Vuex][Actions] Opening / closing notification message list"),r(de,t);case 3:case"end":return n.stop()}}),n)})))()},readNotification:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,He.methods.$_console_log("[Vuex][Actions] Setting message as read"),r(he,t);case 3:case"end":return n.stop()}}),n)})))()},pushNotification:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,o=e.state,He.methods.$_console_log("[Vuex][Actions] Pushing notification to message list",t),"undefined"!==typeof t.group&&null!==t.group?(s=o.messages.find((function(e){return null!==e.group&&e.group.type===t.group.type&&e.group.value===t.group.value})),"undefined"!==typeof s&&null!==s.group.type&&null!==s.group.value?r(le,{newMsg:t,oldMsg:s}):r(ce,t)):r(ce,t);case 3:case"end":return n.stop()}}),n)})))()},popNotification:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,He.methods.$_console_log("[Vuex][Actions] Popping notification from message list"),r(he,t),o=r(ue,t),n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})))()}},Sn=(Kt={},Object(Pe["a"])(Kt,ae,(function(e){He.methods.$_console_log("[Vuex][Mutations] Clearing notifications"),e.messages=[],e.numMessages=0,e.numNewMessages=0,e.opened=!1})),Object(Pe["a"])(Kt,de,(function(e){He.methods.$_console_log("[Vuex][Mutations] Open / Close message list"),e.opened=!e.opened})),Object(Pe["a"])(Kt,he,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Setting a message as read"),"number"===typeof t){var n=e.messages.findIndex((function(e){return e.id===t}));-1!==n?!1===e.messages[n].read&&(e.messages[n].read=!0,e.numNewMessages--,null!==e.messages[n].group&&(e.messages[n].group.num=0)):He.methods.$_console_log("[Vuex][Mutations] Couldn't find message with id ".concat(t))}else He.methods.$_console_log("[Vuex][Mutations] Passed in value: ".concat(t," is invalid"))})),Object(Pe["a"])(Kt,ce,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Pushing notification to message list"),"undefined"!==typeof t.group&&null!==t.group?e.messages.push(Ln({text:t.text,type:t.type,group:{type:t.group.type,value:t.group.value}})):e.messages.push(Ln({text:t.text,type:t.type,group:null})),e.numMessages++,e.numNewMessages++})),Object(Pe["a"])(Kt,le,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Updating notification in message list");var n=e.messages.findIndex((function(e){return e.id===t.oldMsg.id}));n>-1&&(!0===e.messages[n].read&&(e.numMessages++,e.numNewMessages++),e.messages[n].text=t.newMsg.text,e.messages[n].read=!1,e.messages[n].group.num++)})),Object(Pe["a"])(Kt,ue,(function(e,t){if(He.methods.$_console_log("[Vuex][Mutations] Popping notification from message list"),"number"!==typeof t)return He.methods.$_console_log("[Vuex][Mutations] Passed in value: ".concat(t," is invalid")),null;var n=e.messages.findIndex((function(e){return e.id===t}));if(-1!==n){var r=e.messages[n];return e.messages.splice(n,1),e.numMessages--,r}He.methods.$_console_log("[Vuex][Mutations] Notification with id ".concat(t," not found."))})),Kt),In={state:Rn,getters:Mn,actions:Cn,mutations:Sn},En="api/directory/folder",Tn="api/directory/list",Vn="api/directory/download/file",Dn="api/directory/delete",Bn="api/directory/upload",Nn={loadDirectory:function(e,t){return"undefined"===typeof t||null===t||""===t||!1===t?Ye.get("".concat(En,"/").concat(e)):Ye.get("".concat(En,"/").concat(e,"/").concat(t))},getFile:function(e){return Ye.get("".concat(Vn,"/").concat(e),{params:{token:zn.state.auth.accessToken}})},getFolderList:function(){return Ye.get(Tn)},deleteFile:function(e,t,n){return Ye.request({url:Dn,method:"POST",data:{Name:e,Directory:t,SubDirectory:n}})},uploadFile:function(e){return Ye.request({url:Bn,method:"POST",data:e,headers:{"Content-Type":!1,"Process-Data":!1},timeout:6e4})}},Fn=(n("caad"),n("2532"),function(e){var t="";if(!Array.isArray(e))return t;for(var n=0;n<e.length;n++)t+=e[n],e.length-1!==n&&(t+="/");return t}),Pn=function(e){var t=e,n=[];if("undefined"===typeof e||null===e||""===e)return n;while(t.includes("/")){var r=t.substr(0,t.indexOf("/"));""!==r&&n.push(r),t=t.substr(r.length+1)}return n.push(t),n},Un={contents:[],folders:[],directory:"",subDirectories:[],loadingContents:!1},Wn={},Hn={clearFileExplorer:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,He.methods.$_console_log("[Vuex][Actions] Clearing file-explorer"),n(fe);case 3:case"end":return t.stop()}}),t)})))()},getFolders:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,He.methods.$_console_log("[Vuex][Actions] Getting folder list"),t.prev=2,t.next=5,kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Nn.getFolderList();case 2:return t=e.sent,n(xe,t.data),e.next=6,Promise.resolve(t.data);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))));case 5:return t.abrupt("return",t.sent);case 8:return t.prev=8,t.t0=t["catch"](2),He.methods.$_console_group("[Vuex][Actions] Error getting folder list",t.t0.response),t.next=13,Promise.reject(t.t0.response);case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),t,null,[[2,8]])})))()},loadDirectory:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=e.state,t.prev=1,He.methods.$_console_log("[Vuex][Actions] Getting directory contents"),""!==r.directory){t.next=6;break}return He.methods.$_console_log("[Vuex][Actions] Directory is empty, cancelling directory load."),t.abrupt("return");case 6:return o=Fn(r.subDirectories),n(ye,!0),t.next=10,kt.request(Object(A["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Nn.loadDirectory(r.directory,o);case 2:return t=e.sent,n(me,t.data),n(ye,!1),e.next=7,Promise.resolve(t.data);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)}))));case 10:return t.abrupt("return",t.sent);case 13:return t.prev=13,t.t0=t["catch"](1),He.methods.$_console_group("[Vuex][Actions] Error getting directory contents",t.t0.response),n(ye,!1),t.next=19,Promise.reject(t.t0.response);case 19:return t.abrupt("return",t.sent);case 20:case"end":return t.stop()}}),t,null,[[1,13]])})))()},changeDirectory:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,He.methods.$_console_log("[Vuex][Actions] Changing directory"),r(pe,t);case 3:case"end":return n.stop()}}),n)})))()},goForwardDirectory:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,He.methods.$_console_log("[Vuex][Actions] Going foward a directory"),r(ve,t);case 3:case"end":return n.stop()}}),n)})))()},goBackDirectory:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,He.methods.$_console_log("[Vuex][Actions] Going backward a directory"),n(be);case 3:case"end":return t.stop()}}),t)})))()},goDirectory:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,He.methods.$_console_log("[Vuex][Actions] Going to a specific directory"),o=Pn(t.subDirs),r(ge,{directory:t.directory,subDirs:o});case 4:case"end":return n.stop()}}),n)})))()},addFile:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,He.methods.$_console_log("[Vuex][Actions] Adding a file"),r(_e,t);case 3:case"end":return n.stop()}}),n)})))()},deleteFile:function(e,t){return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,He.methods.$_console_log("[Vuex][Actions] Deleting a file"),r(we,t);case 3:case"end":return n.stop()}}),n)})))()}},qn=(An={},Object(Pe["a"])(An,fe,(function(e){He.methods.$_console_log("[Vuex][Mutations] Clearing file-explorer"),e.contents=[],e.folders=[],e.directory="",e.subDirectories=[]})),Object(Pe["a"])(An,xe,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Getting folder list"),e.folders=t})),Object(Pe["a"])(An,me,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Getting directory contents"),e.contents=t})),Object(Pe["a"])(An,pe,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Changing directory"),e.directory=t,e.subDirectories=[]})),Object(Pe["a"])(An,ve,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Going forward a directory"),e.subDirectories.push(t)})),Object(Pe["a"])(An,ge,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Going forward a directory"),e.directory=t.directory,e.subDirectories=t.subDirs})),Object(Pe["a"])(An,be,(function(e){He.methods.$_console_log("[Vuex][Mutations] Going backward a directory"),e.subDirectories.length>0&&e.subDirectories.pop()})),Object(Pe["a"])(An,_e,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Adding a file"),e.contents.push(t)})),Object(Pe["a"])(An,we,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Deleting a file");var n=e.contents.findIndex((function(e){return e.title===t}));n>-1&&e.contents.splice(n,1)})),Object(Pe["a"])(An,ye,(function(e,t){He.methods.$_console_log("[Vuex][Mutations] Loading contents spinner: ".concat(t)),e.loadingContents=t})),An),Gn={state:Un,getters:Wn,actions:Hn,mutations:qn};o["default"].use(Ne["a"]);var zn=new Ne["a"].Store({getters:r,modules:{auth:At,chat:zt,library:jn,notifications:In,fileExplorer:Gn},strict:!0}),Yn={methods:{$_auth_checkLogin:function(e){return He.methods.$_console_log("[Authentication mixin] $_auth_checkLogin: Called"),zn.state.auth.isAuthorize&&this.$router.replace(this.$route.query.redirect||"/home"),e},$_auth_login:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return He.methods.$_console_log("[Authentication mixin] $_auth_login: Called"),r=!1,n.next=4,t.$store.dispatch("signin",e).then(function(){var e=Object(A["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("getAllOtherUsers").then((function(){return He.methods.$_console_log("Got user list")})).catch((function(){return He.methods.$_console_log("Failed to get user list")})),e.next=3,t.$store.dispatch("getModules").then((function(){return He.methods.$_console_log("Got user modules")})).catch((function(){return He.methods.$_console_log("Failed to get user modules")}));case 3:t.$_auth_checkLogin(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){t.$store.dispatch("signout"),r=!0}));case 4:case"end":return n.stop()}}),n)})))()},$_auth_register:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return He.methods.$_console_log("[Authentication mixin] $_auth_register: Called",e),n.next=3,t.$store.dispatch("register",e).then((function(e){})).catch((function(){return He.methods.$_console_log("Error registering"),Promise.reject("Failed to create user")}));case 3:case"end":return n.stop()}}),n)})))()},$_auth_logout:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return He.methods.$_console_log("[Authentication mixin] $_auth_logout: Called"),t.next=3,e.$store.dispatch("signout").then((function(){})).catch((function(){return He.methods.$_console_log("logout fail")})).then((function(){return e.$router.push({name:"index"})}));case 3:case"end":return t.stop()}}),t)})))()},$_auth_convertRole:function(e){He.methods.$_console_log("[Authentication mixin] $_auth_convertRole: Called");var t=v.Level.Default;return"undefined"===typeof e||null===e?v.Level.Default:(Object.keys(v.Level).forEach((function(n,r){v.Name[n]==e&&(t=v.Level[n])})),He.methods.$_console_log("[Authentication] convertRole: ".concat(t)),t)}}},Jn={data:function(){return{form:{username:"",password:"",checked:!1},passwordOn:!0,show:!0,valid:!0,btnClicked:!1,rules:{username:[function(e){return!!e||"Required"}],password:[function(e){return!!e||"Required"}]},error:!1}},mixins:[Yn],beforeDestroy:function(){window.removeEventListener("keyup",this.enterKeyListener)},mounted:function(){window.addEventListener("keyup",this.enterKeyListener)},methods:{enterKeyListener:function(e){13===e.keyCode&&this.valid&&!this.btnClicked&&this.login()},login:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.btnClicked=!0,t.next=3,e.$_auth_login(e.form).then((function(){e.error=!1})).catch((function(){e.error=!0})).then((function(){return e.btnClicked=!1}));case 3:case"end":return t.stop()}}),t)})))()}}},Kn=Jn,Qn=n("6544"),Xn=n.n(Qn),Zn=n("0798"),er=n("8336"),tr=n("a523"),nr=n("4bd4"),rr=n("8654"),or=Object(k["a"])(Kn,O,L,!1,null,null,null),sr=or.exports;Xn()(or,{VAlert:Zn["a"],VBtn:er["a"],VContainer:tr["a"],VForm:nr["a"],VTextField:rr["a"]});var ir=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.error?n("v-alert",{attrs:{value:!0,type:"error",dismissible:""},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v("There was an error registering you")]):e._e(),e.success?n("v-alert",{attrs:{value:!0,type:"success",dismissible:""},model:{value:e.success,callback:function(t){e.success=t},expression:"success"}},[e._v("User "+e._s(e.form.username)+" successfully created")]):e._e(),n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{rules:e.rules.username,label:"Username",name:"Username",required:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),n("v-text-field",{attrs:{name:"Password",label:"Password","append-icon":e.passwordOn?"visibility":"visibility_off",type:e.passwordOn?"password":"text",rules:e.rules.password,required:""},on:{"click:append":function(t){e.passwordOn=!e.passwordOn}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),n("v-text-field",{attrs:{name:"ConfirmPassword",label:"Confirm Password","append-icon":e.passwordConfirmOn?"visibility":"visibility_off",type:e.passwordConfirmOn?"password":"text",rules:e.rules.confirmPassword,required:""},on:{"click:append":function(t){e.passwordConfirmOn=!e.passwordConfirmOn}},model:{value:e.form.confirmPassword,callback:function(t){e.$set(e.form,"confirmPassword",t)},expression:"form.confirmPassword"}}),n("v-select",{attrs:{items:e.getRoleList,label:"Role",name:"Role","single-line":""},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}}),n("v-btn",{attrs:{disabled:!e.valid||e.btnClicked},on:{click:function(t){return t.preventDefault(),e.register()}}},[e._v("Register")])],1)],1)},ar=[],cr={mixins:[Yn],data:function(){return{passwordOn:!0,passwordConfirmOn:!0,form:{username:"",password:"",confirmPassword:"",role:null},rules:{username:[],password:[],confirmPassword:[]},show:!0,valid:!0,btnClicked:!1,error:!1,success:!1}},computed:{getRoleList:function(){return[{value:"Administrator",text:"Administrator"},{value:"Elevated",text:"Elevated"},{value:"User",text:"User"}]}},beforeDestroy:function(){window.removeEventListener("keyup",this.enterKeyListener)},mounted:function(){window.addEventListener("keyup",this.enterKeyListener),this.form.role=this.getRoleList[0].value},methods:{enterKeyListener:function(e){13===e.keyCode&&this.valid&&!this.btnClicked&&this.register()},register:function(){var e=this;this.btnClicked=!0,this.$_auth_register(this.form).then((function(){e.error=!1,e.success=!0})).catch((function(){e.error=!0,e.success=!1})).then((function(){return e.btnClicked=!1}))}}},ur=cr,lr=n("b974"),dr=Object(k["a"])(ur,ir,ar,!1,null,null,null),hr=dr.exports;Xn()(dr,{VAlert:Zn["a"],VBtn:er["a"],VContainer:tr["a"],VForm:nr["a"],VSelect:lr["a"],VTextField:rr["a"]});var fr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("main-menu",{attrs:{source:"home"}}),n("router-view",{key:e.$route.fullPath}),n("notification-bar")],1)},mr=[],pr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{staticClass:"grey lighten-4",staticStyle:{top:"56px",overflow:"hidden"},attrs:{"disable-resize-watcher":"",width:"150",height:e.getDrawerHeight,absolute:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{light:""}},[e._l(e.routes.children,(function(t){return[e.authorized(t)&&!t.meta.hidden?n("v-list-item",{attrs:{to:{name:t.name}},on:{click:function(t){e.drawer=!1}}},[n("v-list-item-content",[e._v(" "+e._s(t.display)+" ")])],1):e._e()]}))],2)],1),n("v-app-bar",{attrs:{color:"purple",dark:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.drawer=!e.drawer}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:"xs"!==e.$vuetify.breakpoint.name,expression:"$vuetify.breakpoint.name !== 'xs'"}]},[n("v-toolbar-items",{attrs:{dark:""}},e._l(e.routes.children,(function(t,r){return n("div",{staticClass:"menu-toolbar-item"},[e.authorized(t)?[n("div",{directives:[{name:"show",rawName:"v-show",value:r+1<e.maxMenuItems,expression:"(index+1) < maxMenuItems"}]},[t.meta.hidden?e._e():[n("v-btn",{attrs:{to:{name:t.name},dark:"",text:""}},[e._v(e._s(t.display))]),n("v-divider",{staticClass:"mx-3",attrs:{inset:"",vertical:""}})]],2)]:e._e()],2)})),0)],1),n("v-spacer"),n("v-badge",{attrs:{bordered:"",content:e.numNewMessages,value:e.numNewMessages,"mr-2":""}},[n("v-icon",{attrs:{medium:""},on:{click:function(t){return e.$store.dispatch("openNotifications")}}},[e._v("mdi-bell")])],1),n("v-menu",{attrs:{"close-on-content-click":!0,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{icon:""}},r),[n("fa-icon",{attrs:{icon:"ellipsis-v",size:"2x"}})],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-card",[n("v-list",[n("v-list-item",{attrs:{to:{name:"profile"}}},[n("v-avatar",[e.hasAvatar?n("v-img",{attrs:{src:e.avatarPath}}):n("fa-icon",{attrs:{icon:"user",size:"2x"}})],1),n("v-list-item-title",{staticClass:"ml-2"},[e._v(e._s(e.user.displayName))])],1),n("v-list-item",{on:{click:e.$_auth_logout}},[n("fa-icon",{attrs:{icon:"door-open",size:"2x"}}),n("v-list-item-title",{staticClass:"ml-2"},[e._v("Logout")])],1)],1)],1)],1)],1)],1)},gr=[],vr={methods:{$_module_userHasModule:function(e){var t=zn.getters.getActiveModules,n=t.find((function(t){return t.id===e.name||"undefined"!==typeof e.meta.relative&&t.id===e.meta.relative}));return"undefined"!==typeof n}}},br=n("af87"),xr={data:function(){return{routes:[],drawer:!1,menu:!1,menuItems:0,maxMenuItems:0,authLevel:0,screenSize:window.outerWidth}},mixins:[Yn,vr],props:{source:String},computed:Object(Rt["a"])(Object(Rt["a"])({},Object(Ne["b"])({modules:function(e){return e.auth.modules},user:function(e){return e.auth.user},numMessages:function(e){return e.notifications.numMessages},numNewMessages:function(e){return e.notifications.numNewMessages},conversations:function(e){return e.chat.conversations}})),{},{getDrawerHeight:function(){return 16+48*this.menuItems},hasAvatar:function(){return"undefined"!==typeof this.user.avatar&&null!==this.user.avatar&&""!==this.user.avatar},avatarPath:function(){return"".concat("https://localhost:7757","/public/").concat(this.user.avatar)}}),created:function(){var e=this;this.getAuthLevel(),this.routes=Da.find((function(t){return t.name===e.source})),this.$_console_log(this.routes),this.getMenuItemCount()},mounted:function(){this.getMaxMenuItems(),window.addEventListener("resize",this.resizeScreen,!1)},beforeDestroy:function(){window.removeEventListener("resize",this.resizeScreen,!1)},methods:{getMaxMenuItems:function(){var e=document.getElementsByClassName("menu-toolbar-item");if("undefined"===typeof e||null===e)return this.$_console_log("Menu items are null or empty"),1;var t=0;e.forEach((function(e){"undefined"!==typeof e.clientWidth&&(t+=e.clientWidth)}));var n=t/e.length;this.maxMenuItems=Math.floor((this.screenSize-96)/n)},resizeScreen:function(e){this.screenSize=window.outerWidth,this.getMaxMenuItems()},getAuthLevel:function(){var e=this.$store.state.auth.role;e===v.Name.Admin?this.authLevel=v.Level.Admin:e===v.Name.Elevated?this.authLevel=v.Level.Elevated:e===v.Name.General?this.authLevel=v.Level.General:this.authLevel=v.Level.Default},authorized:function(e){return!(e.meta.authLevel>this.authLevel)&&(e.meta.authLevel<=v.Level.Default||(this.authLevel===v.Level.Admin&&e.meta.authLevel===v.Level.Admin||this.$_module_userHasModule(e)))},getMenuItemCount:function(){this.$_console_log("[Menu] Get Menu Count.");for(var e=0;e<this.routes.children.length;e++){var t=this.authorized(this.routes.children[e]);t&&!this.routes.children[e].meta.hidden&&this.menuItems++}}}},_r=xr,wr=n("40dc"),yr=n("5bc1"),kr=n("8212"),$r=n("4ca6"),jr=n("b0af"),Or=n("ce7e"),Lr=n("132d"),Ar=n("adda"),Rr=n("8860"),Mr=n("da13"),Cr=n("5d23"),Sr=n("e449"),Ir=n("f774"),Er=n("2fa4"),Tr=n("2a7f"),Vr=Object(k["a"])(_r,pr,gr,!1,null,null,null),Dr=Vr.exports;Xn()(Vr,{VAppBar:wr["a"],VAppBarNavIcon:yr["a"],VAvatar:kr["a"],VBadge:$r["a"],VBtn:er["a"],VCard:jr["a"],VDivider:Or["a"],VIcon:Lr["a"],VImg:Ar["a"],VList:Rr["a"],VListItem:Mr["a"],VListItemContent:Cr["a"],VListItemTitle:Cr["b"],VMenu:Sr["a"],VNavigationDrawer:Ir["a"],VSpacer:Er["a"],VToolbarItems:Tr["a"]});var Br=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-bottom-sheet",{attrs:{inset:"",dark:""},model:{value:e.sheet,callback:function(t){e.sheet=t},expression:"sheet"}},[n("v-sheet",{staticClass:"text-center scrolling-y",attrs:{height:"160px"}},[n("v-btn",{on:{click:function(t){e.sheet=!e.sheet}}},[e._v("Close")]),e._l(e.reversedMessages,(function(t){return n("div",{key:t.id,staticClass:"scroll-y"},[n("div",{class:[e.getMessageBackground(t.read),"my-1"]},[n("v-banner",{scopedSlots:e._u([{key:"actions",fn:function(){return[n("fa-icon",{staticClass:"mr-2 mb-2",attrs:{color:"#555555",icon:"times"},on:{click:function(n){return e.deleteMessage(t)}}})]},proxy:!0}],null,!0)},[e.messageHasGroupNum(t.group)?n("v-avatar",{attrs:{color:"orange",size:"40"}},[n("span",{staticClass:"white--text headline"},[e._v(e._s(t.group.num))])]):e._e(),n("span",{class:e.getTextColor(t.read),on:{click:function(n){return e.readMessage(t)}}},[e._v(e._s(t.text))])],1)],1)])}))],2)],1)},Nr=[],Fr=(n("fb6a"),{data:function(){return{sheet:!1,isLoading:!1,reversedMessages:[]}},computed:Object(Rt["a"])({},Object(Ne["b"])({messages:function(e){return e.notifications.messages},opened:function(e){return e.notifications.opened}})),watch:{opened:function(e){var t=this;this.isLoading=!0,this.sheet=e,setTimeout((function(){t.isLoading=!1}),5)},sheet:function(e){this.isLoading||this.$store.dispatch("openNotifications",e)},messages:{handler:function(e){this.$_console_log("Messages watcher:",e),this.reversedMessages=e.slice(0).reverse()},deep:!0}},created:function(){this.reversedMessages=this.messages.slice(0).reverse()},methods:{deleteMessage:function(e){this.$_console_log("[Notification Bar] Delete Message with id: ".concat(e.id)),this.$store.dispatch("popNotification",e.id)},readMessage:function(e){this.$_console_log("[Notification Bar] Read Message with id: ".concat(e.id)),this.$store.dispatch("readNotification",e.id)},getTextColor:function(e){return!0===this.$vuetify.theme.dark?e?"white--text":"white--text font-weight-bold":e?"black--text":"black--text font-weight-bold"},getMessageBackground:function(e){return!0===this.$vuetify.theme.dark?e?"grey darken-3":"grey":e?"grey lighten-3":"grey"},messageHasGroupNum:function(e){return!(null===e||e.num<2)}}}),Pr=Fr,Ur=(n("4ea0"),n("e4e5")),Wr=n("288c"),Hr=n("8dd9"),qr=Object(k["a"])(Pr,Br,Nr,!1,null,"64cf46a3",null),Gr=qr.exports;Xn()(qr,{VAvatar:kr["a"],VBanner:Ur["a"],VBottomSheet:Wr["a"],VBtn:er["a"],VSheet:Hr["a"]});var zr={data:function(){return{}},components:{"main-menu":Dr,"notification-bar":Gr},computed:Object(Rt["a"])({},Object(Ne["b"])({user:function(e){return e.auth.user},conversations:function(e){return e.chat.conversations}})),created:function(){this.$store.state.auth.isAuthorize||this.$router.push("/"),"/home"===this.$route.fullPath&&this.$router.push({name:"start"}),this.getUserConversations(),this.$chatHub.$on("message-received",this.onMessageReceived)},beforeDestroy:function(){this.$chatHub.$off("message-received",this.onMessageReceived)},methods:{onMessageReceived:function(e){var t=this;if("object"===Object(Mt["a"])(e)&&null!==e){var n=this.conversations.find((function(t){return t.id===e.conversationId}));e.userId!==this.user.id&&"undefined"!==typeof n&&Array.isArray(n.conversationUsers)&&"undefined"!==typeof n.conversationUsers.find((function(e){return e.userId===t.user.id}))&&(this.$store.dispatch("incrementConversationUnreadMessageCount",n.id),this.$store.dispatch("pushNotification",{text:"You have new messages from ".concat(n.title),type:1,group:{type:"chat",value:n.title}}))}},getUserConversations:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getAllConversationsForUser").then((function(t){e.$store.dispatch("getNewConversationNotifications").then((function(t){e.$_console_log("New message notifications:",t.data),e.buildNotificationList(t.data)})).catch((function(){return e.$_console_log("No new message notifications")}))}));case 2:case"end":return t.stop()}}),t)})))()},buildNotificationList:function(e){var t=this;Array.isArray(e)&&0!==e.length&&e.forEach((function(e){if(Array.isArray(e.messages)&&e.messages.length>0){var n={text:"You have new messages from ".concat(e.title),type:1,group:{type:"chat",value:e.title}};t.$store.dispatch("pushNotification",n)}}))}}},Yr=zr,Jr=Object(k["a"])(Yr,fr,mr,!1,null,null,null),Kr=Jr.exports,Qr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-xs-center"},[n("h1",{staticClass:"orange--text text--darken-3 display-2 mt-3"},[e._v("Welcome to "+e._s(e.name))])])},Xr=[],Zr="Jimmys Server",eo={data:function(){return{name:Zr}}},to=eo,no=Object(k["a"])(to,Qr,Xr,!1,null,null,null),ro=no.exports,oo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-card",[n("v-card-title",{staticClass:"headline text-center"},[n("div",[e._v("User Id: "+e._s(e.user.id))]),n("v-spacer"),n("label",{staticClass:"upload-button",attrs:{id:"upload-button",for:"upload-files"}},[n("v-avatar",[e.hasAvatar?n("v-img",{attrs:{src:e.avatarPath}}):n("v-icon",{attrs:{dark:""}},[e._v("fas fa-user")])],1)],1),n("input",{ref:"fUpload",attrs:{type:"file",name:"upload-files",id:"upload-files",hidden:""},on:{change:e.uploadAvatarImage}})],1),n("v-card-text",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs4:""}},[e._v(" Display name: ")]),!1===e.editDisplayName?n("v-flex",{attrs:{xs8:""},on:{click:function(t){e.editDisplayName=!e.editDisplayName}}},[e._v(" "+e._s(e.user.displayName)+" ")]):n("v-flex",{attrs:{xs8:""}},[n("v-text-field",{attrs:{label:"New Display Name"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateDisplayName()},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.editDisplayName=!1}]},model:{value:e.newDisplayName,callback:function(t){e.newDisplayName=t},expression:"newDisplayName"}})],1)],1)],1)],1)],1)},so=[],io={data:function(){return{uploadFile:null,editDisplayName:!1,newDisplayName:""}},computed:Object(Rt["a"])(Object(Rt["a"])({},Object(Ne["b"])({user:function(e){return e.auth.user}})),{},{hasAvatar:function(){return"undefined"!==typeof this.user.avatar&&null!==this.user.avatar&&""!==this.user.avatar},avatarPath:function(){return"".concat("https://localhost:7757","/public/").concat(this.user.avatar)}}),methods:{uploadAvatarImage:function(e){var t=this,n=e.target.files;if(console.log(n),1===n.length){var r=new FormData;r.append("File",n[0]),this.$store.dispatch("updateAvatarImage",r).then((function(){})).catch((function(){})).then((function(){t.uploadFile=null,t.$refs.fUpload.value=""}))}else this.$_console_log("SetFiles: File list contains more or less than 1 file")},updateDisplayName:function(){var e=this;this.$store.dispatch("updateDisplayName",this.newDisplayName).then((function(){})).catch((function(){})).then((function(){return e.editDisplayName=!1}))}}},ao=io,co=n("99d9"),uo=n("0e8f"),lo=n("a722"),ho=Object(k["a"])(ao,oo,so,!1,null,null,null),fo=ho.exports;Xn()(ho,{VAvatar:kr["a"],VCard:jr["a"],VCardText:co["b"],VCardTitle:co["c"],VContainer:tr["a"],VFlex:uo["a"],VIcon:Lr["a"],VImg:Ar["a"],VLayout:lo["a"],VSpacer:Er["a"],VTextField:rr["a"]});var mo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-card",[n("v-card-title",[e._v(" Manage User's modules ")]),n("v-card-text",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm12:"",md4:""}},[n("v-list-item-group",{model:{value:e.selectedUserPosition,callback:function(t){e.selectedUserPosition=t},expression:"selectedUserPosition"}},e._l(e.userList,(function(t,r){return n("v-list-item",{key:r},[n("v-list-item-content",[e._v(" "+e._s(t.id)+" ")])],1)})),1)],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[n("v-list-item-group",{model:{value:e.selectedModulePosition,callback:function(t){e.selectedModulePosition=t},expression:"selectedModulePosition"}},[e._l(e.moduleList,(function(t,r){return[n("v-list-item",{key:r},[n("v-list-item-icon",{on:{click:function(n){return e.addModuleToUser(t)}}},[e.userHasModule(t)?n("fa-icon",{attrs:{icon:"check"}}):n("fa-icon",{attrs:{icon:"times"}})],1),n("v-list-item-content",[e._v(" "+e._s(t.name)+" ")])],1)]}))],2)],1),n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},["object"===typeof e.selectedModule&&null!==e.selectedModule?n("v-list",[e._l(e.selectedModule.features,(function(t,r){return[n("v-list-item",{key:r},[n("v-list-item-icon",{on:{click:function(n){return e.addFeatureToUser(t)}}},[e.userHasFeature(t)?n("fa-icon",{attrs:{icon:"check"}}):n("fa-icon",{attrs:{icon:"times"}})],1),n("v-list-item-content",[e._v(" "+e._s(t.name)+" ")])],1)]}))],2):e._e()],1)],1)],1)],1)],1)},po=[],go={data:function(){return{selectedModule:null,selectedUser:null,selectedUserPosition:null,selectedModulePosition:null,moduleList:[],userList:[],usersHaveModuleList:[],selectedUserModuleList:[],selectedUserFeatureList:[]}},mounted:function(){this.getData()},watch:{selectedUserPosition:function(e){if("undefined"===typeof e||null===e)return this.selectedUser=null,void(this.selectedModule=null);this.selectedModule=null,this.selectedModulePosition=null,this.selectedUser=this.userList[e],this.updateSelectedUserList(this.userList[e])},selectedModulePosition:function(e){this.selectedModule="undefined"!==typeof e&&null!==e?this.moduleList[e]:null}},methods:{getData:function(){var e=this;kt.request((function(){rt.getUsers().then((function(t){e.$_console_log("[admin-tools] getData: Successfully got user list"),e.userList=t.data})).catch((function(){return e.$_console_log("[admin-tools] getData: Failed to get user list")}))})),kt.request((function(){ht.getAllModules().then((function(t){e.$_console_log("[admin-tools] getData: Successfully got module list"),e.moduleList=t.data})).catch((function(){return e.$_console_log("[admin-tools] getData: Failed to get module list")}))})),kt.request((function(){ht.getAllModulesForAllUser().then((function(t){e.$_console_log("[admin-tools] getData: Successfully got user has module list"),e.usersHaveModuleList=t.data})).catch((function(){return e.$_console_log("[admin-tools] getData: Failed to get module lists for users")}))}))},deleteModuleFromUser:function(e){var t=this;if("undefined"===typeof this.selectedUser||null===this.selectedUser)return this.$_console_log("[admin-tools] deleteModuleFromUser: selected user is null"),!1;if("undefined"===typeof e||null===e)return this.$_console_log("[admin-tools] deleteModuleFromUser: module is null"),!1;var n=Object.assign({},this.selectedUser),r={userId:this.selectedUser.id,moduleAddOnId:e.id};kt.request((function(){ht.deleteModuleFromUser(r).then((function(){t.$_console_log("[admin-tools] deleteModuleFromUser: Successfully deleted module from user");var o=t.usersHaveModuleList[r.userId].findIndex((function(t){return t.id===e.id}));o<0?t.$_console_log("[admmin-tools] deleteModuleFromuser: Index doesn't exist"):(t.usersHaveModuleList[r.userId].splice(o,1),t.updateSelectedUserList(n))})).catch((function(){return t.$_console_log("[admin-tools] deleteModuleFromUser: Failed to delete module from user")}))}))},deleteFeatureFromUser:function(e){var t=this;if("undefined"===typeof this.selectedModule||null===this.selectedModule)return this.$_console_log("[admin-tools] deleteFeatureFromUser: selected user is null"),!1;if("undefined"===typeof e||null===e)return this.$_console_log("[admin-tools] deleteFeatureFromUser: module is null"),!1;var n=Object.assign({},this.selectedUser),r={userId:n.id,moduleFeatureId:e.id},o=Object.assign({},this.selectedModule);kt.request((function(){ht.deleteFeatureFromUser(r).then((function(){t.$_console_log("[admin-tools] deleteFeatureFromUser: Successfully deleted feature from user");var n=t.usersHaveModuleList[r.userId].findIndex((function(e){return e.id===o.id}));if(n<0)t.$_console_log("[admmin-tools] deleteFeatureFromUser: Module index doesn't exist");else if(Array.isArray(t.usersHaveModuleList[r.userId][n].features)){var s=t.usersHaveModuleList[r.userId][n].features.findIndex((function(t){return t.id===e.id}));t.$_console_log("[admin-tools] deleteFeatureFromUser: Got feature id, ",s),s<0?t.$_console_log("[admmin-tools] deleteFeatureFromUser: Feature index doesn't exist"):t.usersHaveModuleList[r.userId][n].features.splice(s,1)}else t.$_console_log("[admmin-tools] deleteFeatureFromUser: Selected user doesn't have any features for this module")})).catch((function(e){return t.$_console_log("[admin-tools] deleteFeatureFromUser: Failed to delete feature from user",e)}))}))},addModuleToUser:function(e){var t=this;if(this.userHasModule(e))this.deleteModuleFromUser(e);else{var n=Object.assign({},this.selectedUser),r={userId:n.id,moduleAddOnId:e.id},o=Object.assign({},e);kt.request((function(){ht.addModuleToUser(r).then((function(e){!0===e.data&&(t.$_console_log("[admin-tools] addModuleToUser: Successfully added module to user"),Array.isArray(t.usersHaveModuleList[r.userId])||(t.usersHaveModuleList[r.userId]=[]),o.features=[],t.usersHaveModuleList[r.userId].push(o),t.updateSelectedUserList(n))})).catch((function(){return t.$_console_log("[admin-tools] addModuleToUser: Failed to get add module to user")}))}))}},addFeatureToUser:function(e){var t=this;if(this.userHasFeature(e))this.deleteFeatureFromUser(e);else{var n=Object.assign({},this.selectedUser),r={userId:this.selectedUser.id,moduleFeatureId:e.id};if(Array.isArray(this.usersHaveModuleList[r.userId])){var o=Object.assign({},this.selectedModule),s=this.usersHaveModuleList[r.userId].findIndex((function(e){return e.id===o.id}));s<0?this.$_console_log("[admin-tools] addFeatureToUser: Can't add a feature to a user that doesn't have the corresponding module"):kt.request((function(){ht.addFeatureToUser(r).then((function(o){!0===o.data&&(t.$_console_log("[admin-tools] addFeatureToUser: Successfully added feature to user"),Array.isArray(t.usersHaveModuleList[r.userId][s].features)||(t.usersHaveModuleList[r.userId][s].features=[]),t.usersHaveModuleList[r.userId][s].features.push(e),t.updateSelectedUserList(n))})).catch((function(){return t.$_console_log("[admin-tools] addFeatureToUser: Failed to get add feature to user")}))}))}else this.$_console_log("[admin-tools] addFeatureToUser: Can't add a feature to a user that doesn't have any modules")}},userHasModule:function(e){return"undefined"===typeof this.selectedUser||null===this.selectedUser?(this.$_console_log("[admin-tools] userHasModule: selected user is null"),!1):"undefined"===typeof e||null===e?(this.$_console_log("[admin-tools] userHasModule: module is null"),!1):Array.isArray(this.selectedUserModuleList)?this.selectedUserModuleList.findIndex((function(t){return t.id===e.id}))>=0:(this.$_console_log("[admin-tools] userHasModule: selected user module list is not an array"),!1)},userHasFeature:function(e){var t=this;if("undefined"===typeof this.selectedUser||null===this.selectedUser)return this.$_console_log("[admin-tools] userHasFeature: selected user is null"),!1;if("undefined"===typeof this.selectedModule||null===this.selectedModule)return this.$_console_log("[admin-tools] userHasFeature: selected module is null"),!1;if("undefined"===typeof e||null===e)return this.$_console_log("[admin-tools] userHasFeature: feature is null"),!1;if(!Array.isArray(this.selectedUserModuleList))return this.$_console_log("[admin-tools] userHasModule: selected user module list is not an array"),!1;var n=this.selectedUserModuleList.findIndex((function(e){return e.id===t.selectedModule.id}));if(n<0)return!1;if(Array.isArray(this.selectedUserModuleList[n].features)){var r=this.selectedUserModuleList[n].features.findIndex((function(t){return t.id===e.id}));if(r>=0)return!0}return!1},updateSelectedUserList:function(e){this.$_console_log("Update Selected User List"),this.selectedUserModuleList="undefined"!==typeof e&&null!==e?this.usersHaveModuleList[e.id]:[]}}},vo=go,bo=n("1baa"),xo=n("34c3"),_o=Object(k["a"])(vo,mo,po,!1,null,null,null),wo=_o.exports;Xn()(_o,{VCard:jr["a"],VCardText:co["b"],VCardTitle:co["c"],VContainer:tr["a"],VFlex:uo["a"],VLayout:lo["a"],VList:Rr["a"],VListItem:Mr["a"],VListItemContent:Cr["a"],VListItemGroup:bo["a"],VListItemIcon:xo["a"]});var yo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"py-0"},[n("div",{staticClass:"headline"},[e._v("Chat System")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isMobile&&!e.hideMobile||!e.isMobile,expression:"(isMobile && !hideMobile) || !isMobile"}]},[n("v-row",{attrs:{"no-gutters":"",align:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"9"}},[n("v-autocomplete",{attrs:{items:e.userList,"item-value":"id","item-text":"displayName","prepend-icon":"mdi-database-search",label:"Select user(s)",loading:e.isLoading,"search-input":e.search,multiple:""},model:{value:e.newConversation.users,callback:function(t){e.$set(e.newConversation,"users",t)},expression:"newConversation.users"}})],1),n("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[n("v-btn",{staticClass:"mb-2",on:{click:e.startConversation}},[e._v("Start Conversation")])],1)],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{directives:[{name:"show",rawName:"v-show",value:e.isMobile&&!e.hideMobile||!e.isMobile,expression:"(isMobile && !hideMobile)|| !isMobile"}],staticClass:"px-0",attrs:{cols:"12",md:"3",lg:"2"}},[Array.isArray(e.conversations)&&e.conversations.length>0?[n("v-list",{attrs:{shaped:""}},e._l(e.conversations,(function(t,r){return n("v-list-item",{key:r,on:{click:function(n){e.selectedConversation=t}}},[n("v-list-item-icon",[n("chat-badge",{attrs:{conversation:t}})],1),n("v-list-item-content",[e._v(" "+e._s(t.title)+" ")])],1)})),1)]:e._e()],2),n("v-col",{directives:[{name:"show",rawName:"v-show",value:e.isMobile&&e.hideMobile||!e.isMobile,expression:"(isMobile && hideMobile)|| !isMobile"}],staticClass:"chat-conversation-window pb-0 px-0 pr-2",attrs:{cols:"12",md:"9",lg:"10"}},[e._l(e.conversations,(function(t,r){return[n("chat-conversation",{attrs:{conversation:t,time:e.currentTime,show:e.shouldShowConversation(t),mobile:e.isMobile},on:{goBack:e.closeConversation}})]}))],2)],1)],1)},ko=[],$o=(n("b65f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[n("v-dialog",{attrs:{"max-width":"400"},model:{value:e.deleteConversationDialog,callback:function(t){e.deleteConversationDialog=t},expression:"deleteConversationDialog"}},[n("v-card",[n("v-card-title",[e._v(" Delete Conversation ")]),n("v-card-text",[e._v(" Are you sure you want to delete this conversation ? ")]),n("v-card-actions",[n("v-btn",{on:{click:e.deleteConversation}},[e._v("Yes")]),n("v-btn",{on:{click:function(t){e.deleteConversationDialog=!1}}},[e._v("No")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"640"},model:{value:e.moreInfoDialog,callback:function(t){e.moreInfoDialog=t},expression:"moreInfoDialog"}},[n("v-card",[n("v-card-title",{staticClass:"justify-center"},[n("h3",[e._v("Message Info")])]),n("v-card-text",[n("v-layout",{attrs:{row:""}},[n("v-flex",{staticClass:"body-1 py-2",attrs:{xs4:""}},[e._v("Message:")]),n("v-flex",{staticClass:"caption py-2",attrs:{xs8:""}},[e._v(e._s(e.moreInfo.text))]),n("v-flex",{staticClass:"body-1 py-2",attrs:{xs4:""}},[e._v("Timestamp:")]),n("v-flex",{staticClass:"caption py-2",attrs:{xs8:""}},[e._v(e._s(e.moreInfo.timestamp))]),n("v-flex",{staticClass:"body-1 py-2",attrs:{xs4:""}},[e._v("User:")]),n("v-flex",{staticClass:"caption py-2",attrs:{xs8:""}},[e._v(e._s(e.moreInfo.username))])],1)],1),n("v-card-actions",[n("v-btn",{on:{click:function(t){e.moreInfoDialog=!1}}},[e._v("Close")])],1)],1)],1),n("div",{attrs:{id:"chat-container"}},[n("v-toolbar",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.mobile,expression:"mobile"}],attrs:{text:""},on:{click:e.goBack}},[n("fa-icon",{attrs:{icon:"reply"}})],1),n("v-btn",{attrs:{text:""},on:{click:function(t){e.editingTitle=!e.editingTitle}}},[n("v-icon",[e._v("mdi-account-edit")])],1),e.editingTitle?n("v-toolbar-title",{staticClass:"ml-3 pl-2",staticStyle:{width:"100%"}},[n("div",{staticStyle:{display:"flex","flex-direction":"row"}},[n("v-text-field",{attrs:{autofocus:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.updateTitle(t))}},model:{value:e.newTitle,callback:function(t){e.newTitle=t},expression:"newTitle"}}),e.mobile?e._e():n("v-btn",{on:{click:e.updateTitle}},[e._v("SAVE")])],1)]):n("v-toolbar-title",[e._v(" "+e._s(e.conversation.title)+" ")]),n("v-spacer"),e.isConversationDeletable?n("v-btn",{attrs:{text:""},on:{click:function(t){e.deleteConversationDialog=!0}}},[n("v-icon",[e._v("mdi-delete")])],1):e._e()],1),n("div",{ref:"chatBodyContainer",staticClass:"chat-body-container",style:{height:e.bodyContainerHeight+"px"}},[n("v-row",{staticClass:"px-0"},e._l(e.conversation.messages,(function(t,r){return n("v-col",{key:r,staticClass:"py-1",attrs:{cols:"12"},on:{mouseover:function(n){return e.setMessageHover(t,!0)},mouseleave:function(n){return e.setMessageHover(t,!1)}}},[n("chat-bubble",{attrs:{message:t,currentTime:e.time,owner:e.isOwner(t)},on:{moreInfo:e.openMoreInfo,deleteMessage:e.deleteMessage},scopedSlots:e._u([e.isLastReadMessage(t)?{key:"lastReadIcon",fn:function(){return[n("chat-avatar",{attrs:{conversation:e.conversation,size:"16"}})]},proxy:!0}:null],null,!0)})],1)})),1)],1),n("div",{ref:"chatTextfield",staticClass:"chat-message-textfield"},[n("v-text-field",{ref:"newMessage",staticClass:"pa-0",attrs:{autofocus:"",label:"Message"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.sendMessage(t))}},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-btn",{attrs:{icon:"",text:""},on:{click:e.sendMessage}},[n("fa-icon",{attrs:{size:"lg",icon:"paper-plane"}})],1)]},proxy:!0}]),model:{value:e.newMessage.text,callback:function(t){e.$set(e.newMessage,"text",t)},expression:"newMessage.text"}})],1)],1)],1)}),jo=[],Oo=(n("a9e3"),n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-container"},[n("div",{class:["bubble-container",e.getFlexDirection]},[n("v-menu",{attrs:{absolute:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;t.attr;return[n("div",e._g({staticClass:"order-2"},r),[n("span",{directives:[{name:"show",rawName:"v-show",value:e.message.hover,expression:"message.hover"}],staticClass:"pa-1",staticStyle:{height:"100%",margin:"0 auto"}},[e._v("...")])])]}}])},[n("v-list",[n("v-list-item",{on:{click:e.moreInfo}},[n("v-list-item-title",[e._v(" More info ")])],1),e.isMessageDeletable?n("v-list-item",{on:{click:e.deleteMessage}},[n("v-list-item-title",[e._v(" Delete Message ")])],1):e._e()],1)],1),n("div",{class:["bubble-body-container",e.getColor,"pa-2","order-1"],on:{click:function(t){return e.readMessage()}}},[n("div",{staticClass:"text-body-1"},[e._v(e._s(e.message.text))]),n("div",{staticClass:"text-caption text-right"},[e._v(e._s(e.timeSince))]),n("div",{staticClass:"bubble-id",staticStyle:{display:"none"}},[e._v(e._s(e.message.id))])])],1),n("div",{class:["bubble-last-read",e.getFlexDirection,"pr-2"]},[e._t("lastReadIcon")],2)])}),Lo=[],Ao={data:function(){return{}},props:{message:{type:Object,required:!0},currentTime:{type:Number,required:!1},owner:{type:Boolean,default:!1},lastMessage:{type:Boolean,default:!1}},computed:Object(Rt["a"])(Object(Rt["a"])({},Object(Ne["b"])({user:function(e){return e.auth.user},activeModules:function(e){return e.auth.activeModules}})),{},{timeSince:function(){if("number"!==typeof this.currentTime||"number"!==typeof this.message.timestamp)return"";var e=this.currentTime-this.message.timestamp;if(e<0)return"";if(e<60)return"".concat(Math.trunc(e),"s");var t=e/60;if(t<60)return"".concat(Math.trunc(t),"m");var n=t/60;if(n<24)return"".concat(Math.trunc(n),"h");var r=n/24;return"".concat(Math.trunc(r),"d")},isMessageDeletable:function(){if(!0===this.owner){var e=this.activeModules.find((function(e){return"chat"===e.id}));if("undefined"!==typeof e){var t=e.userModuleFeatures.find((function(e){return"chat-delete-message"===e.moduleFeatureId}));if("undefined"!==typeof t)return!0}}return!1},getFlexDirection:function(){return this.owner?"flex-right":"flex-left"},getColor:function(){return!0===this.message.highlighted?"highlight":null===this.message.color?this.message.userId===this.user.id?"blue":"green":this.message.color}}),watch:{message:{handler:function(e){var t=this;"undefined"!==typeof e&&!0===e.highlighted&&(this.$_console_log("Message.Highlighted watcher: highlight = true"),setTimeout((function(){t.$store.dispatch("highlightMessage",{messageId:e.id,conversationId:e.conversationId,on:!1})}),6e3))},deep:!0}},methods:{deleteMessage:function(){this.$emit("deleteMessage",this.message.id),this.optionDialog=!1},moreInfo:function(){this.$emit("moreInfo",this.message),this.optionDialog=!1},isMessageReadable:function(){var e=this;if(this.user.id!==this.message.userId){if(!Array.isArray(this.message.readReceipts)||Array.isArray(this.message.readReceipts)&&0===this.message.readReceipts.length)return!0;if("undefined"===typeof this.message.readReceipts.find((function(t){return t.userId===e.user.id})))return!0}return!1},readMessage:function(){this.isMessageReadable()?this.$store.dispatch("readChatMessage",{conversationId:this.message.conversationId,messageId:this.message.id}):this.$_console_log("ReadMessage: Message is not readable")}}},Ro=Ao,Mo=(n("9f66"),Object(k["a"])(Ro,Oo,Lo,!1,null,"78eda714",null)),Co=Mo.exports;Xn()(Mo,{VList:Rr["a"],VListItem:Mr["a"],VListItemTitle:Cr["b"],VMenu:Sr["a"]});var So=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.conversation.conversationUsers.length>2?[n("fa-icon",{attrs:{icon:"users",size:"2x"}})]:!1!==e.friendHasAvatar(e.conversation)?[n("v-avatar",{attrs:{size:e.maxSize}},[n("v-img",{attrs:{src:e.friendHasAvatar(e.conversation)}})],1)]:[n("v-avatar",{attrs:{color:e.getFriendColor(e.conversation),size:e.maxSize}},[n("span",{class:["white--text",e.getTextSize()]},[e._v(e._s(e.getFriendAvatarText(e.conversation)))])])]],2)},Io=[],Eo={data:function(){return{maxSize:0}},props:{conversation:{type:Object,required:!0},size:{type:String,required:!1}},computed:Object(Rt["a"])({},Object(Ne["b"])({user:function(e){return e.auth.user},userList:function(e){return e.auth.otherUsers}})),mounted:function(){"undefined"!==typeof this.size?this.maxSize=this.size:this.maxSize="48"},methods:{friendHasAvatar:function(e){var t=this;if("object"!==Object(Mt["a"])(e)||null===e||!Array.isArray(e.conversationUsers))return!1;if(!Array.isArray(this.userList))return!1;var n=e.conversationUsers.find((function(e){return e.userId!==t.user.id}));if("undefined"===typeof n)return!1;var r=this.userList.find((function(e){return e.id===n.userId}));return"undefined"!==typeof r&&("undefined"!==typeof r.avatar&&"".concat("https://localhost:7757","/public/").concat(r.avatar))},getFriendColor:function(e){var t=this,n="blue";if("object"!==Object(Mt["a"])(e)||null===e||!Array.isArray(e.conversationUsers))return n;var r=e.conversationUsers.find((function(e){return e.userId!==t.user.id}));return"undefined"===typeof r||null===r.color?n:r.color},getFriendAvatarText:function(e){var t=this;if("object"!==Object(Mt["a"])(e)||null===e||!Array.isArray(e.conversationUsers))return!1;if(!Array.isArray(this.userList))return!1;var n=e.conversationUsers.find((function(e){return e.userId!==t.user.id}));if("undefined"===typeof n)return!1;var r=this.userList.find((function(e){return e.id===n.userId}));return"undefined"!==typeof r&&r.displayName.charAt(0)},getTextSize:function(){return this.maxSize>=40?"headline":this.maxSize<40?"caption":void 0}}},To=Eo,Vo=Object(k["a"])(To,So,Io,!1,null,null,null),Do=Vo.exports;Xn()(Vo,{VAvatar:kr["a"],VImg:Ar["a"]});var Bo={data:function(){return{newMessage:null,deleteConversationDialog:!1,moreInfoDialog:!1,editingTitle:!1,newTitle:null,moreInfo:{},chatWindow:null,scrollHeight:0,bodyContainerHeight:0,othersLastReadMessage:-1}},components:{"chat-bubble":Co,"chat-avatar":Do},props:{conversation:{type:Object,required:!0},time:{type:Number,required:!0},show:{type:Boolean,required:!0},mobile:{type:Boolean,required:!0}},created:function(){this.newMessage={text:""},this.$chatHub.$on("message-received",this.onMessageReceived),this.$chatHub.$on("read-receipt-received",this.onReadReceiptReceived),window.addEventListener("resize",this.resizeWindow)},mounted:function(){this.chatWindow=this.$refs.chatBodyContainer,this.chatWindow.addEventListener("scroll",this.windowScroll)},beforeDestroy:function(){this.$chatHub.$off("message-received",this.onMessageReceived),this.$chatHub.$off("read-receipt-received",this.onReadReceiptReceived),this.chatWindow.removeEventListener("scroll",this.windowScroll),window.removeEventListener("resize",this.resizeWindow)},computed:Object(Rt["a"])(Object(Rt["a"])({},Object(Ne["b"])({user:function(e){return e.auth.user},activeModules:function(e){return e.auth.activeModules}})),{},{isConversationDeletable:function(){var e=this.activeModules.find((function(e){return"chat"===e.id}));if("undefined"!==typeof e){var t=e.userModuleFeatures.find((function(e){return"chat-delete-conversation"===e.moduleFeatureId}));if("undefined"!==typeof t)return!0}return!1}}),watch:{editingTitle:function(e){this.newTitle=!1===e?null:this.conversation.title},show:function(e){var t=this;!0===e&&this.$store.dispatch("getMessagesForConversation",this.conversation.id).then((function(e){t.updateContainerHeight(!0),t.updateReadReceiptMarker()}))},scrollHeight:function(e){this.show&&this.chatWindow.scrollHeight<=e+this.chatWindow.clientHeight+1&&(this.$_console_log("Max scroll reached. You're at the bottom, reading all messages."),this.readAllMessages())}},methods:{windowScroll:function(e){this.$_console_log("Scroll event",e),this.scrollHeight=e.target.scrollTop},resizeWindow:function(e){this.updateContainerHeight()},updateContainerHeight:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$nextTick((function(){var n=t.$refs.chatBodyContainer,r=t.$refs.chatTextfield;t.bodyContainerHeight=window.innerHeight-n.offsetTop-r.clientHeight-4,t.$_console_log("Containers",n,r,"Window Height",window.innerHeight,t.bodyContainerHeight),!0===e&&Array.isArray(t.conversation.messages)&&t.conversation.messages.length>0&&(t.$_console_log("Heights: ",t.bodyContainerHeight,t.chatWindow.scrollHeight),t.bodyContainerHeight>=t.chatWindow.scrollHeight?(t.$_console_log("Show watcher: No scrollbar exists. Reading all messages"),t.scrollToBottom()):(t.$_console_log("Show watcher: Message length is greater than 0. Scrolling to last read message"),t.scrollToLastReadMessage()))}));case 1:case"end":return n.stop()}}),n)})))()},onMessageReceived:function(e){var t=this;"object"===Object(Mt["a"])(e)&&null!==e?this.conversation.id===e.conversationId&&this.$store.dispatch("addChatMessage",{conversationId:this.conversation.id,message:e}).then((function(){t.show&&(e.userId!==t.user.id&&t.chatWindow.clientHeight!==t.chatWindow.scrollHeight||t.scrollToBottom())})):this.$_console_log("OnMessageReceived: Null object returned")},onReadReceiptReceived:function(e){var t=this;this.$_console_log("Read receipt received: ",e),"object"===Object(Mt["a"])(e)&&null!==e?this.conversation.id===e.message.conversationId&&this.$store.dispatch("addReadReceipt",{conversationId:this.conversation.id,receipt:e}).then((function(){t.$_console_log("Receipt successfully added to message. Show",t.show),t.show&&t.updateReadReceiptMarker()})):this.$_console_log("OnReadReceiptReceived: Null object returned")},goBack:function(){this.$emit("goBack",!0)},sendMessage:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.newMessage.id=0,e.newMessage.userId=e.user.id,e.newMessage.conversationId=e.conversation.id,t.next=5,Ut.sendMessage(e.newMessage);case 5:e.newMessage={text:""},e.$refs.newMessage.focus();case 7:case"end":return t.stop()}}),t)})))()},isOwner:function(e){return this.user.id===e.userId},getTextPosition:function(e){return e.userId===this.user.id?"text-right":"text-left"},deleteConversation:function(){var e=this;this.$store.dispatch("deleteConversation",this.conversation.id).then((function(){})).catch((function(){})).then((function(){return e.deleteConversationDialog=!1}))},updateTitle:function(){var e=this,t=this.newTitle;/^\s*$/.test(t)?this.editingTitle=!1:this.$store.dispatch("updateConversationTitle",{conversationId:this.conversation.id,title:t}).then((function(){})).catch((function(){})).then((function(){return e.editingTitle=!1}))},openMoreInfo:function(e){this.moreInfo.text=e.text,this.moreInfo.timestamp=e.timestamp,this.moreInfo.username=e.userId,this.moreInfoDialog=!0},deleteMessage:function(e){this.$store.dispatch("deleteChatMessage",{conversationId:this.conversation.id,messageId:e})},canDeleteMessage:function(e){return!(!this.isMessageDeletable||e.userId!==this.user.id)},scrollToBottom:function(){var e=this;this.$nextTick((function(){e.chatWindow.scrollTo(0,e.chatWindow.scrollHeight),e.readAllMessages()}))},scrollToLastReadMessage:function(){var e=this;if(this.show){var t=this.conversation.messages.find((function(t){return e.user.id!==t.userId&&(0===t.readReceipts.length||"undefined"!==typeof t.readReceipts.find((function(t){return t.userId!==e.user.id})))}));"undefined"!==typeof t?this.$nextTick((function(){for(var n=document.getElementsByClassName("bubble-id"),r=null,o=0,s=0;s<n.length;s++)if(o+=n[s].parentNode.offsetHeight,parseInt(n[s].innerText,10)===t.id){r=n[s];break}null!==r&&(e.chatWindow.scrollTo(0,o-e.chatWindow.offsetTop),e.$store.dispatch("highlightMessage",{messageId:t.id,conversationId:t.conversationId,on:!0}),setTimeout((function(){e.$store.dispatch("highlightMessage",{messageId:t.id,conversationId:t.conversationId,on:!1})}),3e3))})):(this.$_console_log("ScrollToLastReadMessage: All messages are read."),this.scrollToBottom())}},readAllMessages:function(){var e=this;if(Array.isArray(this.conversation.messages)){var t=this.conversation.messages.filter((function(t){return(!Array.isArray(t.readReceipts)||0===t.readReceipts.length)&&t.userId!==e.user.id}));Array.isArray(t)&&0!==t.length?(this.$_console_log(t),this.$store.dispatch("readChatMessageList",{conversationId:this.conversation.id,messageIds:t.map((function(e){return e.id}))})):this.$_console_log("ReadAllMessages: NewMessages is null or empty")}},setMessageHover:function(e,t){t?this.$store.dispatch("setMessageHover",{messageId:e.id,conversationId:e.conversationId,on:!0}):this.$store.dispatch("setMessageHover",{messageId:e.id,conversationId:e.conversationId,on:!1})},isLastReadMessage:function(e){return this.othersLastReadMessage>-1&&e.id===this.conversation.messages[this.othersLastReadMessage].id},updateReadReceiptMarker:function(){if(2===this.conversation.conversationUsers.length){var e,t=!1;for(e=this.othersLastReadMessage>-1?this.othersLastReadMessage:0,e;e<this.conversation.messages.length;e++)if(this.conversation.messages[e].userId===this.user.id){if(null!==this.conversation.messages[e].readReceipts&&0===this.conversation.messages[e].readReceipts.length)break;t=!0}if(!0===t){while(e>1)if(this.conversation.messages[--e].userId===this.user.id)break;this.othersLastReadMessage=e}}}}};var No=Bo,Fo=(n("cd52"),n("62ad")),Po=n("169a"),Uo=n("0fd9"),Wo=n("71d9"),Ho=Object(k["a"])(No,$o,jo,!1,null,null,null),qo=Ho.exports;Xn()(Ho,{VBtn:er["a"],VCard:jr["a"],VCardActions:co["a"],VCardText:co["b"],VCardTitle:co["c"],VCol:Fo["a"],VDialog:Po["a"],VFlex:uo["a"],VIcon:Lr["a"],VLayout:lo["a"],VRow:Uo["a"],VSpacer:Er["a"],VTextField:rr["a"],VToolbar:Wo["a"],VToolbarTitle:Tr["b"]});var Go=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.conversation.unreadMessages>0?n("v-badge",{attrs:{content:e.conversation.unreadMessages}},[n("chat-avatar",{attrs:{conversation:e.conversation}})],1):n("chat-avatar",{attrs:{conversation:e.conversation}})],1)},zo=[],Yo={data:function(){return{}},components:{"chat-avatar":Do},props:{conversation:{type:Object,required:!0}}},Jo=Yo,Ko=Object(k["a"])(Jo,Go,zo,!1,null,null,null),Qo=Ko.exports;Xn()(Ko,{VBadge:$r["a"]});var Xo={data:function(){return{selectedConversation:null,newConversation:{users:[]},search:null,isLoading:!1,currentTime:0,hideMobile:!1}},components:{"chat-conversation":qo,"chat-badge":Qo},mounted:function(){this.countTime()},computed:Object(Rt["a"])(Object(Rt["a"])({},Object(Ne["b"])({user:function(e){return e.auth.user},userList:function(e){return e.auth.otherUsers},conversations:function(e){return e.chat.conversations}})),{},{isMobile:function(){return this.$vuetify.breakpoint.mobile}}),watch:{selectedConversation:{handler:function(e,t){this.$_console_log("SelectedConversation",e),this.hideMobile=null!==e},deep:!0}},methods:{countTime:function(){var e=this;this.currentTime=Math.trunc((new Date).getTime()/1e3),setTimeout((function(){e.countTime()}),1e3)},closeConversation:function(){this.selectedConversation=null},getAllConversations:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("getAllConversationsForUser").then((function(t){var n=e.conversation.messages.filter((function(t){return(!Array.isArray(t.readReceipts)||0===t.readReceipts.length)&&t.userId!==e.user.id}));Array.isArray(n)&&0!==n.length||e.$_console_log("ReadAllMessages: NewMessages is null or empty")}));case 1:case"end":return t.stop()}}),t)})))()},startConversation:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("startNewConversation",e.newConversation).then((function(){})).catch((function(){})).then((function(){return e.newConversation.users=[]}));case 1:case"end":return t.stop()}}),t)})))()},shouldShowConversation:function(e){return"object"===Object(Mt["a"])(e)&&null!==e&&"object"===Object(Mt["a"])(this.selectedConversation)&&null!==this.selectedConversation&&e.id===this.selectedConversation.id}}},Zo=Xo,es=n("c6a6"),ts=Object(k["a"])(Zo,yo,ko,!1,null,null,null),ns=ts.exports;Xn()(ts,{VAutocomplete:es["a"],VBtn:er["a"],VCol:Fo["a"],VContainer:tr["a"],VList:Rr["a"],VListItem:Mr["a"],VListItemContent:Cr["a"],VListItemIcon:xo["a"],VRow:Uo["a"]});var rs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("file-explorer",{attrs:{parentView:"browser",goFile:e.goFile},on:{loadFile:e.loadFile}}),n("file-viewer",{attrs:{open:e.dialogOpen},on:{"viewer-off":function(t){e.dialogOpen=!1},"file-back":function(t){return e.browserGo(-1)},"file-forward":function(t){return e.browserGo(1)}}},[e.type===e.mediaTypes.video?[n("p",{attrs:{slot:"header"},slot:"header"},[e._v("Video Player")]),n("video-player",{attrs:{url:e.path,on:e.on},on:{"player-off":function(t){e.on=!1}}})]:e.type===e.mediaTypes.image?[n("p",{attrs:{slot:"header"},slot:"header"},[e._v("Image Viewer")]),n("image-viewer",{attrs:{url:e.path}})]:e.type===e.mediaTypes.text?[n("p",{attrs:{slot:"header"},slot:"header"},[e._v("Text Viewer")]),n("text-viewer",{attrs:{url:e.path,on:e.on},on:{"text-off":function(t){e.on=!1}}})]:e._e()],2)],1)},os=[],ss=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-overlay",{directives:[{name:"show",rawName:"v-show",value:e.loadingContents,expression:"loadingContents"}],attrs:{absolute:"",opacity:"0.50","z-index":"9999"}},[n("v-progress-circular",{staticClass:"browser-loading-circle",attrs:{size:200,width:16,color:"primary",indeterminate:""}})],1),!0===e.features.upload?n("file-upload"):e._e(),n("v-container",[e.selectable?n("v-form",[n("v-layout",{attrs:{row:"",wrap:"","px-2":""}},[n("v-flex",{attrs:{xs12:""}},[n("v-select",{attrs:{items:e.folders,label:"Select a folder","item-text":"name","item-value":"name"},model:{value:e.selectedDirectory,callback:function(t){e.selectedDirectory=t},expression:"selectedDirectory"}})],1)],1)],1):e._e(),n("v-card",[n("v-container",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs1:""}},[e.canGoBack?n("v-btn",{attrs:{icon:""},on:{click:e.goBack}},[n("fa-icon",{attrs:{icon:"arrow-left","ma-2":"","pa-2":""}})],1):e._e()],1),n("v-flex",{attrs:{xs11:""}},[e._v(" "+e._s(e.fullPath)+" ")])],1)],1)],1),e._l(e.contents,(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-action",[n("a",{attrs:{href:e.getDownloadPath(t),download:""}},[n("fa-icon",{attrs:{icon:"download"}})],1)]),n("v-list-item-avatar",[n("fa-icon",{staticStyle:{color:"gray"},attrs:{icon:e.getIcon(t),size:"2x"}})],1),n("v-list-item-content",{class:{"hide-extra":!!e.$vuetify.breakpoint.xsOnly},on:{click:function(n){return e.open(t)}}},[n("tooltip",{attrs:{value:t.title}})],1),t.size>0?n("v-list-item-action",{staticClass:"hidden-xs-only"},[e._v(" "+e._s(e.getFileSize(t.size))+" ")]):e._e(),e.features.delete?n("v-list-item-action",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.deleteItem(t)}}},[n("fa-icon",{attrs:{size:"lg",icon:"window-close"}})],1)],1):e._e()],1)})),n("v-layout",{staticClass:"loading-container",attrs:{row:"","justify-center":""}},[n("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{indeterminate:"",color:"purple",width:12,size:120}})],1)],2)],1)},is=[],as=(n("b680"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tooltip",{attrs:{bottom:"",color:"grey lighten-3","open-delay":"400"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("span",e._g({},r),[e._v(e._s(e.value))])]}}])},[n("v-flex",{staticClass:"tooltip"},[e._t("default",[e._v(e._s(e.value))])],2)],1)}),cs=[],us={data:function(){return{}},props:{value:{type:String,required:!0}}},ls=us,ds=(n("1702"),n("3a2f")),hs=Object(k["a"])(ls,as,cs,!1,null,null,null),fs=hs.exports;Xn()(hs,{VFlex:uo["a"],VTooltip:ds["a"]});var ms=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",{directives:[{name:"show",rawName:"v-show",value:e.uploadFiles.length>0,expression:"uploadFiles.length > 0"}],attrs:{"grid-list-xl":""}},[n("div",{staticClass:"text-xs-center"},[e._v("Files being uploaded...")]),n("v-list",[e._l(e.uploadFiles,(function(t,r){return[n("v-list-item",[n("v-list-item-content",[e._v(" "+e._s(t.name)+" ")])],1)]}))],2)],1),n("v-container",{staticClass:"upload-area",attrs:{"mt-1":""}},[n("v-form",{attrs:{enctype:"multipart/form-data"}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("label",{staticClass:"upload-button",attrs:{id:"upload-button",for:"upload-files"}},[e._v("UPLOAD FILES")])]),n("input",{ref:"fUpload",staticClass:"file-upload",attrs:{type:"file",name:"upload-files",id:"upload-files",multiple:"",hidden:""},on:{change:e.setFiles}})],1)],1)],1)],1)},ps=[],gs={data:function(){return{uploadFiles:[]}},computed:Object(Rt["a"])({},Object(Ne["b"])({directory:function(e){return e.fileExplorer.directory},subDirectories:function(e){return e.fileExplorer.subDirectories}})),methods:{setFiles:function(e){this.$_console_log(e.target.files);for(var t=0;t<e.target.files.length;t++)this.uploadFiles.push(e.target.files[t]);this.uploadMultipleFiles()},uploadMultipleFiles:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e.uploadFiles.length)){t.next=8;break}return e.$_console_log(e.uploadFiles[n].name),t.next=5,e.sendFile(e.uploadFiles[n]).then((function(t){e.$_console_log("File sent!")})).catch((function(){e.$_console_log("Failed to upload file")}));case 5:n++,t.next=1;break;case 8:e.uploadFiles=[],e.$refs.fUpload.value="",e.$_console_log("Finished sending all files");case 11:case"end":return t.stop()}}),t)})))()},sendFile:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=new FormData,r.append("File",e),r.append("Name",e.name),r.append("Directory",t.directory),o=Fn(t.subDirectories),t.$_console_log("SubDirs: ",o),""!==o&&r.append("SubDirectory",o),n.next=9,Nn.uploadFile(r).then((function(n){t.$_console_log("Successfully uploaded file"),t.$store.dispatch("addFile",n.data),t.$store.dispatch("pushNotification",{text:"Successfully uploaded file ".concat(e.name),type:0})})).catch((function(){t.$_console_log("Error uploading files"),t.$store.dispatch("pushNotification",{text:"Failed uploading file ".concat(e.name),type:2})}));case 9:case"end":return n.stop()}}),n)})))()}}},vs=gs,bs=(n("5787"),Object(k["a"])(vs,ms,ps,!1,null,"05dd7626",null)),xs=bs.exports;Xn()(bs,{VContainer:tr["a"],VFlex:uo["a"],VForm:nr["a"],VLayout:lo["a"],VList:Rr["a"],VListItem:Mr["a"],VListItemContent:Cr["a"]});var _s="https://localhost:7757",ws={data:function(){return{selectedDirectory:"",loading:!1,changing:!1,features:{upload:!1,delete:!1,viewing:!1}}},mixins:[Yn],components:{tooltip:fs,"file-upload":xs},props:{selectable:{type:Boolean,default:!0},parentView:{type:String,required:!0},goFile:{type:Object,default:function(){}}},created:function(){this.setActiveFeatures()},mounted:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Array.isArray(e.folders)&&(!Array.isArray(e.folders)||0!==e.folders.length)){t.next=3;break}return t.next=3,e.$store.dispatch("getFolders");case 3:e.getDirectoryFromRoute();case 4:case"end":return t.stop()}}),t)})))()},computed:Object(Rt["a"])(Object(Rt["a"])({},Object(Ne["b"])({contents:function(e){return e.fileExplorer.contents},folders:function(e){return e.fileExplorer.folders},directory:function(e){return e.fileExplorer.directory},subDirectories:function(e){return e.fileExplorer.subDirectories},loadingContents:function(e){return e.fileExplorer.loadingContents},activeModules:function(e){return e.auth.activeModules}})),{},{fullPath:function(){return"undefined"!==typeof this.directory&&null!==this.directory?Array.isArray(this.subDirectories)&&this.subDirectories.length>0?"".concat(this.directory,"/").concat(Fn(this.subDirectories)):this.directory:""},canGoBack:function(){return"undefined"!==typeof this.$route.params.folder&&this.$route.params.folder!==this.selectedDirectory}}),watch:{selectedDirectory:function(e){this.changing||(this.$_console_log("[FileExplorer] Watcher - Selected directory: ",e),this.$router.push({name:"browser-folder",params:{folder:e}}))},goFile:{handler:function(e){if("object"!==Object(Mt["a"])(e)||null===e)return this.$_console_log("[FileExplorer] goFile watcher: value is not an object or null"),void(this.goFile={file:null,num:0});if(0!==e.num){var t=this.contents.filter((function(e){return!1===e.isFolder})).slice(0);if(this.$_console_log("Folderless List:",t),0!==t.length){var n=t.findIndex((function(t){return encodeURI(t.title)===e.file}));if(-1!==n)if(n+e.num>=t.length)this.$_console_log("[FileExplorer] goFile watcher: Navigating here will overflow the list.");else if(n+e.num<0)this.$_console_log("[FileExplorer] goFile watcher: Navigating here will underflow the list.");else{var r=t[n+e.num];this.open(r)}else this.$_console_log("[FileExplorer] goFile watcher: File not found in list")}else this.$_console_log("[FileExplorer] goFile watcher: This folder only contains other folders. Nothing to load.")}else this.$_console_log("[FileExplorer] goFile watcher: Num is 0, therefore we aren\t navigating to a new file")},deep:!0}},methods:{setActiveFeatures:function(){var e=this.activeModules.find((function(e){return"browser"===e.id}));"undefined"!==typeof e&&Array.isArray(e.userModuleFeatures)&&(e.userModuleFeatures.some((function(e){return"browser-upload"===e.moduleFeatureId}))&&(this.features.upload=!0),e.userModuleFeatures.some((function(e){return"browser-delete"===e.moduleFeatureId}))&&(this.features.delete=!0),e.userModuleFeatures.some((function(e){return"browser-viewer"===e.moduleFeatureId}))&&(this.features.viewing=!0))},getDirectoryFromRoute:function(){var e=this;this.changing=!0,setTimeout((function(){if("undefined"!==typeof e.$route.params.folder)e.$_console_log("[file-explorer] getDirectoryFromRoute: Params.folder is not null, getting base path from url",e.$route.params.folder),e.$route.params.folder.includes("/")?e.selectedDirectory=e.$route.params.folder.substring(0,e.$route.params.folder.indexOf("/")):e.selectedDirectory=e.$route.params.folder;else{var t=e.folders.find((function(e){return!0===e.default}));"undefined"!==typeof t&&(e.selectedDirectory=t.name,e.$router.push({name:"browser-folder",params:{folder:e.selectedDirectory}}))}setTimeout((function(){e.changing=!1}),5)}),25)},open:function(e){var t=this;if(e.isFolder){var n="";if("undefined"===this.$route.params.folder)return void this.$_console_log("[file-explorer] open: Params.folder is null");n=this.$route.params.folder+"/"+e.title,this.$router.push({name:"browser-folder",params:{folder:n}})}else this.features.viewing&&(this.$_console_log("[FILE EXPLORER] Open Item: item, dl path",e,this.getFilePath(e)),setTimeout((function(){t.$emit("loadFile",t.getFilePath(e))}),125))},goBack:function(){var e="";if("undefined"!==this.$route.params.folder){var t=this.$route.params.folder.lastIndexOf("/");-1!==t?(e=this.$route.params.folder.substring(0,t),this.$router.push({name:"browser-folder",params:{folder:e}})):this.$_console_log("[file-explorer] goBack: Params.folder has no / in it. Can't go back from base path")}else this.$_console_log("[file-explorer] goBack: Params.folder is null")},getDownloadPath:function(e){return"".concat(_s,"/api/directory/download/file/").concat(encodeURI(this.fullPath),"/").concat(encodeURIComponent(e.title),"?token=").concat(this.$store.state.auth.accessToken)},getFilePath:function(e){return"".concat(encodeURI(this.fullPath),"/").concat(encodeURIComponent(e.title))},getIcon:function(e){return e.isFolder?"folder":"file"},getFileSize:function(e){var t=0;while(e/1024>1)e/=1024,t++;return"".concat(e.toFixed(2)," ").concat(this.getType(t))},getType:function(e){switch(e){case 0:return"B";case 1:return"KB";case 2:return"MB";case 3:return"GB";case 4:return"TB"}},deleteItem:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!1!==t.deleteEnabled){n.next=2;break}return n.abrupt("return",t.$_console_log("You must have the appropriate permission to delete"));case 2:if("undefined"!==typeof e&&null!==e&&""!==e){n.next=4;break}return n.abrupt("return",t.$_console_log("Invalid file info, can't delete"));case 4:return t.$_console_log("Delete: ".concat(e.title)),n.next=7,Nn.deleteFile(e.title,t.directory,Fn(t.subDirectories)).then((function(n){t.$_console_log("Successfully deleted the file"),t.$store.dispatch("deleteFile",e.title)})).catch((function(){return t.$_console_log("Error deleting the item in upload")}));case 7:case"end":return n.stop()}}),n)})))()}}},ys=ws,ks=(n("8ec8"),n("1800")),$s=n("8270"),js=n("a797"),Os=n("490a"),Ls=Object(k["a"])(ys,ss,is,!1,null,null,null),As=Ls.exports;Xn()(Ls,{VBtn:er["a"],VCard:jr["a"],VContainer:tr["a"],VFlex:uo["a"],VForm:nr["a"],VLayout:lo["a"],VListItem:Mr["a"],VListItemAction:ks["a"],VListItemAvatar:$s["a"],VListItemContent:Cr["a"],VOverlay:js["a"],VProgressCircular:Os["a"],VSelect:lr["a"]});var Rs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":e.getMaxWidth,fullscreen:e.isMobile},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-toolbar",[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.dialog=!1}}},[n("fa-icon",{attrs:{icon:"window-close"}})],1),n("v-toolbar-title",{staticClass:"headline pl-2"},[e._t("header",[e._v(" File Viewer ")])],2)],1),n("v-card",[n("v-card-text",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs1:""}},[n("v-btn",{staticClass:"chevron-center",attrs:{icon:""},on:{click:function(t){return e.goBack()}}},[n("fa-icon",{attrs:{icon:"chevron-left",size:"3x"}})],1)],1),n("v-flex",{attrs:{xs10:""}},[e._t("default",[e._v(" File Viewer contents ")])],2),n("v-flex",{attrs:{xs1:""}},[n("v-btn",{staticClass:"chevron-center",attrs:{icon:""},on:{click:function(t){return e.goForward()}}},[n("fa-icon",{attrs:{icon:"chevron-right",size:"3x"}})],1)],1)],1)],1)],1)],1)},Ms=[];window.mobilecheck=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e};var Cs={name:"file-viewer",data:function(){return{windowHeight:window.innerHeight,windowWidth:window.innerWidth,dialog:!1}},props:{open:{type:Boolean,required:!0}},computed:{getMaxWidth:function(){var e=window.mobilecheck();return e?320:this.windowWidth>=1904?1785:this.windowWidth>=1600?1400:this.windowWidth>=1264?1185:this.windowWidth>=960?900:.95*this.windowWidth},isMobile:function(){return this.getMaxWidth<960}},watch:{dialog:function(e){!1===e&&this.$emit("viewer-off",!0)},open:function(e){this.dialog=e}},mounted:function(){window.addEventListener("resize",this.getWindowSize),window.addEventListener("keyup",this.keypressNavigation)},beforeDestroy:function(){window.removeEventListener("resize",this.getWindowSize),window.removeEventListener("keyup",this.keypressNavigation)},methods:{getWindowSize:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth},keypressNavigation:function(e){37===e.keyCode?this.goBack():39===e.keyCode&&this.goForward()},goBack:function(){this.$_console_log("[File Viewer] Go Back"),this.$emit("file-back")},goForward:function(){this.$_console_log("[File Viewer] Go Forward"),this.$emit("file-forward")}}},Ss=Cs,Is=(n("e29a"),Object(k["a"])(Ss,Rs,Ms,!1,null,null,null)),Es=Is.exports;Xn()(Is,{VBtn:er["a"],VCard:jr["a"],VCardText:co["b"],VDialog:Po["a"],VFlex:uo["a"],VLayout:lo["a"],VToolbar:Wo["a"],VToolbarTitle:Tr["b"]});var Ts=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-container center"},[n("video",{ref:"player",staticClass:"video-player",attrs:{id:"video-player",preload:"none",width:"420",controls:""}},[n("source",{attrs:{src:e.path}})])])},Vs=[],Ds={name:"video-player",data:function(){return{player:null,path:null}},props:{url:{type:String,required:!0},on:{type:Boolean,required:!0}},mounted:function(){this.player=document.getElementById("video-player")},computed:Object(Rt["a"])(Object(Rt["a"])({},Object(Ne["b"])({accessToken:function(e){return e.auth.accessToken}})),{},{type:function(){if("undefined"===typeof this.url||""===this.url)return this.$_console_log("[VIDEO PLAYER] type: Undefined or empty"),"";if(!this.url.includes("."))return this.$_console_log("[VIDEO PLAYER] type: Doesn't include a period (.) "),"";var e=this.url.lastIndexOf("."),t=this.url.slice(e).toLowerCase();switch(t){case".mkv":case".avi":case".mpeg":case".mpg":case".mp4":case".wmv":return"video/mp4";case".webm":return"video/webm";case".mp3":return"audio/mpeg";default:return""}}}),watch:{on:function(e){this.pausePlayer(),!0===e&&this.loadPlayer()},url:function(e){this.$_console_log("[Video Player] Url watcher: url value",e),this.pausePlayer(),"undefined"!==typeof e&&null!==e&&""!==e?this.loadPlayer():this.$_console_log("[Video Player] Empty url string")}},methods:{loadPlayer:function(){this.path="".concat("https://localhost:7757","/api/serve-file/").concat(this.url,"?token=").concat(this.accessToken);var e=this;setTimeout((function(){e.player.load(),e.player.canPlayType(e.type)?e.player.play():e.$_console_log("[Video Player] Load Player: Can't play type")}),25)},pausePlayer:function(){this.player.pause()}}},Bs=Ds,Ns=(n("8bdb"),Object(k["a"])(Bs,Ts,Vs,!1,null,"2c58ae1f",null)),Fs=Ns.exports,Ps=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",[e._l(e.lines,(function(t){return[n("v-row",e._l(t,(function(t){return n("span",[" "===t?void 0:e._e(),"\t"===t?void 0:e._e(),"\r"===t?void 0:[e._v(" "+e._s(t)+" ")]],2)})),0)]}))],2)],1)},Us=[],Ws={name:"text-viewer",data:function(){return{text:null,lines:[]}},props:{url:{type:String,required:!0},on:{type:Boolean,required:!0}},watch:{on:function(e){!0===e&&(this.lines=[],this.getData())},url:function(e){this.$_console_log("[Text Viewer] Url watcher: url value",e),this.getData()}},methods:{getData:function(){var e=this;if("undefined"!==typeof this.url&&null!==this.url&&""!==this.url){var t=this.url;kt.request((function(){return Nn.getFile(t).then((function(t){e.$_console_log("File data:",t.data);var n=t.data;e.lines=[];for(var r="",o=0;o<n.length;o++)"\n"===n[o]?(e.lines.push(r),r=""):r+=n[o];e.lines.push(r)})).catch((function(){e.$_console_log("[Text Viewer] Get Data: Failed to get data from ".concat(t))}))}))}else this.$_console_log("[Text Viewer] Get Data: url value is null or empty")}}},Hs=Ws,qs=Object(k["a"])(Hs,Ps,Us,!1,null,null,null),Gs=qs.exports;Xn()(qs,{VContainer:tr["a"],VRow:Uo["a"]});var zs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-img",{attrs:{src:e.getPath,"max-width":e.getMaxWidth,"max-height":e.getMaxHeight,contain:""}})},Ys=[],Js={name:"text-viewer",data:function(){return{windowHeight:window.innerHeight,windowWidth:window.innerWidth,basepath:"https://localhost:7757"}},props:{url:{type:String,required:!0}},computed:Object(Rt["a"])(Object(Rt["a"])({},Object(Ne["b"])({accessToken:function(e){return e.auth.accessToken}})),{},{getMaxWidth:function(){return.8*this.windowWidth},getMaxHeight:function(){return.66*this.windowHeight},getPath:function(){return"".concat(this.basepath,"/api/directory/download/file/").concat(this.url,"?token=").concat(this.accessToken)}}),watch:{url:function(e){this.$_console_log("[Image Viewer] Url watcher: url value",e)}},mounted:function(){window.addEventListener("resize",this.getWindowSize)},beforeDestroy:function(){window.removeEventListener("resize",this.getWindowSize)},methods:{getWindowSize:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth}}},Ks=Js,Qs=Object(k["a"])(Ks,zs,Ys,!1,null,null,null),Xs=Qs.exports;Xn()(Qs,{VImg:Ar["a"]});var Zs={data:function(){return{level:0,folders:[],type:null,path:null,on:!1,dialogOpen:!1,mediaTypes:{video:"video",image:"image",text:"text"},goFile:{file:null,num:0}}},components:{"file-explorer":As,"file-viewer":Es,"video-player":Fs,"text-viewer":Gs,"image-viewer":Xs},beforeRouteEnter:function(e,t,n){return Object(A["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,ei(e,t,n);case 2:o=r.sent,o?n():(zn.dispatch("pushNotification",{text:"Failed to change route to this location (".concat(e.fullPath,"). It must not exist."),type:2,group:{type:"browser",value:"pathFail"}}),Na.push({name:"browser"}));case 4:case"end":return r.stop()}}),r)})))()},beforeRouteUpdate:function(e,t,n){return Object(A["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,ei(e,t,n);case 2:o=r.sent,o?n():(zn.dispatch("pushNotification",{text:"Failed to change route to this location (".concat(e.fullPath,"). It must not exist."),type:2,group:{type:"browser",value:"pathFail"}}),Na.push({name:"browser"}));case 4:case"end":return r.stop()}}),r)})))()},beforeRouteLeave:function(e,t,n){"browser-folder"!==e.name&&zn.dispatch("clearFileExplorer"),n()},created:function(){var e=this.$store.state.auth.role;e===v.Name.Admin?this.level=v.Level.Admin:e===v.Name.Elevated?this.level=v.Level.Elevated:e===v.Name.General?this.level=v.Level.General:this.$router.push({name:"start"})},watch:{dialogOpen:function(e){if(!1===e)if(this.on)this.on=!1;else{var t=this;this.on=!0,setTimeout((function(){t.on=!1}),50)}}},methods:{getType:function(e){if("undefined"===typeof e||""===e)return this.$_console_log("[File Viewer] getType: Undefined or empty"),this.mediaTypes.text;if(!e.includes("."))return this.$_console_log("[File Viewer] getType: Doesn't include a period (.) "),this.mediaTypes.text;var t=e.lastIndexOf("."),n=e.slice(t).toLowerCase();switch(n){case".mkv":case".avi":case".mpeg":case".mpg":case".mp4":case".wmv":case".webm":case".mp3":return this.mediaTypes.video;case".jpg":case".jpeg":case".gif":case".tiff":case".bmp":case".png":case".img":return this.mediaTypes.image;default:return this.mediaTypes.text}},loadFile:function(e){var t=this;this.$_console_log("[BROWSER] LoadFile: ",e),this.type=this.getType(e),this.path=e,this.dialogOpen=!0,setTimeout((function(){t.on=!0}),15)},browserGo:function(e){var t;"number"===typeof e&&0!==e?"string"===typeof this.path?(this.path.includes("/")?this.path.lastIndexOf("/")===this.path.length-1?(t=this.path.substring(0,this.path.lastIndexOf("/")),t.includes("/")&&(t=t.lastIndexOf("/")===t.length-1?t.substring(0,t.lastIndexOf("/")):t.substring(t.lastIndexOf("/")+1))):t=this.path.substring(this.path.lastIndexOf("/")+1):t=this.path,this.goFile={file:t,num:e}):this.$_console_log("[Browser] Browser Go: Path is not a string"):this.$_console_log("[Browser] Browser Go: Number is not a number or 0")}}};function ei(e,t,n){return ti.apply(this,arguments)}function ti(){return ti=Object(A["a"])(regeneratorRuntime.mark((function e(t,n,r){var o,s,i,a,c,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return He.methods.$_console_log("Route changed. To, from:",t,n),o=!1,s=!1,i=null,a=null,c=null,u=null,"undefined"!==typeof t.params.folder&&(t.params.folder.includes("/")?(o=!0,l=t.params.folder.indexOf("/"),i=t.params.folder.substring(0,l),c=t.params.folder.substring(l+1)):i=t.params.folder),"undefined"!==typeof n.params.folder&&(n.params.folder.includes("/")?(s=!0,d=t.params.folder.indexOf("/"),a=n.params.folder.substring(0,d),u=n.params.folder.substring(d+1)):a=n.params.folder),He.methods.$_console_log("Route change info: ",o,i,c,s,a,u),t.params.folder===n.params.folder?He.methods.$_console_log("Staying in the same folder"):a!==i&&!1===o?zn.dispatch("changeDirectory",i):null!==i&&o&&zn.dispatch("goDirectory",{directory:i,subDirs:c}),e.prev=11,e.next=14,zn.dispatch("loadDirectory");case 14:e.next=38;break;case 16:if(e.prev=16,e.t0=e["catch"](11),!(e.t0.status>=400)){e.next=38;break}if(null===u){e.next=26;break}return e.next=22,zn.dispatch("goDirectory",{directory:a,subDirs:u});case 22:return e.next=24,zn.dispatch("loadDirectory");case 24:e.next=38;break;case 26:if(null===a){e.next=33;break}return e.next=29,zn.dispatch("goDirectory",{directory:a,subDirs:null});case 29:return e.next=31,zn.dispatch("loadDirectory");case 31:e.next=38;break;case 33:return e.next=35,zn.dispatch("clearFileExplorer");case 35:return e.next=37,zn.dispatch("loadDirectory");case 37:return e.abrupt("return",!1);case 38:return e.abrupt("return",!0);case 39:case"end":return e.stop()}}),e,null,[[11,16]])}))),ti.apply(this,arguments)}var ni=Zs,ri=Object(k["a"])(ni,rs,os,!1,null,null,null),oi=ri.exports,si=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("h3",[e._v("List of notes:")]),n("v-layout",{attrs:{row:"",wrap:""}},e._l(e.noteList,(function(t){return n("div",{key:t.id},[n("note-editor",{attrs:{obj:t},on:{delete:e.deleteOld,create:e.updateNote,updateObj:e.modifyOld}})],1)})),0),n("v-layout",{staticClass:"note-container",attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[e._v(" Create new note: "),n("v-btn",{attrs:{icon:""},on:{click:e.create}},[n("fa-icon",{attrs:{icon:"plus"}})],1)],1),n("v-flex",e._l(e.newNotes,(function(t,r){return n("div",{key:t.id},[n("note-editor",{attrs:{obj:t},on:{delete:e.deleteNew,create:e.addNew,updateObj:e.modifyNew}})],1)})),0)],1)],1)},ii=[],ai="api/note/getall",ci="api/note/get",ui="api/note/create",li="api/note/update",di="api/note/delete",hi={getAllNotes:function(){return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye.get(ai));case 1:case"end":return e.stop()}}),e)})))()},getNotes:function(){return Ye.get(ci)},deleteNote:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Ye.request({url:di,method:"delete",params:{id:e}}));case 1:case"end":return t.stop()}}),t)})))()},createNote:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Ye.post(ui,e));case 1:case"end":return t.stop()}}),t)})))()},updateNote:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Ye.request({url:li,method:"put",data:e,headers:{"Content-Type":"application/json"}}));case 1:case"end":return t.stop()}}),t)})))()}},fi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"note-container"},[n("div",{staticClass:"note-card"},[n("div",{staticClass:"nav-bar"},[n("div",{staticClass:"nav-header left close",on:{click:e.deleteNote}},[n("div",{staticClass:"nav-bar-item left"},[e._v("X")])]),n("div",{staticClass:"nav-header center"},[n("div",{ref:"title",staticClass:"textarea title",attrs:{contenteditable:"true"}})]),n("div",{staticClass:"nav-header right create",on:{click:e.createNote}},[n("div",{staticClass:"nav-bar-item right"},[e._v("SAVE")])])]),n("div",{staticClass:"note-inner-container"},[n("div",{ref:"note",staticClass:"textarea main",attrs:{contenteditable:"true"}}),n("div",{ref:"footer",staticClass:"nav-footer"})])])])},mi=[],pi={data:function(){return{note:{id:0,priority:0,type:0,color:"yellow",text:"",title:"",updated:""},menu:{text_styling:[1,2,3]}}},props:{obj:{type:Object,required:!0}},computed:{},watch:{"obj.updated":function(){this.note.updated=this.obj.updated,this.$refs.footer.innerText=this.getTime(this.obj.updated)}},created:function(){this.obj&&(this.note=Object.assign({},this.obj))},mounted:function(){if(this.$refs.note.innerText=this.obj.text,this.$refs.title.innerText=this.obj.title,""!==this.obj.updated){var e=this.getTime(this.obj.updated);"Invalid date"!==e&&(this.$refs.footer.innerText=e)}this.$refs.note.addEventListener("keyup",this.updateText,!1),this.$refs.title.addEventListener("keyup",this.updateTitle,!1)},beforeDestroy:function(){this.$refs.note.removeEventListener("keyup",this.updateText,!1),this.$refs.title.removeEventListener("keyup",this.updateTitle,!1)},methods:{updateText:function(){var e=this;setTimeout((function(){e.$_console_log("Text: "+e.$refs.note.innerText),e.note.text=e.$refs.note.innerText,e.$emit("updateObj",e.note)}),1)},updateTitle:function(){var e=this;setTimeout((function(){e.$_console_log("Title: "+e.$refs.title.innerText),e.note.title=e.$refs.title.innerText,e.$emit("updateObj",e.note)}),1)},deleteNote:function(){this.$emit("delete",this.note)},createNote:function(){this.$emit("create",this.note)},getTime:function(e){return this.$moment(new Date(e)).format("lll")}}},gi=pi,vi=(n("bbb5"),Object(k["a"])(gi,fi,mi,!1,null,"2a596b5e",null)),bi=vi.exports;function xi(e){return{priority:0,color:"",id:e,text:"",type:0,title:"",user:""}}var _i={data:function(){return{activeNote:{priority:0,color:"",created:"",id:0,text:"",type:0,updated:"",user:""},newNotes:[],noteList:[],idCount:-1}},components:{"note-editor":bi},created:function(){this.newNotes.push(xi(this.idCount--)),this.getData()},methods:{getData:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$_console_log("[Notes] Get notes"),kt.request((function(){hi.getNotes().then((function(t){e.$_console_log("[notes] success getting notes",t),""!==t.data&&(e.noteList=t.data)})).catch((function(){return e.$_console_log("[notes] error getting notes")}))}));case 2:case"end":return t.stop()}}),t)})))()},create:function(){this.newNotes.push(xi(this.idCount--))},deleteOld:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:kt.request((function(){hi.deleteNote(e.id).then((function(n){t.$_console_log("[Notes] Succesfully deleted note.");var r=t.noteList.findIndex((function(t){return t.id===e.id}));r<0?t.$_console_log("[Notes] Note doesn't exist in the list"):t.noteList.splice(r,1)})).catch((function(){t.$_console_log("[Notes] Failed to delete existing note")}))}));case 1:case"end":return n.stop()}}),n)})))()},deleteNew:function(e){var t=this.newNotes.findIndex((function(t){return t.id===e.id}));this.newNotes.splice(t,1)},addNew:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$_console_log("[Notes] Create note"),t.$_console_log(e),""===e.text?t.$_console_log("[Notes] Note is empty, not going to create it"):kt.request((function(){hi.createNote(e).then((function(e){t.$_console_log("[Notes] Success creating note"),t.noteList.push(e.data),1===t.newNotes.length?t.newNotes=[]:t.newNotes.splice(index,1),Object(br["setTimeout"])((function(){0===t.newNotes.length&&t.newNotes.push(xi(t.idCount--))}),10)})).catch((function(){return t.$_console_log("[Notes] Error creating note")}))}));case 3:case"end":return n.stop()}}),n)})))()},modifyNew:function(e){var t=this.newNotes.findIndex((function(t){return t.id===e.id}));this.newNotes[t].text=e.text,this.newNotes[t].title=e.title},modifyOld:function(e){var t=this.noteList.findIndex((function(t){return t.id===e.id}));this.noteList[t].text=e.text,this.noteList[t].title=e.title},updateNote:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$_console_log("[Notes] Update note"),t.$_console_log(e),kt.request((function(){hi.updateNote(e).then((function(n){t.$_console_log("[Notes] Success updating note");var r=t.noteList.findIndex((function(t){return t.id===e.id}));t.noteList[r].updated=n.data.updated})).catch((function(){return t.$_console_log("[Notes] Error creating note")}))}));case 3:case"end":return n.stop()}}),n)})))()}}},wi=_i,yi=Object(k["a"])(wi,si,ii,!1,null,null,null),ki=yi.exports;Xn()(yi,{VBtn:er["a"],VContainer:tr["a"],VFlex:uo["a"],VLayout:lo["a"]});var $i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-layout",{attrs:{row:""}},[n("v-flex",{staticClass:"left-menu",attrs:{xs4:"",sm3:"",md2:"",lg1:""}},[n("v-layout",{attrs:{column:""}},[e._l(e.obj,(function(t,r){return[n("router-link",{attrs:{to:{name:"documentation-item",params:{id:t}}}},[e._v(e._s(t))])]}))],2)],1),n("v-flex",{attrs:{xs8:"",sm9:"",md10:"",lg11:""}},[n("router-view")],1)],1)],1)},ji=[],Oi=n("7967"),Li=JSON.parse(JSON.stringify(Oi)),Ai={data:function(){return{obj:[]}},created:function(){this.obj=Li.map((function(e){return e.id})).slice(0)}},Ri=Ai,Mi=(n("326c"),Object(k["a"])(Ri,$i,ji,!1,null,null,null)),Ci=Mi.exports;Xn()(Mi,{VFlex:uo["a"],VLayout:lo["a"]});var Si=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v(e._s(e.obj.title))]),n("h3",[e._v(e._s(e.obj.topic))]),e._l(e.obj.sections,(function(t,r){return[n("div",{staticClass:"title"},[e._v(e._s(t.title))]),e._l(t.paragraphs,(function(t,r){return[n("p",{class:t.style},[e._v(" "+e._s(t.text)+" ")])]}))]}))],2)},Ii=[],Ei=JSON.parse(JSON.stringify(Oi)),Ti={data:function(){return{obj:{}}},created:function(){var e=this;this.obj=Object.assign({},Ei.filter((function(t){return t.id===e.$route.params.id}))[0])}},Vi=Ti,Di=Object(k["a"])(Vi,Si,Ii,!1,null,null,null),Bi=Di.exports,Ni=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.headerText))])]),n("v-card-text",[n("v-container",[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[n("v-date-picker",{model:{value:e.weight.created,callback:function(t){e.$set(e.weight,"created",t)},expression:"weight.created"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{staticClass:"weight-input",attrs:{label:"Value",suffix:"lbs"},model:{value:e.weight.value,callback:function(t){e.$set(e.weight,"value",t)},expression:"weight.value"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Notes"},model:{value:e.weight.notes,callback:function(t){e.$set(e.weight,"notes",t)},expression:"weight.notes"}})],1),n("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[n("v-btn",{on:{click:function(t){return e.addOrEditWeight()}}},[e._v(e._s(e.submitText))])],1)],1)],1)],1)],1)],1),n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:"","px-2":""}},[n("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[e._v(" Create new weight: "),n("v-btn",{staticClass:"green--text",attrs:{icon:""},on:{click:function(t){return e.openAddOrEditWeight(null,null)}}},[n("fa-icon",{attrs:{icon:"plus"}})],1)],1),n("v-flex",{attrs:{xs12:"",sm6:""}},[n("div",{staticClass:"text-sm-left text-md-right headline font-weight-bold"},[e._v("Average weight loss / week:")]),n("div",{staticClass:"text-sm-left text-md-right headline",class:e.weightLossCss},[e._v(e._s(e.avgWeightLossWeek+" lbs"))]),n("div",{staticClass:"text-sm-left text-md-right headline font-weight-bold"},[e._v("Total Weight Loss:")]),n("div",{staticClass:"text-sm-left text-md-right headline",class:e.weightLossCss},[e._v(e._s(e.totalWeightLoss+" lbs"))])]),n("v-flex",{attrs:{xs12:""}},[n("div",{staticClass:"headline"},[e._v("Filtering:")])]),n("v-flex",{attrs:{xs12:"",sm6:""}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Filter Start Date","prepend-icon":"event",readonly:""},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-btn",{attrs:{text:"",icon:""},on:{click:function(t){e.filterStartDate=null}}},[n("fa-icon",{attrs:{icon:"window-close"}})],1)]},proxy:!0}],null,!0),model:{value:e.filterStartDate,callback:function(t){e.filterStartDate=t},expression:"filterStartDate"}},"v-text-field",o,!1),r))]}}]),model:{value:e.filterStartDateMenu,callback:function(t){e.filterStartDateMenu=t},expression:"filterStartDateMenu"}},[n("v-date-picker",{on:{input:function(t){e.filterStartDateMenu=!1}},model:{value:e.filterStartDate,callback:function(t){e.filterStartDate=t},expression:"filterStartDate"}})],1)],1),n("v-flex",{attrs:{xs12:"",sm6:""}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"End Date","prepend-icon":"event",readonly:""},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-btn",{attrs:{text:"",icon:""},on:{click:function(t){e.filterEndDate=null}}},[n("fa-icon",{attrs:{icon:"window-close"}})],1)]},proxy:!0}],null,!0),model:{value:e.filterEndDate,callback:function(t){e.filterEndDate=t},expression:"filterEndDate"}},"v-text-field",o,!1),r))]}}]),model:{value:e.filterEndDateMenu,callback:function(t){e.filterEndDateMenu=t},expression:"filterEndDateMenu"}},[n("v-date-picker",{on:{input:function(t){e.filterEndDateMenu=!1}},model:{value:e.filterEndDate,callback:function(t){e.filterEndDate=t},expression:"filterEndDate"}})],1)],1),n("v-flex",{attrs:{xs12:""}},[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.getHeaders,items:e.filteredWeightList},scopedSlots:e._u([{key:"body",fn:function(t){var r=t.items;return[n("tbody",e._l(r,(function(t){return n("tr",{key:t.id,on:{click:function(n){return e.openAddOrEditWeight(t,n)}}},[n("td",[e._v(e._s(e.getDate(t.created)))]),n("td",[e._v(e._s(t.value))]),n("td",[e._v(e._s(t.notes))]),n("td",{staticClass:"action-td"},[n("fa-icon",{attrs:{size:"lg",icon:"window-close"},on:{click:function(n){return e.deleteItem(t.id)}}})],1)])})),0)]}},{key:"no-data",fn:function(){return[e._v(" NO DATA HERE! ")]},proxy:!0},{key:"no-results",fn:function(){return[e._v(" NO RESULTS HERE! ")]},proxy:!0}])})],1)],1)],1)],1)},Fi=[],Pi="api/weight/list",Ui="api/weight/add",Wi="api/weight/edit",Hi="api/weight/delete",qi={getWeightList:function(){return Ye.get(Pi)},deleteWeight:function(e){return Ye.request({url:Hi,method:"delete",params:{id:e}})},addWeight:function(e){return Ye.post(Ui,e)},editWeight:function(e){return Ye.post(Wi,e)}};function Gi(e){var t=null;return"undefined"!==typeof e&&(t=e),{id:-1,created:(new Date).toISOString().substr(0,10),value:"",userId:t,notes:null}}var zi={data:function(){return{filteredWeightList:[],filterStartDate:null,filterEndDate:null,filterStartDateMenu:!1,filterEndDateMenu:!1,weightList:[],weight:null,tableOptions:{sortBy:["created"],sortDesc:[!0],itemsPerPage:25},startDate:null,endDate:null,startWeight:0,endWeight:0,dialogOpen:!1}},created:function(){this.weight=Gi(),this.getData()},computed:Object(Rt["a"])(Object(Rt["a"])({},Object(Ne["b"])({user:function(e){return e.auth.user}})),{},{headerText:function(){return"undefined"===typeof this.weight||null===this.weight?"":this.weight.id>0?"Edit Existing Weight":"Add New Weight"},submitText:function(){return"undefined"===typeof this.weight||null===this.weight?"Submit":this.weight.id>0?"Update":"Add"},getHeaders:function(){return[{text:"Date",align:"start",value:"created",sortable:!0,width:"21%"},{text:"Weight",align:"start",value:"value",sortable:!0,width:"21%"},{text:"Notes",align:"start",value:"notes",sortable:!1,width:"51%"},{text:"Actions",align:"start",value:"actions",sortable:!1,width:"7%"}]},totalWeightLoss:function(){return"number"!==typeof this.startWeight||"number"!==typeof this.endWeight?0:(this.startWeight-this.endWeight).toFixed(2)},avgWeightLossPerDay:function(){var e=0;if(!Array.isArray(this.weightList)||0===this.weightList.length)return this.$_console_log("[AverageWeightLoss] No weights in list"),e;var t=Math.abs(this.endDate-this.startDate),n=Math.ceil(t/864e5);return 0===n?(this.$_console_log("[AverageWeightLoss] Difference in days is 0, can't divide by 0"),e):(e=(this.startWeight-this.endWeight)/n,this.$_console_log("[AverageWeightLoss] Weight loss: "+e),e)},avgWeightLossWeek:function(){return(7*this.avgWeightLossPerDay).toFixed(2)},weightLossCss:function(){return console.log(this.avgWeightLossWeek),this.avgWeightLossWeek>=2?"green--text":this.avgWeightLossWeek>=1?"yellow--text":this.avgWeightLossWeek>=0?"orange--text":this.avgWeightLossWeek<0?"red--text":void 0}}),watch:{weightList:{handler:function(e){null!==this.filterStartDate&&null!==this.filterEndDate||(this.filteredWeightList=e)},deep:!0},filteredWeightList:{handler:function(e){var t=this;if(!Array.isArray(e)||0===e.length)return this.startDate=null,this.endDate=null,this.startWeight=0,void(this.endWeight=0);var n=e.map((function(e){return new Date(e.created)}));this.endDate=new Date(Math.max.apply(null,n)),this.startDate=new Date(Math.min.apply(null,n)),this.$_console_log("End Date: ",this.endDate),this.endWeight=e.find((function(e){return new Date(e.created).getTime()==t.endDate.getTime()})).value,this.startWeight=e.find((function(e){return new Date(e.created).getTime()==t.startDate.getTime()})).value},deep:!0},filterStartDate:function(e){this.filteredWeightList=this.filterWeight(e,this.filterEndDate)},filterEndDate:function(e){this.filteredWeightList=this.filterWeight(this.filterStartDate,e)}},methods:{getData:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$_console_log("[Weight] Get weights"),kt.request((function(){qi.getWeightList().then((function(t){e.$_console_log("[Weight] Success getting weights"),e.$_console_log(t.data),Array.isArray(t.data)?e.weightList=t.data:e.weightList=[]})).catch((function(){return e.$_console_log("[Weight] Error getting weights")}))}));case 2:case"end":return t.stop()}}),t)})))()},filterWeight:function(e,t){var n=null,r=null;if(null!==e&&(n=new Date(e).getTime()),null!==t&&(r=new Date(t).getTime()+86e6),null===n&&null===r)return this.weightList.slice(0);var o=this.weightList.slice(0).filter((function(e){var t=new Date(e.created).getTime();return null===n?t<=r:null===r?t>=n:t>=n&&t<=r}));return o},openAddOrEditWeight:function(e,t){if(this.$_console_log("[Weight] Creating or editing a weight object"),"undefined"!==typeof e)if(null!==t&&(t.target.classList.contains("action-td")||t.target.parentNode.classList.contains("action-td")||t.target.parentNode.parentNode.classList.contains("action-td")))this.$_console_log("[Weight] Some button was pressed, don't open the dialog.");else{if(null===e)this.weight=Gi(this.user.id);else{var n=Gi(this.user.id);n.id=e.id,n.value=e.value,n.notes=e.notes,n.created=e.created.substr(0,e.created.indexOf("T")),this.weight=Object.assign({},n)}this.dialogOpen=!0}else this.$_console_log("[Weight] Open Add Or Edit Weight: Weight is undefined or empty")},addOrEditWeight:function(){"undefined"!==typeof this.weight&&null!==this.weight?this.weight.id<=0?this.addNew(this.weight):this.editWeight(this.weight):this.$_console_log("[Weight] Add or Edit Weight: Weight is null or empty, exiting")},addNew:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$_console_log("[Weight] Create weight"),t.$_console_log(e),""===e.value?t.$_console_log("[Weight] Weight is empty, not going to create it"):kt.request((function(){qi.addWeight(e).then((function(e){t.$_console_log("[Weight] Success creating weight"),t.weight=Gi(t.user.id),t.weightList.push(e.data),t.dialogOpen=!1})).catch((function(){return t.$_console_log("[Weight] Error creating weight")}))}));case 3:case"end":return n.stop()}}),n)})))()},editWeight:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.$_console_log("[Weight] Edit weight"),t.$_console_log(e),!("undefined"===typeof e||null===e||e.id<=0||""===e.value)){n.next=5;break}return t.$_console_log("[Weight] Weight is empty, null, the id is less than or equal to 0, or the value is empty. Not going to edit it"),n.abrupt("return");case 5:kt.request((function(){qi.editWeight(e).then((function(n){t.$_console_log("[Weight] Success editing weight");var r=t.weightList.findIndex((function(t){return t.id===e.id}));-1===r?t.$_console_log("[Weight] Index is -1. Weight doesn\t exist in list. Can't update local list."):t.weightList.splice(r,1,n.data)})).catch((function(){return t.$_console_log("[Weight] Error editing weight")})).then((function(){return t.dialogOpen=!1}))}));case 6:case"end":return n.stop()}}),n)})))()},getDate:function(e){return null==e||e.length<11?"Unknown":e.substr(0,e.indexOf("T"))},deleteItem:function(e){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$_console_log("[Weight] Delete weight with id: ".concat(e)),kt.request((function(){qi.deleteWeight(e).then((function(n){t.$_console_log("[Weight] Success deleting weight");var r=t.weightList.findIndex((function(t){return t.id===e}));r>=0&&t.weightList.splice(r,1)})).catch((function(){return t.$_console_log("[Weight] Error creating weight")}))}));case 2:case"end":return n.stop()}}),n)})))()}}},Yi=zi,Ji=(n("c084"),n("8fea")),Ki=n("2e4b"),Qi=Object(k["a"])(Yi,Ni,Fi,!1,null,"f51da7d8",null),Xi=Qi.exports;Xn()(Qi,{VBtn:er["a"],VCard:jr["a"],VCardText:co["b"],VCardTitle:co["c"],VContainer:tr["a"],VDataTable:Ji["a"],VDatePicker:Ki["a"],VDialog:Po["a"],VFlex:uo["a"],VLayout:lo["a"],VMenu:Sr["a"],VTextField:rr["a"]});var Zi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("depedency-editor-dialog",{attrs:{open:e.dependencyEditorDialogOpen},on:{closeDialog:e.closeDependencyEditorDialogWindow}}),n("book-dialog",{attrs:{open:e.bookDialogOpen,book:e.activeBook,loading:e.loadingBook},on:{closeDialog:e.closeBookDialogWindow}}),n("v-container",[n("v-flex",{attrs:{xs12:""}},[e._v(" Dependency Editor "),n("v-btn",{staticClass:"green--text",attrs:{icon:""},on:{click:function(t){e.dependencyEditorDialogOpen=!0}}},[n("fa-icon",{attrs:{icon:"plus"}})],1)],1),n("v-flex",{attrs:{xs12:""}},[e._v(" Create new book entry: "),n("v-btn",{staticClass:"green--text",attrs:{icon:""},on:{click:function(t){return e.openAddOrEditBookDialog(null,null)}}},[n("fa-icon",{attrs:{icon:"plus"}})],1)],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Search Book List"},model:{value:e.bookSearch,callback:function(t){e.bookSearch=t},expression:"bookSearch"}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.getHeaders,items:e.bookList,search:e.bookSearch},scopedSlots:e._u([{key:"body",fn:function(t){var r=t.items;return[n("tbody",e._l(r,(function(t){return n("tr",{key:t.id,on:{click:function(n){return e.openAddOrEditBookDialog(t,n)}}},[n("td",[e._v(e._s(e.getTitle(t)))]),null!==t.bookAuthors?n("td",e._l(t.bookAuthors,(function(t,r){return n("div",{key:r},[null!==t.author?[n("p",[e._v(e._s(t.author.fullName))])]:e._e()],2)})),0):n("td"),n("td",{staticClass:"hidden-sm-and-down"},[e._v(e._s(t.edition))]),n("td",{staticClass:"hidden-xs-only"},e._l(t.bookGenres,(function(t,r){return n("div",{key:r},[null!==t.genre?[n("p",[e._v(e._s(t.genre.name))])]:e._e()],2)})),0),n("td",{staticClass:"hidden-sm-and-down"},[e._v(e._s(e.getPublicationDate(t.publicationDate)))]),t.hardcover?n("td",{staticClass:"hidden-xs-only"},[n("fa-icon",{attrs:{icon:"check"}})],1):n("td",{staticClass:"hidden-xs-only"},[n("fa-icon",{attrs:{icon:"times"}})],1),t.isRead?n("td",{staticClass:"hidden-xs-only"},[n("fa-icon",{attrs:{icon:"check"}})],1):n("td",{staticClass:"hidden-xs-only"},[n("fa-icon",{attrs:{icon:"times"}})],1),t.boxset?n("td",{staticClass:"hidden-sm-and-down"},[n("fa-icon",{attrs:{icon:"check"}})],1):n("td",{staticClass:"hidden-sm-and-down"},[n("fa-icon",{attrs:{icon:"times"}})],1),t.loaned?n("td",{staticClass:"hidden-sm-and-down"},[n("fa-icon",{attrs:{icon:"check"}})],1):n("td",{staticClass:"hidden-sm-and-down"},[n("fa-icon",{attrs:{icon:"times"}})],1),n("td",[e._v(e._s(e.getBookcaseName(t)))]),e.hasSeriesInfo(t)?n("td",{staticClass:"hidden-xs-only"},[t.series.active?n("fa-icon",{attrs:{icon:"minus"}}):n("fa-icon",{attrs:{icon:"ban"}}),e._v(" "+e._s(t.series.name)+" ("+e._s(t.seriesNumber)+" / "+e._s(t.series.number)+") ")],1):n("td",{staticClass:"hidden-xs-only"}),n("td",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return n.preventDefault(),e.deleteBook(t)}}},[n("fa-icon",{attrs:{size:"md",icon:"window-close"}})],1)],1)])})),0)]}},{key:"no-data",fn:function(){return[e._v(" NO DATA HERE! ")]},proxy:!0},{key:"no-results",fn:function(){return[e._v(" NO RESULTS HERE! ")]},proxy:!0}])})],1)],1)},ea=[],ta=(n("8a79"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":e.maxModalWidth},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[n("v-card",[n("v-card-title",[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.dialogOpen=!1}}},[n("fa-icon",{attrs:{icon:"times"}})],1),n("span",{staticClass:"headline center"},[e._v("Book dependency editor")])],1),n("v-card-text",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-tabs",{attrs:{"fixed-tabs":"","hide-slider":""},model:{value:e.activeType,callback:function(t){e.activeType=t},expression:"activeType"}},e._l(e.typeList,(function(t,r){return n("v-tab",{key:r},[e._v(" "+e._s(t)+" ")])})),1)],1),n("v-flex",{staticClass:"py-1",staticStyle:{"text-align":"center"},attrs:{xs12:""}},[n("v-btn",{staticClass:"primary center",on:{click:function(t){return e.addObject()}}},[e._v(" Add new "+e._s(e.typeList[e.activeType])+" ")])],1),n("v-flex",{attrs:{xs12:"",sm6:""}},[n("v-list-item-group",{model:{value:e.activeObject,callback:function(t){e.activeObject=t},expression:"activeObject"}},e._l(e.activeList,(function(t,r){return n("v-list-item",{key:r},[e.activeType===e.typeConsts.Author?n("v-list-item-content",[e._v(" "+e._s(t.fullName)+" ")]):e.activeType===e.typeConsts.Bookcase||e.activeType===e.typeConsts.Series||e.activeType===e.typeConsts.Shelf?n("v-list-item-content",[e._v(" "+e._s(t.name)+" ")]):e._e()],1)})),1)],1),n("v-flex",{attrs:{xs12:"",sm6:""}},["undefined"!==typeof e.activeObject&&null!==e.activeObject&&null!==e.selectedObject?[n("v-form",{ref:"objectForm",attrs:{"lazy-validation":""},model:{value:e.validated,callback:function(t){e.validated=t},expression:"validated"}},[e.activeType===e.typeConsts.Author?[n("v-flex",{attrs:{xs12:"","pl-2":""}},[n("v-text-field",{attrs:{label:"First Name"},model:{value:e.selectedObject.firstName,callback:function(t){e.$set(e.selectedObject,"firstName",t)},expression:"selectedObject.firstName"}})],1),n("v-flex",{attrs:{xs12:"","pl-2":""}},[n("v-text-field",{attrs:{label:"Last Name",rules:[e.rules.required]},model:{value:e.selectedObject.lastName,callback:function(t){e.$set(e.selectedObject,"lastName",t)},expression:"selectedObject.lastName"}})],1),n("v-flex",{attrs:{xs12:"","pl-1":""}},[n("v-checkbox",{attrs:{label:"Deceased"},model:{value:e.selectedObject.deceased,callback:function(t){e.$set(e.selectedObject,"deceased",t)},expression:"selectedObject.deceased"}})],1)]:e.activeType===e.typeConsts.Bookcase?[n("v-flex",{attrs:{xs12:"","pl-2":""}},[n("v-text-field",{attrs:{label:"Name",rules:[e.rules.required]},model:{value:e.selectedObject.name,callback:function(t){e.$set(e.selectedObject,"name",t)},expression:"selectedObject.name"}})],1)]:e.activeType===e.typeConsts.Series?[n("v-flex",{attrs:{xs12:"","pl-2":""}},[n("v-text-field",{attrs:{label:"Name",rules:[e.rules.required]},model:{value:e.selectedObject.name,callback:function(t){e.$set(e.selectedObject,"name",t)},expression:"selectedObject.name"}})],1),n("v-flex",{attrs:{xs12:"","pl-2":""}},[n("v-text-field",{attrs:{label:"Number"},model:{value:e.selectedObject.number,callback:function(t){e.$set(e.selectedObject,"number",t)},expression:"selectedObject.number"}})],1),n("v-flex",{attrs:{xs12:"","pl-1":""}},[n("v-checkbox",{attrs:{label:"Active"},model:{value:e.selectedObject.active,callback:function(t){e.$set(e.selectedObject,"active",t)},expression:"selectedObject.active"}})],1)]:e.activeType===e.typeConsts.Shelf?[n("v-flex",{attrs:{xs12:"","pl-2":""}},[n("v-select",{attrs:{items:e.bookcaseList,label:"Bookcase","item-value":"id","item-text":"name",rules:[e.rules.required]},model:{value:e.selectedObject.bookcaseId,callback:function(t){e.$set(e.selectedObject,"bookcaseId",t)},expression:"selectedObject.bookcaseId"}})],1),n("v-flex",{attrs:{xs12:"","pl-2":""}},[n("v-text-field",{attrs:{label:"Name",rules:[e.rules.required]},model:{value:e.selectedObject.name,callback:function(t){e.$set(e.selectedObject,"name",t)},expression:"selectedObject.name"}})],1)]:e._e()],2),n("v-flex",{attrs:{xs12:""}},[n("v-btn",{on:{click:function(t){e.selectedObject=null}}},[e._v(" CANCEL ")]),n("v-btn",{staticClass:"primary",attrs:{disabled:!e.validated},on:{click:function(t){return e.updateObject()}}},[e._v(" SAVE ")]),n("v-btn",{staticClass:"float-right",on:{click:function(t){return e.deleteObject()}}},[e._v(" DELETE ")])],1)]:e._e()],2)],1)],1)],1)],1)}),na=[],ra=function(){return{id:0,name:""}},oa=function(){return{id:0,name:"",number:0,active:!1}},sa=function(){return{id:0,name:""}},ia=function(){return{id:0,firstName:null,lastName:null,fullName:null,deceased:!1}},aa=function(e){return(e<10?"0":"")+e},ca="Author",ua="Bookcase",la="Series",da="Shelf",ha=0,fa=1,ma=2,pa=3;function ga(e){if(null===e||"number"!==typeof e)return null;switch(e){case ha:return ia();case fa:return ra();case ma:return oa();case pa:return sa();default:break}}var va={data:function(){return{dialogOpen:!1,selectedObject:null,activeObject:null,activeType:null,activeList:[],typeList:[ca,ua,la,da],typeConsts:{Author:ha,Bookcase:fa,Series:ma,Shelf:pa},rules:{required:function(e){return!!e||"Value is required"}},validated:!1}},props:{open:{type:Boolean,default:!1}},computed:Object(Rt["a"])(Object(Rt["a"])({},Object(Ne["b"])({authorList:function(e){return e.library.authors},bookcaseList:function(e){return e.library.bookcases},seriesList:function(e){return e.library.series},shelfList:function(e){return e.library.shelves}})),{},{maxModalWidth:function(){return window.innerWidth>1640?1500:window.innerWidth>1360?1200:window.innerWidth>960?800:window.innerWidth>720?600:window.innerWidth>600?500:420}}),watch:{open:function(e){this.$_console_log("[Dependency Editor Open] open = ".concat(e)),this.dialogOpen=e},dialogOpen:function(e){!1===e?(this.$_console_log("[Dependency Editor Dialog Open] Dialog open = false"),this.$emit("closeDialog",!1)):this.$_console_log("[Dependency Editor Dialog OpenAuthor Dialog] Dialog open = true")},activeType:function(e,t){if(this.$_console_log("[Dependency Editor Active Type] New value is: ".concat(e)),null===e||"number"!==typeof e)return this.activeList=[],void(this.activeObject=-1);t!==e&&(this.activeList=[],this.activeObject=-1,this.getActiveList(e))},activeObject:function(e){if(this.$_console_log("Selected object watcher",e),null===e||"number"!==typeof e)return this.selectedObject=null,void(this.activeObject=-1);this.selectedObject=-1!==e?Object.assign({},this.activeList[e]):null}},methods:{getActiveList:function(e){switch("undefined"!==typeof e&&null!==e||(e=this.activeType),e){case 0:this.activeList=this.authorList.slice(0);break;case 1:this.activeList=this.bookcaseList.slice(0);break;case 2:this.activeList=this.seriesList.slice(0);break;case 3:this.activeList=this.shelfList.slice(0);break;default:break}},addObject:function(){if(null!==this.activeType&&"number"===typeof this.activeType){var e=ga(this.activeType);null!==e?(this.activeList.push(e),this.activeObject=this.activeList.length-1):this.$_console_log("[Dependency Editor] Add Object: New object is null. Not making a new object")}else this.$_console_log("[Dependency Editor] Add Object: Active type is null or not a number: (".concat(this.activeType,")"))},updateObject:function(){var e=this;null!==this.activeType&&"number"===typeof this.activeType?0===this.selectedObject.id?this.$refs.objectForm.validate()&&this.$store.dispatch("add".concat(this.typeList[this.activeType]),this.selectedObject).then((function(t){e.$_console_log("[Dependency Editor] Update Object: Successfully added new object of type (".concat(e.typeList[e.activeType],"). Removing temp object.")),e.getActiveList(),e.selectedObject=e.activeList.find((function(e){return e.id===t.id}))})):this.$refs.objectForm.validate()&&(this.$store.dispatch("edit".concat(this.typeList[this.activeType]),this.selectedObject),this.getActiveList()):this.$_console_log("[Dependency Editor] Update Object: Active type is null or not a number: (".concat(this.activeType,")"))},deleteObject:function(){var e=this;null!==this.activeType&&"number"===typeof this.activeType?this.selectedObject.id<=0?(this.activeObject=-1,this.getActiveList()):this.$store.dispatch("delete".concat(this.typeList[this.activeType]),this.selectedObject.id).then((function(t){e.activeObject=-1,e.getActiveList()})):this.$_console_log("[Dependency Editor] Delete Object: Active type is null or not a number: (".concat(this.activeType,")"))}}},ba=va,xa=n("ac7c"),_a=n("71a3"),wa=n("fe57"),ya=Object(k["a"])(ba,ta,na,!1,null,null,null),ka=ya.exports;Xn()(ya,{VBtn:er["a"],VCard:jr["a"],VCardText:co["b"],VCardTitle:co["c"],VCheckbox:xa["a"],VDialog:Po["a"],VFlex:uo["a"],VForm:nr["a"],VLayout:lo["a"],VListItem:Mr["a"],VListItemContent:Cr["a"],VListItemGroup:bo["a"],VSelect:lr["a"],VTab:_a["a"],VTabs:wa["a"],VTextField:rr["a"]});var $a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":e.maxModalWidth},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[n("v-card",[n("v-card-title",[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.dialogOpen=!1}}},[n("fa-icon",{attrs:{icon:"times"}})],1),n("span",{staticClass:"headline center"},[e._v(e._s(e.addEditDialogTitle))])],1),n("v-card-text",[n("v-container",[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Title"},model:{value:e.activeBook.title,callback:function(t){e.$set(e.activeBook,"title",t)},expression:"activeBook.title"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Sub Title"},model:{value:e.activeBook.subTitle,callback:function(t){e.$set(e.activeBook,"subTitle",t)},expression:"activeBook.subTitle"}})],1),n("v-flex",{attrs:{xs12:""}},[e._v("Authors:")]),n("v-flex",{attrs:{xs10:"","pr-1":""}},[n("v-combobox",{attrs:{items:e.filteredAuthorList,loading:e.authorIsLoading,"search-input":e.authorSearch,color:"white","hide-no-data":"","hide-selected":"","item-text":"fullName","item-value":"id",label:"Author Search",placeholder:"Start typing to Search","return-object":""},on:{"update:searchInput":function(t){e.authorSearch=t},"update:search-input":function(t){e.authorSearch=t},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAuthorToBook()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("fa-icon",{attrs:{icon:"book-reader",size:"2x"}})]},proxy:!0}]),model:{value:e.authorToAdd,callback:function(t){e.authorToAdd=t},expression:"authorToAdd"}})],1),n("v-flex",{attrs:{xs2:""}},[n("v-btn",{on:{click:function(t){return e.addAuthorToBook()}}},[e._v("Add")])],1),"undefined"!==typeof e.activeBook.authors&&null!==e.activeBook.authors&&e.activeBook.authors.length>0&&!e.deletingAuthor?e._l(e.activeBook.authors,(function(t,r){return n("v-flex",{key:"author"+r,attrs:{xs12:"","px-2":""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs11:"",sm10:"","pr-1":""}},[n("v-text-field",{attrs:{label:"Full Name",disabled:t.fromAutocomplete},model:{value:t.fullName,callback:function(n){e.$set(t,"fullName",n)},expression:"item.fullName"}})],1),n("v-flex",{staticClass:"hidden-xs-only",attrs:{sm1:""}},[n("v-checkbox",{attrs:{label:"Deceased",disabled:t.fromAutocomplete},model:{value:t.deceased,callback:function(n){e.$set(t,"deceased",n)},expression:"item.deceased"}})],1),n("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteAuthor(r)}}},[n("fa-icon",{attrs:{size:"md",icon:"window-close"}})],1)],1)],1)],1)})):e._e(),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Publication Date"},model:{value:e.activeBook.publicationDate,callback:function(t){e.$set(e.activeBook,"publicationDate",t)},expression:"activeBook.publicationDate"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Edition"},model:{value:e.activeBook.edition,callback:function(t){e.$set(e.activeBook,"edition",t)},expression:"activeBook.edition"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[n("v-checkbox",{attrs:{label:"Hardcover"},model:{value:e.activeBook.hardcover,callback:function(t){e.$set(e.activeBook,"hardcover",t)},expression:"activeBook.hardcover"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[n("v-checkbox",{attrs:{label:"Read"},model:{value:e.activeBook.isRead,callback:function(t){e.$set(e.activeBook,"isRead",t)},expression:"activeBook.isRead"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[n("v-checkbox",{attrs:{label:"Boxset"},model:{value:e.activeBook.boxset,callback:function(t){e.$set(e.activeBook,"boxset",t)},expression:"activeBook.boxset"}})],1),n("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[n("v-checkbox",{attrs:{label:"Loaned Out"},model:{value:e.activeBook.loaned,callback:function(t){e.$set(e.activeBook,"loaned",t)},expression:"activeBook.loaned"}})],1),n("v-flex",{attrs:{xs10:""}},[n("v-select",{attrs:{items:e.genreList,label:"Genres","item-value":"id","item-text":"name"},model:{value:e.genreToAdd,callback:function(t){e.genreToAdd=t},expression:"genreToAdd"}})],1),n("v-flex",{attrs:{xs2:""}},[n("v-btn",{on:{click:function(t){return e.addGenreToBook()}}},[e._v("Add")])],1),"undefined"!==typeof e.activeBook.genres&&null!==e.activeBook.genres&&e.activeBook.genres.length>0&&!e.deletingGenre?[n("v-flex",{attrs:{xs12:""}},[e._v("Genre List")]),e._l(e.activeBook.genres,(function(t,r){return n("v-flex",{key:"genre"+r,attrs:{xs12:"","px-2":""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs10:"","pr-1":""}},[n("v-text-field",{attrs:{label:"Name",disabled:""},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"item.name"}})],1),n("v-flex",{staticClass:"hidden-xs-only",attrs:{sm1:""}},[n("v-checkbox",{attrs:{label:"Fiction",disabled:""},model:{value:t.fiction,callback:function(n){e.$set(t,"fiction",n)},expression:"item.fiction"}})],1),n("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteGenre(r)}}},[n("fa-icon",{attrs:{size:"md",icon:"window-close"}})],1)],1)],1)],1)}))]:e._e(),null!=e.activeBook.series?[n("v-flex",{attrs:{xs12:""}},[e._v(" Series: ")]),n("v-flex",{attrs:{xs12:"",sm7:"","pr-1":""}},[n("v-combobox",{attrs:{items:e.seriesList,loading:e.seriesIsLoading,"search-input":e.seriesSearch,color:"white","hide-no-data":"","hide-selected":"","item-text":"name","item-value":"id",label:"Series Search",placeholder:"Start typing to Search","return-object":""},on:{"update:searchInput":function(t){e.seriesSearch=t},"update:search-input":function(t){e.seriesSearch=t}},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("fa-icon",{attrs:{icon:"book",size:"2x"}})]},proxy:!0}],null,!1,1959653670),model:{value:e.activeBook.series,callback:function(t){e.$set(e.activeBook,"series",t)},expression:"activeBook.series"}})],1),n("v-flex",{attrs:{xs7:"",sm3:"","px-1":""}},[n("v-text-field",{attrs:{label:"Total Number in Series"},model:{value:e.activeBook.series.number,callback:function(t){e.$set(e.activeBook.series,"number",t)},expression:"activeBook.series.number"}})],1),n("v-flex",{attrs:{xs4:"",sm1:""}},[n("v-checkbox",{attrs:{label:"Active"},model:{value:e.activeBook.series.active,callback:function(t){e.$set(e.activeBook.series,"active",t)},expression:"activeBook.series.active"}})],1),n("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteSeries()}}},[n("fa-icon",{attrs:{size:"md",icon:"window-close"}})],1)],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Book's Series Number"},model:{value:e.activeBook.seriesNumber,callback:function(t){e.$set(e.activeBook,"seriesNumber",t)},expression:"activeBook.seriesNumber"}})],1)]:e._e(),null===e.activeBook.series?n("v-flex",{attrs:{xs12:"","mt-3":""}},[n("v-btn",{on:{click:function(t){return e.addSeries()}}},[n("fa-icon",{attrs:{icon:"plus"}}),e._v(" Add Series ")],1)],1):e._e(),null!=e.activeBook.bookcase?[n("v-flex",{attrs:{xs12:"","mt-3":""}},[e._v(" Bookcase: ")]),n("v-flex",{attrs:{xs11:"","pr-1":""}},[n("v-combobox",{attrs:{items:e.bookcaseList,loading:e.bookcaseIsLoading,"search-input":e.bookcaseSearch,color:"white","hide-no-data":"","hide-selected":"","item-text":"name","item-value":"id",label:"Bookcase Search",placeholder:"Start typing to Search","return-object":""},on:{"update:searchInput":function(t){e.bookcaseSearch=t},"update:search-input":function(t){e.bookcaseSearch=t}},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("v-icon",{attrs:{large:""}},[e._v("mdi-bookshelf")])]},proxy:!0}],null,!1,1329783395),model:{value:e.activeBook.bookcase,callback:function(t){e.$set(e.activeBook,"bookcase",t)},expression:"activeBook.bookcase"}})],1),n("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteBookcase()}}},[n("fa-icon",{attrs:{size:"md",icon:"window-close"}})],1)],1),null!=e.activeBook.shelf?[n("v-flex",{attrs:{xs12:"","mt-3":""}},[e._v(" Shelf: ")]),n("v-flex",{attrs:{xs11:"","pr-1":""}},[n("v-combobox",{attrs:{items:e.filteredShelfList,loading:e.shelfIsLoading,"search-input":e.shelfSearch,color:"white","hide-no-data":"","hide-selected":"","item-text":"name","item-value":"id",label:"Shelf Search",placeholder:"Start typing to Search","return-object":""},on:{"update:searchInput":function(t){e.shelfSearch=t},"update:search-input":function(t){e.shelfSearch=t}},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("v-icon",{attrs:{large:""}},[e._v("mdi-bookshelf")])]},proxy:!0}],null,!1,1329783395),model:{value:e.activeBook.shelf,callback:function(t){e.$set(e.activeBook,"shelf",t)},expression:"activeBook.shelf"}})],1),n("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteShelf()}}},[n("fa-icon",{attrs:{size:"md",icon:"window-close"}})],1)],1)]:e._e(),null===e.activeBook.shelf&&"undefined"!==typeof e.activeBook.bookcase.name&&""!==e.activeBook.bookcase.name?n("v-flex",{attrs:{xs12:"","my-3":""}},[n("v-btn",{on:{click:function(t){return e.addShelf()}}},[n("fa-icon",{attrs:{icon:"plus"}}),e._v(" Add Shelf ")],1)],1):e._e()]:e._e(),null===e.activeBook.bookcase?n("v-flex",{attrs:{xs12:"","my-3":""}},[n("v-btn",{on:{click:function(t){return e.addBookcase()}}},[n("fa-icon",{attrs:{icon:"plus"}}),e._v(" Add Bookcase ")],1)],1):e._e(),n("v-flex",{staticClass:"text-right",attrs:{xs12:""}},[n("v-btn",{on:{click:function(t){return e.addOrUpdateBook(null)}}},[e._v("Submit")])],1)],2)],1)],1)],1)],1)},ja=[];n("498a");function Oa(e){var t={book:{id:e.id,title:e.title,subTitle:e.subTitle,publicationDate:e.publicationDate,edition:e.edition,hardcover:e.hardcover,isRead:e.isRead,loaned:e.loaned,boxset:e.boxset,notes:e.notes,seriesNumber:e.seriesNumber},authors:e.authors,bookcase:e.bookcase,genres:e.genres,series:e.series,shelf:e.shelf};return t}function La(){return{id:0,boxset:!1,edition:null,isRead:!1,hardcover:!1,loaned:!1,notes:null,publicationDate:null,seriesNumber:0,subTitle:null,title:"",bookcaseId:null,shelfId:null,seriesId:null,userId:null,user:null,bookcase:null,series:null,shelf:null,authors:[],genres:[]}}var Aa={data:function(){return{dialogOpen:!1,activeBook:{},seriesIsLoading:!1,seriesSearch:"",bookcaseIsLoading:!1,bookcaseSearch:"",shelfIsLoading:!1,shelfSearch:"",authorIsLoading:!1,authorSearch:"",authorToAdd:null,genreToAdd:-1,deletingAuthor:!1,deletingGenre:!1,filteredAuthorList:[],filteredGenreList:[],filteredShelfList:[]}},props:{open:{type:Boolean,default:!1},book:{type:Object,required:!1},loading:{type:Boolean,default:!1}},computed:Object(Rt["a"])(Object(Rt["a"])({},Object(Ne["b"])({authorList:function(e){return e.library.authors},bookList:function(e){return e.library.books},bookcaseList:function(e){return e.library.bookcases},genreList:function(e){return e.library.genres},seriesList:function(e){return e.library.series},shelfList:function(e){return e.library.shelves}})),{},{maxModalWidth:function(){return window.innerWidth>1640?1500:window.innerWidth>1360?1200:window.innerWidth>960?800:window.innerWidth>720?600:window.innerWidth>600?500:420},addEditDialogTitle:function(){return this.activeBook.id>0?"Edit Book":"Add New Book"}}),watch:{open:function(e){this.$_console_log("[Library Dialog] open = ".concat(e)),this.dialogOpen=e},dialogOpen:function(e){!1===e?(this.$_console_log("[Library Dialog] Dialog open = false"),this.$emit("closeDialog",!1)):this.$_console_log("[Library Dialog] Dialog open = true")},book:function(e){this.loading&&this.$_console_log("Active book watcher: Book is loading."),this.activeBook="undefined"===typeof e||null===e?La():e,this.authorToAdd=ia(),this.updateFilteredAuthorList()},"activeBook.bookcaseId":function(e,t){this.loading?this.$_console_log("Active book bookcase id watcher: Book is loading. Exiting."):"undefined"!==typeof e?(this.activeBook.shelf=null,this.activeBook.shelfId=null,this.updateFilteredShelfList()):this.$_console_log("Bookcase Id watcher: Value is undefined. Exiting")},"activeBook.bookcase":function(e){this.loading?this.$_console_log("Active book bookcase watcher: Book is loading. Exiting."):"string"===typeof e?(this.activeBook.bookcase=ra(),this.activeBook.bookcase.name=e):"object"===Object(Mt["a"])(e)&&null!==e&&e.id>0&&(this.activeBook.bookcaseId=e.id)},"activeBook.series":function(e){this.loading?this.$_console_log("Active book series watcher: Book is loading. Exiting."):"string"===typeof e?(this.activeBook.series=oa(),this.activeBook.series.name=e):"object"===Object(Mt["a"])(e)&&null!==e&&e.id>0&&(this.activeBook.seriesId=e.id)},"activeBook.shelf":function(e){this.loading?this.$_console_log("Active book shelf watcher: Book is loading. Exiting."):"string"===typeof e?(this.activeBook.shelf=sa(),this.activeBook.shelf.name=e):"object"===Object(Mt["a"])(e)&&null!==e&&e.id>0&&(this.activeBook.shelfId=e.id)}},methods:{updateFilteredAuthorList:function(){var e=this;if("undefined"===typeof this.activeBook||null===this.activeBook||"undefined"===typeof this.activeBook.authors||null===this.activeBook.authors)return this.$_console_log("Something is invalid.. breaking out of filtered author list"),this.authorList;for(var t=this.authorList.slice(0),n=function(n){for(var r=0;r<e.authorList.length;r++)if(e.authorList[r].id===e.activeBook.authors[n].id){var o=t.findIndex((function(t){return t.id===e.activeBook.authors[n].id}));if(-1!==o){t.splice(o,1);break}}},r=0;r<this.activeBook.authors.length;r++)n(r);this.filteredAuthorList=t.slice(0)},updateFilteredGenreList:function(){var e=this;if("undefined"===typeof this.activeBook||"undefined"===typeof this.activeBook.genres||null===this.activeBook.genres)return this.$_console_log("Something is invalid.. breaking out of filtered genre list"),this.genreList;for(var t=this.genreList.slice(0),n=function(n){for(var r=0;r<e.genreList.length;r++)if(e.genreList[r].id===e.activeBook.genres[n].id){var o=t.findIndex((function(t){return t.id===e.activeBook.genres[n].id}));if(-1!==o){t.splice(o,1);break}}},r=0;r<this.activeBook.genres.length;r++)n(r);this.filteredGenreList=t.slice(0)},updateFilteredShelfList:function(){if("undefined"===typeof this.activeBook||"number"!==typeof this.activeBook.bookcaseId||null===this.activeBook)return this.$_console_log("Something is invalid.. breaking out of filtered shelf list"),[];var e=this.activeBook.bookcaseId;this.filteredShelfList=this.shelfList.filter((function(t){return t.bookcaseId===e}))},resetDialogFields:function(){this.authorToAdd=ia(),this.authorSearch="",this.seriesIsLoading=!1,this.seriesSearch="",this.shelfIsLoading=!1,this.shelfSearch="",this.bookcaseIsLoading=!1,this.bookcaseSearch="",this.authorIsLoading=!1},addAuthorToBook:function(){if(Array.isArray(this.activeBook.authors)||(this.activeBook.authors=[]),"object"!==Object(Mt["a"])(this.authorToAdd)&&(this.authorToAdd=ia()),this.authorToAdd.id<=0&&"undefined"!==typeof this.authorSearch&&null!==this.authorSearch&&""!==this.authorSearch.trim()){var e=this.authorSearch.trim().split(" ");if(null===e)return;if(1===e.length)this.authorToAdd.lastName=e[0],this.authorToAdd.fullName=e[0];else{this.authorToAdd.firstName="",this.authorToAdd.fullName="";for(var t=0;t<e.length;t++)this.authorToAdd.fullName+="".concat(e[t]," "),t+1===e.length?this.authorToAdd.lastName=e[t]:this.authorToAdd.firstName+="".concat(e[t]," ");this.authorToAdd.firstName=this.authorToAdd.firstName.trim(),this.authorToAdd.fullName=this.authorToAdd.fullName.trim()}this.authorToAdd.fromAutocomplete=!1}else this.authorToAdd.fromAutocomplete=!0;this.activeBook.authors.push(this.authorToAdd),this.authorToAdd=ia(),this.updateFilteredAuthorList()},addGenreToBook:function(){var e=this;if(Array.isArray(this.activeBook.genres)||(this.activeBook.genres=[]),"number"===typeof this.genreToAdd){var t=this.genreList.find((function(t){return t.id===e.genreToAdd}));"undefined"!==typeof t&&(this.activeBook.genres.push(t),this.genreToAdd=-1)}},deleteAuthor:function(e){var t=this;this.deletingAuthor=!0,this.$_console_log("[Library] Delete author at index ".concat(e)),this.$nextTick((function(){t.activeBook.authors.splice(e,1),t.deletingAuthor=!1,t.updateFilteredAuthorList()}))},deleteGenre:function(e){var t=this;this.deletingGenre=!0,this.$_console_log("[Library] Delete genre at index ".concat(e)),this.$nextTick((function(){t.activeBook.genres.splice(e,1),t.deletingGenre=!1,t.updateFilteredGenreList()}))},addSeries:function(){"undefined"!==typeof this.activeBook.series&&null!==this.activeBook.series||(this.activeBook.series=oa())},deleteSeries:function(){this.activeBook.series=null,this.activeBook.seriesId=null},addBookcase:function(){"undefined"!==typeof this.activeBook.bookcase&&null!==this.activeBook.bookcase||(this.activeBook.bookcase=ra(),this.updateFilteredShelfList())},deleteBookcase:function(){this.activeBook.bookcase=null,this.activeBook.bookcaseId=null,this.activeBook.shelfId=null,this.activeBook.shelf=null,this.updateFilteredShelfList()},addShelf:function(){"undefined"!==typeof this.activeBook.shelf&&null!==this.activeBook.shelf||(this.activeBook.shelf=sa(),this.updateFilteredShelfList())},deleteShelf:function(){this.activeBook.shelf=null,this.activeBook.shelfId=null,this.updateFilteredShelfList()},addOrUpdateBook:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$_console_log("[Library] Add or update book",e.activeBook),e.activeBook.id>0?(n=Oa(e.activeBook),e.$store.dispatch("editBook",n).then((function(t){e.$store.dispatch("pushNotification",{text:"Successfully updated the book in the list",type:0,group:{type:"library-book",value:"update"}}),e.activeBook=La()})).catch((function(){e.$store.dispatch("pushNotification",{text:"Failed to update the book in the list",type:2,group:{type:"library-book",value:"update"}})})).then((function(){e.updateFilteredShelfList(),e.$emit("closeDialog",!0)}))):(r=Oa(e.activeBook),e.$store.dispatch("addBook",r).then((function(t){e.$store.dispatch("pushNotification",{text:"Successfully added a new book to the list",type:0,group:{type:"library-book",value:"add"}}),e.activeBook=La()})).catch((function(){e.$store.dispatch("pushNotification",{text:"Failed to add a new book to the list",type:2,group:{type:"library-book",value:"add"}})})).then((function(){e.updateFilteredShelfList(),e.$emit("closeDialog",!0)})));case 2:case"end":return t.stop()}}),t)})))()}}},Ra=Aa,Ma=n("2b5d"),Ca=Object(k["a"])(Ra,$a,ja,!1,null,null,null),Sa=Ca.exports;Xn()(Ca,{VBtn:er["a"],VCard:jr["a"],VCardText:co["b"],VCardTitle:co["c"],VCheckbox:xa["a"],VCombobox:Ma["a"],VContainer:tr["a"],VDialog:Po["a"],VFlex:uo["a"],VIcon:Lr["a"],VLayout:lo["a"],VSelect:lr["a"],VTextField:rr["a"]});var Ia={components:{"book-dialog":Sa,"depedency-editor-dialog":ka},data:function(){return{activeBook:{},bookSearch:"",dependencyEditorDialogOpen:!1,bookDialogOpen:!1,loadingBook:!1}},computed:Object(Rt["a"])(Object(Rt["a"])({},Object(Ne["b"])({authorList:function(e){return e.library.authors},bookList:function(e){return e.library.books},bookcaseList:function(e){return e.library.bookcases},genreList:function(e){return e.library.genres},seriesList:function(e){return e.library.series},shelfList:function(e){return e.library.shelves}})),{},{getHeaders:function(){return[{value:"title",alignment:"left",text:"Title"},{value:"authors",alignment:"left",text:"Authors"},{value:"edition",alignment:"left",text:"Edition",class:"hidden-sm-and-down"},{value:"genres",alignment:"left",text:"Genres",class:"hidden-xs-only"},{value:"publicationDate",alignment:"left",text:"Date",class:"hidden-sm-and-down"},{value:"hardcover",alignment:"left",text:"Hardcover",class:"hidden-xs-only"},{value:"isRead",alignment:"left",text:"Read",class:"hidden-xs-only"},{value:"boxset",alignment:"left",text:"Boxset",class:"hidden-sm-and-down"},{value:"loaned",alignment:"left",text:"Loaned Out",class:"hidden-sm-and-down"},{value:"bookcase",alignment:"left",text:"Bookcase"},{value:"series",alignment:"left",text:"Series",class:"hidden-xs-only"},{value:"delete",alignment:"left",text:""}]}}),mounted:function(){this.getData()},methods:{getData:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$_console_log("[Library] Get book list"),e.$store.dispatch("getAuthors"),e.$store.dispatch("getBooks"),e.$store.dispatch("getBookcases"),e.$store.dispatch("getGenres"),e.$store.dispatch("getSeries"),e.$store.dispatch("getShelves");case 7:case"end":return t.stop()}}),t)})))()},getCleanDate:function(e){return e?(e=e.toString(),console.log(e),e.endsWith("T00:00:00")?e.substring(0,e.indexOf("T00:00:00")):e):""},setActiveBook:function(e){if(this.activeBook=Object.assign({},e),this.activeBook.publicationDate=this.getCleanDate(this.activeBook.publicationDate),"undefined"!==typeof this.activeBook.bookAuthors&&null!==this.activeBook.bookAuthors){this.activeBook.authors=[];for(var t=0;t<this.activeBook.bookAuthors.length;t++)if("undefined"!==typeof this.activeBook.bookAuthors[t].author&&null!==this.activeBook.bookAuthors[t].author){var n=this.activeBook.bookAuthors[t].author;n.fromAutocomplete=!0,this.activeBook.authors.push(n)}}if("undefined"!==typeof this.activeBook.bookGenres&&null!==this.activeBook.bookGenres){this.activeBook.genres=[];for(var r=0;r<this.activeBook.bookGenres.length;r++)"undefined"!==typeof this.activeBook.bookGenres[r].genre&&null!==this.activeBook.bookGenres[r].genre&&this.activeBook.genres.push(this.activeBook.bookGenres[r].genre)}delete this.activeBook.bookAuthors,delete this.activeBook.bookGenres},openAddOrEditBookDialog:function(e,t){if(this.$_console_log("[Library] Open add or edit dialog"),this.$_console_log(e),null!==t&&(t.target.classList.contains("v-btn__content")||t.target.parentNode.classList.contains("v-btn__content")||t.target.parentNode.parentNode.classList.contains("v-btn__content")))this.$_console_log("Some button was pressed, don't open the dialog.");else{if("undefined"===typeof e||null===e)this.$_console_log("[Library] OpenAddOrEditBookDialog: Object is null or undefined"),this.activeBook=null;else{var n=this;this.loadingBook=!0,setTimeout((function(){n.setActiveBook(e),setTimeout((function(){n.loadingBook=!1}),15)}),5)}this.bookDialogOpen=!0}},getTitle:function(e){if("undefined"!==typeof e&&null!==e)return"undefined"===typeof e.subTitle||null===e.subTitle||""===e.subTitle?e.title:"".concat(e.title," : ").concat(e.subTitle)},deleteBook:function(e){var t=this;"undefined"!==typeof e&&null!==e&&this.$store.dispatch("deleteBook",e.id).then((function(e){t.$store.dispatch("pushNotification",{text:"Successfully deleted the book from the list",type:0,group:{type:"library-book",value:"delete"}})})).catch((function(){t.$store.dispatch("pushNotification",{text:"Failed to delete the book from the list",type:2,group:{type:"library-book",value:"delete"}})}))},getBookcaseName:function(e){if("undefined"!==typeof e&&null!==e&&"undefined"!==e.bookcase&&null!==e.bookcase)return e.bookcase.name},hasSeriesInfo:function(e){return"undefined"!==typeof e&&null!==e&&"undefined"!==e.series&&null!==e.series},getPublicationDate:function(e){if(null===e)return"";var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(aa(t.getMonth()),"-").concat(aa(t.getDate()))},closeDependencyEditorDialogWindow:function(){this.$_console_log("[Close Depedency Editor Dialog Window] Reset value is:"),this.dependencyEditorDialogOpen=!1},closeBookDialogWindow:function(e){this.$_console_log("[Close Book Dialog Window] Reset value is: ".concat(e)),this.bookDialogOpen=!1,this.activeBook=null}}},Ea=Ia,Ta=Object(k["a"])(Ea,Zi,ea,!1,null,null,null),Va=Ta.exports;Xn()(Ta,{VBtn:er["a"],VContainer:tr["a"],VDataTable:Ji["a"],VFlex:uo["a"],VTextField:rr["a"]});var Da=[{path:"/",name:"index",component:j,display:"Login",meta:{authLevel:v.Level.Default},children:[{path:"login",name:"login",component:sr,display:"Login"},{path:"register",name:"register",component:hr,display:"Register"}]},{path:"/home",name:"home",component:Kr,display:"Home",meta:{authLevel:v.Level.Default},children:[{path:"start",name:"start",component:ro,display:"Home",meta:{authLevel:v.Level.Default,hidden:!1}},{path:"profile",name:"profile",component:fo,display:"Profile",meta:{authLevel:v.Level.Default,hidden:!0}},{path:"admin-tools",name:"admin-tools",component:wo,display:"Admin Tools",meta:{authLevel:v.Level.Admin,hidden:!1}},{path:"chat",name:"chat",component:ns,display:"Chat",meta:{authLevel:v.Level.General,hidden:!1}},{path:"browser",name:"browser",component:oi,display:"Browser",meta:{authLevel:v.Level.General,hidden:!1}},{path:"browser/:folder*",name:"browser-folder",component:oi,display:"Browser",meta:{relative:"browser",authLevel:v.Level.General,hidden:!0}},{path:"notes",name:"notes",component:ki,display:"Notes",meta:{authLevel:v.Level.General,hidden:!1}},{path:"doc",name:"documentation",component:Ci,display:"Documentation",meta:{authLevel:v.Level.General,hidden:!0},children:[{path:":id",name:"documentation-item",component:Bi,display:"Documentation",meta:{relative:"documentation",authLevel:v.Level.General,hidden:!0}}]},{path:"weight",name:"weight",component:Xi,display:"Weight",meta:{authLevel:v.Level.General,hidden:!1}},{path:"library",name:"library",component:Va,display:"Library",meta:{authLevel:v.Level.General,hidden:!1}}]}];o["default"].use(g["a"]);var Ba=new g["a"]({mode:"history",routes:Da});Ba.beforeEach((function(e,t,n){var r=zn.state.auth.role,o=Yn.methods.$_auth_convertRole(r);He.methods.$_console_log("To:",e),o===v.Level.Admin||"index"===e.name||"login"===e.name||"register"==e.name||e.meta.authLevel===v.Level.None||!0===zn.state.auth.isAuthorize&&e.meta.authLevel<=v.Level.Default?n():!0===zn.state.auth.isAuthorize&&e.meta.authLevel>o?(He.methods.$_console_log("[Router] beforeEach: DENIED. User is not authorized or does not have sufficient access level"),n("/home/start")):vr.methods.$_module_userHasModule(e)?n():(He.methods.$_console_log("[Router] beforeEach: DENIED. User does not have access to this module"),n(!1))}));var Na=Ba,Fa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("v-app",[n("router-view")],1)],1)},Pa=[],Ua={data:function(){return{}},created:function(){this.refreshTokenJob()},methods:{refreshTokenJob:function(){var e=this;Object(br["setTimeout"])((function(){if(e.$store.state.auth.isAuthorize){var t=gt(e.$store.state.auth.accessToken),n=(new Date).getTime()/1e3;n+b.RefreshTokenTimer/1e3>=t.exp&&(e.$_console_log("Token timeout is about to be reached. Getting new token"),e.$store.dispatch("refreshToken").then((function(){})).catch((function(){return e.$_console_log("Failed to get time released refresh token")})))}e.refreshTokenJob()}),b.RefreshTokenTimer)}}},Wa=Ua,Ha=n("7496"),qa=Object(k["a"])(Wa,Fa,Pa,!1,null,null,null),Ga=qa.exports;Xn()(qa,{VApp:Ha["a"]});var za=n("4f89"),Ya=n.n(za);o["default"].use(i.a),o["default"].use(Ya.a),o["default"].use(p),o["default"].component("fa-icon",c["a"]),o["default"].mixin(He),Object(a["sync"])(zn,Na),o["default"].config.productionTip=!1,new o["default"]({vuetify:f,store:zn,router:Na,render:function(e){return e(Ga)}}).$mount("#app")},5787:function(e,t,n){"use strict";n("0c8b")},7967:function(e){e.exports=JSON.parse('[{"id":"Ipsum","title":"Your title","topic":"Your topic","sections":[{"title":"Section title","paragraphs":[{"text":"Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum ","style":"red--text text-xs-center "},{"text":"Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum ","style":"blue--text text-xs-right"},{"text":"Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum ","style":"green--text text-xs-left"},{"text":"Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum ","style":"black--text purple--lighten-3"}]}]},{"id":"Two","title":"Your title2","topic":"Your topic2","sections":[{"title":"Section title2","paragraphs":[{"text":"Paragraph 1 Section 2","style":"orange--text text-xs-left"},{"text":"Paragraph 2 Section 2","style":"orange--text text-xs-left"},{"text":"Paragraph 3 Section 2","style":"orange--text text-xs-left"},{"text":"Paragraph 4 Section 2","style":"orange--text purple--left-3"}]}]},{"id":"Three","title":"It\'s another title!","topic":"Some random topic or heading or whatever you know","sections":[{"title":"Section start:","paragraphs":[{"text":"Paragraph 1 Section 1","style":"orange--text text-xs-left"},{"text":"Paragraph 2 Section 1","style":"orange--text text-xs-left"},{"text":"Paragraph 3 Section 1","style":"orange--text text-xs-left"},{"text":"Paragraph 4 Section 1","style":"orange--text purple--left-3"}]},{"title":"Section start2:","paragraphs":[{"text":"Paragraph 1 Section 2","style":"blue--text text-xs-left"},{"text":"Paragraph 2 Section 2","style":"blue--text text-xs-left"},{"text":"Paragraph 3 Section 2","style":"blue--text text-xs-left"},{"text":"Paragraph 4 Section 2","style":"blue--text purple--left-3"}]},{"title":"Section start3:","paragraphs":[{"text":"Paragraph 1 Section 3","style":"purple--text text-xs-left"},{"text":"Paragraph 2 Section 3","style":"purple--text text-xs-left"},{"text":"Paragraph 3 Section 3","style":"purple--text text-xs-left"},{"text":"Paragraph 4 Section 3","style":"purple--text text-xs-left"}]},{"title":"Section start4:","paragraphs":[{"text":"Paragraph 1 Section 4","style":"red--text text-xs-left"},{"text":"Paragraph 2 Section 4","style":"red--text text-xs-left"},{"text":"Paragraph 3 Section 4","style":"red--text text-xs-left"},{"text":"Paragraph 4 Section 4","style":"red--text purple--left-3"}]}]}]')},"8bdb":function(e,t,n){"use strict";n("0496")},"8ec8":function(e,t,n){"use strict";n("caa6")},"9f66":function(e,t,n){"use strict";n("f37e")},a02e:function(e,t,n){},adb8:function(e,t,n){},b2fa:function(e,t,n){},bbb5:function(e,t,n){"use strict";n("2904")},c084:function(e,t,n){"use strict";n("49f5")},caa6:function(e,t,n){},cd52:function(e,t,n){"use strict";n("b2fa")},cf39:function(e,t,n){},e29a:function(e,t,n){"use strict";n("0e08")},f37e:function(e,t,n){},fe55:function(e,t,n){}});
//# sourceMappingURL=app.47ead7a2.js.map